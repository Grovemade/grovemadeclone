'use strict';

angular.module('grovemade', ['ui.router']).config(function ($stateProvider, $urlRouterProvider) {

  $urlRouterProvider.otherwise('/');

  $stateProvider.state('home', {
    url: '/',
    templateUrl: './templates/home.html',
    controller: 'homeCtrl'
  }).state('shop', {
    url: '/shop',
    templateUrl: './templates/shop.html',
    controller: 'shopCtrl'
  }).state('about', {
    url: '/about',
    templateUrl: './templates/about.html',
    controller: 'aboutCtrl'
  }).state('journal', {
    url: '/journal',
    templateUrl: './templates/journal.html',
    controller: 'journalCtrl'
  }).state('1', {
    url: '/journal/desk-ergonomics',
    templateUrl: './templates/desk-ergonomics.html',
    controller: 'journalCtrl'
  }).state('2', {
    url: '/journal/love-your-work',
    templateUrl: './templates/love-your-work.html',
    controller: 'journalCtrl'
  }).state('3', {
    url: '/journal/designing-the-wood-watch-02',
    templateUrl: './templates/designing-the-wood-watch-02.html',
    controller: 'journalCtrl'
  }).state('product', {
    url: '/product/:id',
    templateUrl: '/templates/product.html',
    controller: 'productCtrl'
  });
});
'use strict';

angular.module('grovemade').service('homeSrvc', function ($http) {

  this.getShop = function () {
    return $http({
      method: 'GET',
      url: '/shop'
    }).then(function (response) {
      console.log('SRVC', response);
      return response;
    });
  };

  this.getAboutPage = function () {
    return $http({
      method: 'GET',
      url: '/about'
    }).then(function (response) {
      console.log('SRVC', response);
      return response;
    });
  };

  this.getJournal = function () {
    return $http({
      method: 'GET',
      url: '/journal'
    }).then(function (response) {
      console.log('SRVC', response);
      return response;
    });
  };

  this.getAttributes = function (id) {
    return $http({
      method: 'GET',
      url: '/attributes/' + id
    });
  };

  this.getProduct = function (id) {
    return $http({
      method: 'GET',
      url: '/product/' + id
    }).then(function (response) {
      console.log('SRVC product', response);
      return response;
    });
  };

  this.getCarousel = function (id) {
    return $http({
      method: 'GET',
      url: '/carousel/' + id
    }).then(function (response) {
      console.log('SRVC carousel', response);
      return response;
    });
  };

  this.getSizes = function (id) {
    return $http({
      method: 'GET',
      url: '/sizes/' + id
    }).then(function (response) {
      console.log('SRVC sizes', response);
      return response;
    });
  };

  this.getImages = function (size) {
    var id = size.id;
    return $http({
      method: 'GET',
      url: '/images/' + id
    }).then(function (response) {
      console.log('SRVC images', response);
      return response;
    });
  };
});
'use strict';

angular.module('grovemade').controller('aboutCtrl', function ($scope, homeSrvc, $stateParams, $timeout) {
  window.scrollTo(0, 0);

  homeSrvc.getAboutPage().then(function (response) {
    $scope.employees = response.data;
    console.log('CTRL', $scope.employees);
  });

  $scope.showEmployee = function (id) {
    homeSrvc.getAttributes(id).then(function (res) {
      $scope.attributes = res.data;
      console.log(res.data);
    });
  };

  $scope.hideEmployee = function () {
    $scope.selected = -1;
    for (var i = 6; i < 18; i++) {
      $('#test' + i).removeClass('moveDown animated slideInDown');
    }
    $('.our-story').removeClass('moveDown animated slideInDown');
  };

  $scope.showDeets = function (i) {
    $scope.selected = i;
    if (i < 6) {
      $('html, body').animate({
        scrollTop: $("body").offset().top + 1850
      }, 800);
      for (var j = 6; j < 12; j++) {
        console.log('first');
        $('#test' + j).addClass('moveDown animated slideInDown');
      }
      for (var j = 12; j < 18; j++) {
        console.log('second', j);
        $('#test' + j).removeClass('moveDown');
      }
      $('.our-story').removeClass('moveDown animated slideInDown');
    } else if (i > 5 && i < 12) {
      $('html, body').animate({
        scrollTop: $("body").offset().top + 2140
      }, 800);
      for (var x = 12; x < 18; x++) {
        $('#test' + x).addClass('moveDown animated slideInDown');
      }
      for (var x = 6; x < 12; x++) {
        $('#test' + x).removeClass('moveDown');
      }
      $('our-story').removeClass('moveDown animated slideInDown');
    } else {
      $('html, body').animate({
        scrollTop: $("body").offset().top + 2430
      }, 800);
      for (var z = 6; z < 18; z++) {
        $('#test' + z).removeClass('moveDown');
      }
      $('.our-story').addClass('moveDown animated slideInDown');
    }
  };

  $(document).on("mouseover", "#employee-hover", function () {
    $(this).addClass('animated fadeOut');
  });
  $(document).on("mouseleave", "#employee-hover", function () {
    $(this).removeClass('animated fadeOut');
    $(this).addClass('animated fadeIn');
  });
});
'use strict';

angular.module('grovemade').controller('carouselCtrl', function ($scope) {});
'use strict';

angular.module('grovemade').controller('homeCtrl', function ($scope, $stateParams, $interval, $timeout) {
  $scope.myInterval = 3000;
  var index = -1;
  $scope.slides = [{
    image: '/img/homemarq-walnut-desk-collection-G2_1.jpg',
    title: 'DESK COLLECTION',
    color: 'IN WALNUT OR MAPLE'
  }, {
    image: '/img/homemarq-watch-02-A3_1.jpg',
    title: 'WOOD WATCH',
    color: 'MODEL 02'
  }, {
    image: '/img/homemarq-wallet-A4_1.jpg',
    title: 'EVERYDAY CARRY',
    color: 'COLLECTION'
  }, {
    image: '/img/homemarq-wallet-case-A2_1.jpg',
    title: 'WALLET CASE',
    color: 'FOR iPHONE 6 & 7'
  }, {
    image: '/img/homemarq-wood-iphone-6-case-B2_1.jpg',
    title: 'iPHONE   7 CASES',
    color: 'IN WALNUT OR MAPLE'

  }, {
    image: '/img/homemarq-bifold-wallet-E1_1.jpg',
    title: 'BIFOLD WALLET',
    color: 'IN BLACK OR TAN'
  }, {
    image: '/img/homemarq-wood-speakers-A1_2.jpg',
    title: 'WOOD SPEAKERS',
    color: 'IN WALNUT OR MAPLE'
  }];
  $scope.photoClass = [];
  var timer = $interval(function () {
    $scope.next();
  }, 5000);
  $scope.stop = function () {
    $interval.cancel(timer);
  };
  $scope.next = function () {
    index++;
    if (index > 6) {
      index = 0;
    }
    $scope.nextPhoto = $scope.slides[index].image;
    $scope.nextTitle = $scope.slides[index].title;
    $scope.nextColor = $scope.slides[index].color;

    $scope.photoClass.splice(0, 1, 'animated fadeOut');
    $timeout(function () {
      $scope.photoClass.splice(0, 1, 'animated fadeIn');
      $scope.selected = $scope.slides[index].image;
      $scope.title = $scope.slides[index].title;
      $scope.color = $scope.slides[index].color;
    }, 500);
  };

  $scope.previous = function () {
    index--;
    if (index < 0) {
      index = 6;
    }
    $scope.nextPhoto = $scope.slides[index].image;
    $scope.nextTitle = $scope.slides[index].title;
    $scope.nextColor = $scope.slides[index].color;

    $scope.photoClass.splice(0, 1, 'animated fadeOut');
    $timeout(function () {
      $scope.photoClass.splice(0, 1, 'animated fadeIn');
      $scope.selected = $scope.slides[index].image;
      $scope.title = $scope.slides[index].title;
      $scope.color = $scope.slides[index].color;
    }, 500);
  };
  $scope.next();
});
'use strict';

angular.module('grovemade').controller('journalCtrl', function ($scope, homeSrvc, $stateParams) {

  homeSrvc.getJournal().then(function (response) {
    $scope.journal = response.data;
    console.log('CTRL', $scope.journal);
  });
  // upon hover, the selected index is pushing the animate.css  fade to the covering array
  $scope.covering = [];
  $scope.onHover = function (i) {
    $scope.selected = i;
    $scope.covering.push('cover animated fadeIn2');
  };
  // upon mouse leave, the selected index we are on will take away the animate.css
  $scope.onLeave = function (i) {
    $scope.selected = i;
    $scope.covering.splice(0);
  };
});
'use strict';

angular.module('grovemade').controller('productCtrl', function ($scope, homeSrvc, $stateParams) {

  homeSrvc.getProduct($stateParams.id).then(function (response) {
    $scope.item = response.data;
    console.log('DETAILs', $scope.item);
  });

  homeSrvc.getCarousel($stateParams.id).then(function (response) {
    console.log('PRODUCT ID', $stateParams.id);
    $scope.carousels = response.data;
    console.log('CAROUSEL', $scope.carousels);
  });

  homeSrvc.getSizes($stateParams.id).then(function (response) {
    $scope.sizes = response.data;
    console.log('SIZES', $scope.sizes);
  });

  $scope.getImages = function (size) {
    homeSrvc.getImages(size).then(function (response) {
      console.log('SIZE ID', size);
      $scope.images = response.data;
      console.log('IMAGES', $scope.images);
    }).catch(function (err) {
      console.log(err);
    });
  };
}); //end of controller
'use strict';

angular.module('grovemade').controller('shopCtrl', function ($scope, homeSrvc, $stateParams) {

  homeSrvc.getShop().then(function (response) {
    $scope.products = response.data;
  });

  $(document).on("mouseover", "#unique", function () {
    $(this).addClass('animated fadeOut');
  });
  $(document).on("mouseleave", "#unique", function () {
    $(this).removeClass('animated fadeOut');
    $(this).addClass('animated fadeIn');
  });

  // $(document).on("mouseover", ".product-link", function() {
  //   $('#info').addClass('reveal animated fadeIn')
  //   $('#info').removeClass('hidden')
  // });
  // $(document).on("mouseleave", ".product-link", function() {
  //   $('#info').removeClass('reveal animated fadeIn ')
  //   $('#info').addClass('hidden animated fadeOut')
  // });
});
'use strict';

angular.module('grovemade').directive('customfooter', function () {
  return {
    templateUrl: './templates/footer.html',
    // the controller is for the arrow button to take us to the top of the page
    controller: function controller($scope) {
      $scope.scrollTop = function () {
        window.scrollTo(0, 0);
      };
    }
  };
});
"use strict";
'use strict';

angular.module('grovemade').directive('navbar', function () {
  return {
    templateUrl: './templates/navbar.html',
    controller: function controller($state, $rootScope) {
      $(document).ready(function () {
        $('.nav').removeClass('sticky-nav');
        var scroll_pos = 0;
        $(document).scroll(function () {
          scroll_pos = $(this).scrollTop();
          if (scroll_pos > 20) {
            $('.nav').addClass('sticky-nav');
          } else {
            $('.nav').removeClass('sticky-nav');
          }
        });
      });

      // var isActive = false;

      $('.newsletter-open').on('click', function () {
        // isActive = !isActive;
        // if (isActive) {
        // console.log(isActive);
        $('.newsletter-wrapper').removeClass('hide-newsletter');
        // } else {
        // $('.newsletter-wrapper').addClass('hide-newsletter');
        // }
      });

      $('.newsletter-close').on('click', function () {
        // isActive = !isActive;
        // if (!isActive) {
        $('.newsletter-wrapper').addClass('hide-newsletter');
        // } else {
        // $('.newsletter-wrapper').removeClass('hide-newsletter');
        // }
      });

      $('.nav-cart').on('mouseover', function () {
        $('.sticky-cart').fadeIn();
      });
      $('.sticky-cart').mouseleave(function () {
        $('.sticky-cart').fadeOut();
      });
    } //end of controller
  };
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsInNlcnZpY2VzL2hvbWVTZXJ2aWNlLmpzIiwiY29udHJvbGxlcnMvYWJvdXRDdHJsLmpzIiwiY29udHJvbGxlcnMvY2Fyb3VzZWxDdHJsLmpzIiwiY29udHJvbGxlcnMvaG9tZUN0cmwuanMiLCJjb250cm9sbGVycy9qb3VybmFsQ3RybC5qcyIsImNvbnRyb2xsZXJzL3Byb2R1Y3RDdHJsLmpzIiwiY29udHJvbGxlcnMvc2hvcEN0cmwuanMiLCJkaXJlY3RpdmVzL2Zvb3Rlci5qcyIsImRpcmVjdGl2ZXMvaG9tZURpcmVjdGl2ZS5qcyIsImRpcmVjdGl2ZXMvbmF2YmFyLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIm90aGVyd2lzZSIsInN0YXRlIiwidXJsIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwic2VydmljZSIsIiRodHRwIiwiZ2V0U2hvcCIsIm1ldGhvZCIsInRoZW4iLCJyZXNwb25zZSIsImNvbnNvbGUiLCJsb2ciLCJnZXRBYm91dFBhZ2UiLCJnZXRKb3VybmFsIiwiZ2V0QXR0cmlidXRlcyIsImlkIiwiZ2V0UHJvZHVjdCIsImdldENhcm91c2VsIiwiZ2V0U2l6ZXMiLCJnZXRJbWFnZXMiLCJzaXplIiwiJHNjb3BlIiwiaG9tZVNydmMiLCIkc3RhdGVQYXJhbXMiLCIkdGltZW91dCIsIndpbmRvdyIsInNjcm9sbFRvIiwiZW1wbG95ZWVzIiwiZGF0YSIsInNob3dFbXBsb3llZSIsInJlcyIsImF0dHJpYnV0ZXMiLCJoaWRlRW1wbG95ZWUiLCJzZWxlY3RlZCIsImkiLCIkIiwicmVtb3ZlQ2xhc3MiLCJzaG93RGVldHMiLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwib2Zmc2V0IiwidG9wIiwiaiIsImFkZENsYXNzIiwieCIsInoiLCJkb2N1bWVudCIsIm9uIiwiJGludGVydmFsIiwibXlJbnRlcnZhbCIsImluZGV4Iiwic2xpZGVzIiwiaW1hZ2UiLCJ0aXRsZSIsImNvbG9yIiwicGhvdG9DbGFzcyIsInRpbWVyIiwibmV4dCIsInN0b3AiLCJjYW5jZWwiLCJuZXh0UGhvdG8iLCJuZXh0VGl0bGUiLCJuZXh0Q29sb3IiLCJzcGxpY2UiLCJwcmV2aW91cyIsImpvdXJuYWwiLCJjb3ZlcmluZyIsIm9uSG92ZXIiLCJwdXNoIiwib25MZWF2ZSIsIml0ZW0iLCJjYXJvdXNlbHMiLCJzaXplcyIsImltYWdlcyIsImNhdGNoIiwiZXJyIiwicHJvZHVjdHMiLCJkaXJlY3RpdmUiLCIkc3RhdGUiLCIkcm9vdFNjb3BlIiwicmVhZHkiLCJzY3JvbGxfcG9zIiwic2Nyb2xsIiwiZmFkZUluIiwibW91c2VsZWF2ZSIsImZhZGVPdXQiXSwibWFwcGluZ3MiOiI7O0FBQUFBLFFBQVFDLE1BQVIsQ0FBZSxXQUFmLEVBQTRCLENBQUMsV0FBRCxDQUE1QixFQUNDQyxNQURELENBQ1EsVUFBU0MsY0FBVCxFQUF5QkMsa0JBQXpCLEVBQTRDOztBQUVsREEscUJBQW1CQyxTQUFuQixDQUE2QixHQUE3Qjs7QUFFQUYsaUJBQ0NHLEtBREQsQ0FDTyxNQURQLEVBQ2U7QUFDYkMsU0FBSSxHQURTO0FBRWJDLGlCQUFZLHVCQUZDO0FBR2JDLGdCQUFXO0FBSEUsR0FEZixFQU9DSCxLQVBELENBT08sTUFQUCxFQU9lO0FBQ2JDLFNBQUksT0FEUztBQUViQyxpQkFBWSx1QkFGQztBQUdiQyxnQkFBVztBQUhFLEdBUGYsRUFhQ0gsS0FiRCxDQWFPLE9BYlAsRUFhZ0I7QUFDZEMsU0FBSSxRQURVO0FBRWRDLGlCQUFZLHdCQUZFO0FBR2RDLGdCQUFXO0FBSEcsR0FiaEIsRUFtQkNILEtBbkJELENBbUJPLFNBbkJQLEVBbUJrQjtBQUNoQkMsU0FBSSxVQURZO0FBRWhCQyxpQkFBWSwwQkFGSTtBQUdoQkMsZ0JBQVc7QUFISyxHQW5CbEIsRUF5QkNILEtBekJELENBeUJPLEdBekJQLEVBeUJZO0FBQ1ZDLFNBQUksMEJBRE07QUFFVkMsaUJBQVksa0NBRkY7QUFHVkMs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QUYsRUFBVUMsV0FBVixDQUFzQixZQUF0QjtBQUNBLFlBQUk2QyxhQUFhLENBQWpCO0FBQ0E5QyxVQUFFVyxRQUFGLEVBQVlvQyxNQUFaLENBQW1CLFlBQVc7QUFDMUJELHVCQUFhOUMsRUFBRSxJQUFGLEVBQVFJLFNBQVIsRUFBYjtBQUNBLGNBQUcwQyxhQUFhLEVBQWhCLEVBQW9CO0FBQ2xCOUMsY0FBRSxNQUFGLEVBQVVRLFFBQVYsQ0FBbUIsWUFBbkI7QUFDRCxXQUZELE1BRU87QUFDTFIsY0FBRSxNQUFGLEVBQVVDLFdBQVYsQ0FBc0IsWUFBdEI7QUFDRDtBQUNKLFNBUEQ7QUFRRCxPQVhEOztBQWFBOztBQUVBRCxRQUFFLGtCQUFGLEVBQXNCWSxFQUF0QixDQUF5QixPQUF6QixFQUFrQyxZQUFXO0FBQzNDO0FBQ0Q7QUFDRztBQUNBWixVQUFFLHFCQUFGLEVBQXlCQyxXQUF6QixDQUFxQyxpQkFBckM7QUFDSDtBQUNDO0FBQ0Q7QUFFQSxPQVREOztBQVdBRCxRQUFFLG1CQUFGLEVBQXVCWSxFQUF2QixDQUEwQixPQUExQixFQUFtQyxZQUFXO0FBQzVDO0FBQ0Q7QUFDR1osVUFBRSxxQkFBRixFQUF5QlEsUUFBekIsQ0FBa0MsaUJBQWxDO0FBQ0g7QUFDQztBQUNEO0FBQ0EsT0FQRDs7QUFTQVIsUUFBRSxXQUFGLEVBQWVZLEVBQWYsQ0FBa0IsV0FBbEIsRUFBOEIsWUFBVTtBQUN0Q1osVUFBRSxjQUFGLEVBQWtCZ0QsTUFBbEI7QUFDRCxPQUZEO0FBR0FoRCxRQUFFLGNBQUYsRUFBa0JpRCxVQUFsQixDQUE2QixZQUFVO0FBQ3JDakQsVUFBRSxjQUFGLEVBQWtCa0QsT0FBbEI7QUFDRCxPQUZEO0FBSUQsS0E3Q0csQ0E2Q0g7QUE3Q0csR0FBTjtBQStDRCxDQWhERCIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyLm1vZHVsZSgnZ3JvdmVtYWRlJywgWyd1aS5yb3V0ZXInXSlcclxuLmNvbmZpZyhmdW5jdGlvbigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKXtcclxuXHJcbiAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnLycpXHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyXHJcbiAgLnN0YXRlKCdob21lJywge1xyXG4gICAgdXJsOicvJyxcclxuICAgIHRlbXBsYXRlVXJsOicuL3RlbXBsYXRlcy9ob21lLmh0bWwnLFxyXG4gICAgY29udHJvbGxlcjonaG9tZUN0cmwnXHJcbiAgfSlcclxuXHJcbiAgLnN0YXRlKCdzaG9wJywge1xyXG4gICAgdXJsOicvc2hvcCcsXHJcbiAgICB0ZW1wbGF0ZVVybDonLi90ZW1wbGF0ZXMvc2hvcC5odG1sJyxcclxuICAgIGNvbnRyb2xsZXI6J3Nob3BDdHJsJ1xyXG4gIH0pXHJcblxyXG4gIC5zdGF0ZSgnYWJvdXQnLCB7XHJcbiAgICB1cmw6Jy9hYm91dCcsXHJcbiAgICB0ZW1wbGF0ZVVybDonLi90ZW1wbGF0ZXMvYWJvdXQuaHRtbCcsXHJcbiAgICBjb250cm9sbGVyOidhYm91dEN0cmwnXHJcbiAgfSlcclxuXHJcbiAgLnN0YXRlKCdqb3VybmFsJywge1xyXG4gICAgdXJsOicvam91cm5hbCcsXHJcbiAgICB0ZW1wbGF0ZVVybDonLi90ZW1wbGF0ZXMvam91cm5hbC5odG1sJyxcclxuICAgIGNvbnRyb2xsZXI6J2pvdXJuYWxDdHJsJ1xyXG4gIH0pXHJcblxyXG4gIC5zdGF0ZSgnMScsIHtcclxuICAgIHVybDonL2pvdXJuYWwvZGVzay1lcmdvbm9taWNzJyxcclxuICAgIHRlbXBsYXRlVXJsOicuL3RlbXBsYXRlcy9kZXNrLWVyZ29ub21pY3MuaHRtbCcsXHJcbiAgICBjb250cm9sbGVyOidqb3VybmFsQ3RybCdcclxuICB9KVxyXG5cclxuICAuc3RhdGUoJzInLCB7XHJcbiAgICB1cmw6Jy9qb3VybmFsL2xvdmUteW91ci13b3JrJyxcclxuICAgIHRlbXBsYXRlVXJsOicuL3RlbXBsYXRlcy9sb3ZlLXlvdXItd29yay5odG1sJyxcclxuICAgIGNvbnRyb2xsZXI6J2pvdXJuYWxDdHJsJ1xyXG4gIH0pXHJcblxyXG4gIC5zdGF0ZSgnMycsIHtcclxuICAgIHVybDonL2pvdXJuYWwvZGVzaWduaW5nLXRoZS13b29kLXdhdGNoLTAyJyxcclxuICAgIHRlbXBsYXRlVXJsOicuL3RlbXBsYXRlcy9kZXNpZ25pbmctdGhlLXdvb2Qtd2F0Y2gtMDIuaHRtbCcsXHJcbiAgICBjb250cm9sbGVyOidqb3VybmFsQ3RybCdcclxuICB9KVxyXG5cclxuICAuc3RhdGUoJ3Byb2R1Y3QnLCB7XHJcbiAgICB1cmw6ICcvcHJvZHVjdC86aWQnLFxyXG4gICAgdGVtcGxhdGVVcmw6ICcvdGVtcGxhdGVzL3Byb2R1Y3QuaHRtbCcsXHJcbiAgICBjb250cm9sbGVyOiAncHJvZHVjdEN0cmwnXHJcbiAgfSlcclxuXHJcblxyXG5cclxufSlcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2dyb3ZlbWFkZScpLnNlcnZpY2UoJ2hvbWVTcnZjJywgZnVuY3Rpb24oJGh0dHApIHtcclxuXHJcbiAgdGhpcy5nZXRTaG9wID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuICRodHRwKHtcclxuICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgdXJsOiAnL3Nob3AnXHJcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZygnU1JWQycsIHJlc3BvbnNlKTtcclxuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5nZXRBYm91dFBhZ2UgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gJGh0dHAoe1xyXG4gICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICB1cmw6ICcvYWJvdXQnXHJcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZygnU1JWQycsIHJlc3BvbnNlKTtcclxuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5nZXRKb3VybmFsID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuICRodHRwKHtcclxuICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgdXJsOiAnL2pvdXJuYWwnXHJcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZygnU1JWQycsIHJlc3BvbnNlKTtcclxuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5nZXRBdHRyaWJ1dGVzID0gKGlkKSA9PiB7XHJcbiAgICByZXR1cm4gJGh0dHAoe1xyXG4gICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICB1cmw6ICcvYXR0cmlidXRlcy8nICsgaWRcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG5cclxuICB0aGlzLmdldFByb2R1Y3QgPSAoaWQpID0+IHtcclxuICAgIHJldHVybiAkaHR0cCh7XHJcbiAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgIHVybDogJy9wcm9kdWN0LycgKyBpZFxyXG4gICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coJ1NSVkMgcHJvZHVjdCcsIHJlc3BvbnNlKTtcclxuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5nZXRDYXJvdXNlbCA9IChpZCkgPT4ge1xyXG4gICAgcmV0dXJuICRodHRwKHtcclxuICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgdXJsOiAnL2Nhcm91c2VsLycgKyBpZFxyXG4gICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coJ1NSVkMgY2Fyb3VzZWwnLCByZXNwb25zZSk7XHJcbiAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHRoaXMuZ2V0U2l6ZXMgPSAoaWQpID0+IHtcclxuICAgIHJldHVybiAkaHR0cCh7XHJcbiAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgIHVybDogJy9zaXplcy8nICsgaWRcclxuICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdTUlZDIHNpemVzJywgcmVzcG9uc2UpO1xyXG4gICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICAgdGhpcy5nZXRJbWFnZXMgPSAoc2l6ZSkgPT4ge1xyXG4gICAgIGxldCBpZCA9IHNpemUuaWQ7XHJcbiAgICByZXR1cm4gJGh0dHAoe1xyXG4gICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICB1cmw6ICcvaW1hZ2VzLycgKyBpZFxyXG4gICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coJ1NSVkMgaW1hZ2VzJywgcmVzcG9uc2UpO1xyXG4gICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuXHJcblxyXG5cclxuXHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnZ3JvdmVtYWRlJylcclxuLmNvbnRyb2xsZXIoJ2Fib3V0Q3RybCcsICgkc2NvcGUsIGhvbWVTcnZjLCAkc3RhdGVQYXJhbXMsICR0aW1lb3V0KSA9PiB7XHJcbiAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xyXG5cclxuICBob21lU3J2Yy5nZXRBYm91dFBhZ2UoKS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgJHNjb3BlLmVtcGxveWVlcyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICBjb25zb2xlLmxvZygnQ1RSTCcsICRzY29wZS5lbXBsb3llZXMpO1xyXG4gIH0pXHJcblxyXG4gICRzY29wZS5zaG93RW1wbG95ZWU9ZnVuY3Rpb24oaWQpe1xyXG4gICAgaG9tZVNydmMuZ2V0QXR0cmlidXRlcyhpZCkudGhlbihmdW5jdGlvbihyZXMpe1xyXG4gICAgICAkc2NvcGUuYXR0cmlidXRlcyA9IHJlcy5kYXRhO1xyXG4gICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgJHNjb3BlLmhpZGVFbXBsb3llZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgJHNjb3BlLnNlbGVjdGVkID0gLTFcclxuICAgIGZvcih2YXIgaSA9IDY7IGkgPCAxODsgaSsrKXtcclxuICAgICAgJCgnI3Rlc3QnICsgaSkucmVtb3ZlQ2xhc3MoJ21vdmVEb3duIGFuaW1hdGVkIHNsaWRlSW5Eb3duJylcclxuICAgIH1cclxuICAgICQoJy5vdXItc3RvcnknKS5yZW1vdmVDbGFzcygnbW92ZURvd24gYW5pbWF0ZWQgc2xpZGVJbkRvd24nKVxyXG4gIH1cclxuXHJcbiAgJHNjb3BlLnNob3dEZWV0cyA9IGZ1bmN0aW9uKGkpe1xyXG4gICAgICAkc2NvcGUuc2VsZWN0ZWQgPSBpXHJcbiAgICBpZihpIDwgNil7XHJcbiAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcclxuICAgICAgIHNjcm9sbFRvcDogJChcImJvZHlcIikub2Zmc2V0KCkudG9wICsgMTg1MFxyXG4gICB9LCA4MDApO1xyXG4gICBmb3IodmFyIGogPSA2OyBqIDwgMTI7IGorKyl7XHJcbiAgICAgY29uc29sZS5sb2coJ2ZpcnN0Jyk7XHJcbiAgICAgJCgnI3Rlc3QnICsgaikuYWRkQ2xhc3MoJ21vdmVEb3duIGFuaW1hdGVkIHNsaWRlSW5Eb3duJylcclxuICAgfVxyXG4gICBmb3IodmFyIGogPSAxMjsgaiA8IDE4OyBqKyspe1xyXG4gICAgIGNvbnNvbGUubG9nKCdzZWNvbmQnLCBqKTtcclxuICAgICAkKCcjdGVzdCcgKyBqKS5yZW1vdmVDbGFzcygnbW92ZURvd24nKVxyXG4gICB9XHJcbiAgICAkKCcub3VyLXN0b3J5JykucmVtb3ZlQ2xhc3MoJ21vdmVEb3duIGFuaW1hdGVkIHNsaWRlSW5Eb3duJylcclxuICAgIH1cclxuICAgIGVsc2UgaWYoaSA+IDUgJiYgaSA8IDEyKXtcclxuICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe1xyXG4gICAgICAgICAgc2Nyb2xsVG9wOiAkKFwiYm9keVwiKS5vZmZzZXQoKS50b3AgKyAyMTQwXHJcbiAgICAgIH0sIDgwMCk7XHJcbiAgICAgIGZvcih2YXIgeCA9IDEyOyB4IDwgMTg7IHgrKyl7XHJcbiAgICAgICAgJCgnI3Rlc3QnICsgeCkuYWRkQ2xhc3MoJ21vdmVEb3duIGFuaW1hdGVkIHNsaWRlSW5Eb3duJylcclxuICAgICAgfVxyXG4gICAgICBmb3IodmFyIHggPSA2OyB4IDwgMTI7IHgrKyl7XHJcbiAgICAgICAgJCgnI3Rlc3QnICsgeCkucmVtb3ZlQ2xhc3MoJ21vdmVEb3duJylcclxuICAgICAgfVxyXG4gICAgICAkKCdvdXItc3RvcnknKS5yZW1vdmVDbGFzcygnbW92ZURvd24gYW5pbWF0ZWQgc2xpZGVJbkRvd24nKVxyXG4gICAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XHJcbiAgICAgICAgICBzY3JvbGxUb3A6ICQoXCJib2R5XCIpLm9mZnNldCgpLnRvcCArIDI0MzBcclxuICAgICAgfSwgODAwKTtcclxuICAgICAgZm9yKHZhciB6ID0gNjsgeiA8IDE4OyB6KyspIHtcclxuICAgICAgICAkKCcjdGVzdCcgKyB6KS5yZW1vdmVDbGFzcygnbW92ZURvd24nKVxyXG4gICAgICB9XHJcbiAgICAgICAgJCgnLm91ci1zdG9yeScpLmFkZENsYXNzKCdtb3ZlRG93biBhbmltYXRlZCBzbGlkZUluRG93bicpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAkKGRvY3VtZW50KS5vbihcIm1vdXNlb3ZlclwiLCBcIiNlbXBsb3llZS1ob3ZlclwiLCBmdW5jdGlvbigpIHtcclxuICAgICQodGhpcykuYWRkQ2xhc3MoJ2FuaW1hdGVkIGZhZGVPdXQnKVxyXG4gIH0pO1xyXG4gICQoZG9jdW1lbnQpLm9uKFwibW91c2VsZWF2ZVwiLCBcIiNlbXBsb3llZS1ob3ZlclwiLCBmdW5jdGlvbigpIHtcclxuICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2FuaW1hdGVkIGZhZGVPdXQnKVxyXG4gICAgJCh0aGlzKS5hZGRDbGFzcygnYW5pbWF0ZWQgZmFkZUluJylcclxuICB9KVxyXG5cclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdncm92ZW1hZGUnKVxuLmNvbnRyb2xsZXIoJ2Nhcm91c2VsQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSl7XG5cblxuXG5cbiAgICB9KVxuIiwiYW5ndWxhci5tb2R1bGUoJ2dyb3ZlbWFkZScpXG4uY29udHJvbGxlcignaG9tZUN0cmwnLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZVBhcmFtcywgJGludGVydmFsLCAkdGltZW91dCl7XG4gICAgJHNjb3BlLm15SW50ZXJ2YWwgPSAzMDAwO1xuICAgIHZhciBpbmRleCA9IC0xO1xuICAgICRzY29wZS5zbGlkZXMgPSBbXG4gICAgICB7XG4gICAgICAgIGltYWdlOiAnL2ltZy9ob21lbWFycS13YWxudXQtZGVzay1jb2xsZWN0aW9uLUcyXzEuanBnJyxcbiAgICAgICAgdGl0bGU6ICdERVNLIENPTExFQ1RJT04nLFxuICAgICAgICBjb2xvcjogJ0lOIFdBTE5VVCBPUiBNQVBMRSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGltYWdlOiAnL2ltZy9ob21lbWFycS13YXRjaC0wMi1BM18xLmpwZycsXG4gICAgICAgIHRpdGxlOiAnV09PRCBXQVRDSCcsXG4gICAgICAgIGNvbG9yOiAnTU9ERUwgMDInXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpbWFnZTogJy9pbWcvaG9tZW1hcnEtd2FsbGV0LUE0XzEuanBnJyxcbiAgICAgICAgdGl0bGU6ICdFVkVSWURBWSBDQVJSWScsXG4gICAgICAgIGNvbG9yOiAnQ09MTEVDVElPTidcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGltYWdlOiAnL2ltZy9ob21lbWFycS13YWxsZXQtY2FzZS1BMl8xLmpwZycsXG4gICAgICAgIHRpdGxlOiAnV0FMTEVUIENBU0UnLFxuICAgICAgICBjb2xvcjogJ0ZPUiBpUEhPTkUgNiAmIDcnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpbWFnZTogJy9pbWcvaG9tZW1hcnEtd29vZC1pcGhvbmUtNi1jYXNlLUIyXzEuanBnJyxcbiAgICAgICAgdGl0bGU6ICdpUEhPTkUgICA3IENBU0VTJyxcbiAgICAgICAgY29sb3I6ICdJTiBXQUxOVVQgT1IgTUFQTEUnXG5cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGltYWdlOiAnL2ltZy9ob21lbWFycS1iaWZvbGQtd2FsbGV0LUUxXzEuanBnJyxcbiAgICAgICAgdGl0bGU6ICdCSUZPTEQgV0FMTEVUJyxcbiAgICAgICAgY29sb3I6ICdJTiBCTEFDSyBPUiBUQU4nXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpbWFnZTogJy9pbWcvaG9tZW1hcnEtd29vZC1zcGVha2Vycy1BMV8yLmpwZycsXG4gICAgICAgIHRpdGxlOiAnV09PRCBTUEVBS0VSUycsXG4gICAgICAgIGNvbG9yOiAnSU4gV0FMTlVUIE9SIE1BUExFJ1xuICAgICAgfVxuICAgIF07XG4gICAgJHNjb3BlLnBob3RvQ2xhc3MgPSBbXVxuICAgIHZhciB0aW1lciA9ICRpbnRlcnZhbChmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLm5leHQoKVxuICAgIH0sIDUwMDApXG4gICAgJHNjb3BlLnN0b3AgPSBmdW5jdGlvbigpe1xuICAgICAgJGludGVydmFsLmNhbmNlbCh0aW1lcilcbiAgICB9XG4gICAgJHNjb3BlLm5leHQgPSBmdW5jdGlvbigpe1xuICAgICAgaW5kZXgrK1xuICAgICAgaWYoaW5kZXggPiA2KXtcbiAgICAgICAgaW5kZXggPSAwXG4gICAgICB9XG4gICAgICAkc2NvcGUubmV4dFBob3RvID0gJHNjb3BlLnNsaWRlc1tpbmRleF0uaW1hZ2VcbiAgICAgICRzY29wZS5uZXh0VGl0bGUgPSAkc2NvcGUuc2xpZGVzW2luZGV4XS50aXRsZVxuICAgICAgJHNjb3BlLm5leHRDb2xvciA9ICRzY29wZS5zbGlkZXNbaW5kZXhdLmNvbG9yXG5cbiAgICAgICRzY29wZS5waG90b0NsYXNzLnNwbGljZSgwLCAxLCAnYW5pbWF0ZWQgZmFkZU91dCcpXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAkc2NvcGUucGhvdG9DbGFzcy5zcGxpY2UoMCwgMSwgJ2FuaW1hdGVkIGZhZGVJbicpXG4gICAgICAgICRzY29wZS5zZWxlY3RlZCA9ICRzY29wZS5zbGlkZXNbaW5kZXhdLmltYWdlXG4gICAgICAgICRzY29wZS50aXRsZSA9ICRzY29wZS5zbGlkZXNbaW5kZXhdLnRpdGxlXG4gICAgICAgICRzY29wZS5jb2xvciA9ICRzY29wZS5zbGlkZXNbaW5kZXhdLmNvbG9yXG4gICAgICB9LCA1MDApXG4gICAgfVxuXG4gICAgJHNjb3BlLnByZXZpb3VzID0gZnVuY3Rpb24oKXtcbiAgICAgIGluZGV4LS1cbiAgICAgIGlmKGluZGV4IDwgMCl7XG4gICAgICAgIGluZGV4ID0gNlxuICAgICAgfVxuICAgICAgJHNjb3BlLm5leHRQaG90byA9ICRzY29wZS5zbGlkZXNbaW5kZXhdLmltYWdlXG4gICAgICAkc2NvcGUubmV4dFRpdGxlID0gJHNjb3BlLnNsaWRlc1tpbmRleF0udGl0bGVcbiAgICAgICRzY29wZS5uZXh0Q29sb3IgPSAkc2NvcGUuc2xpZGVzW2luZGV4XS5jb2xvclxuXG4gICAgICAkc2NvcGUucGhvdG9DbGFzcy5zcGxpY2UoMCwgMSwgJ2FuaW1hdGVkIGZhZGVPdXQnKVxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgJHNjb3BlLnBob3RvQ2xhc3Muc3BsaWNlKDAsIDEsICdhbmltYXRlZCBmYWRlSW4nKVxuICAgICAgICAkc2NvcGUuc2VsZWN0ZWQgPSAkc2NvcGUuc2xpZGVzW2luZGV4XS5pbWFnZVxuICAgICAgICAkc2NvcGUudGl0bGUgPSAkc2NvcGUuc2xpZGVzW2luZGV4XS50aXRsZVxuICAgICAgICAkc2NvcGUuY29sb3IgPSAkc2NvcGUuc2xpZGVzW2luZGV4XS5jb2xvclxuICAgICAgfSwgNTAwKVxuICAgIH1cbiAgICAkc2NvcGUubmV4dCgpXG59KTtcbiIsImFuZ3VsYXIubW9kdWxlKCdncm92ZW1hZGUnKVxyXG4uY29udHJvbGxlcignam91cm5hbEN0cmwnLCAoJHNjb3BlLCBob21lU3J2YywgJHN0YXRlUGFyYW1zKSA9PiB7XHJcblxyXG5cclxuICBob21lU3J2Yy5nZXRKb3VybmFsKCkudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICRzY29wZS5qb3VybmFsID0gcmVzcG9uc2UuZGF0YTtcclxuICAgIGNvbnNvbGUubG9nKCdDVFJMJywgJHNjb3BlLmpvdXJuYWwpO1xyXG4gIH0pXHJcbiAgLy8gdXBvbiBob3ZlciwgdGhlIHNlbGVjdGVkIGluZGV4IGlzIHB1c2hpbmcgdGhlIGFuaW1hdGUuY3NzICBmYWRlIHRvIHRoZSBjb3ZlcmluZyBhcnJheVxyXG4kc2NvcGUuY292ZXJpbmcgPSBbXTtcclxuJHNjb3BlLm9uSG92ZXIgPSBmdW5jdGlvbihpKXtcclxuICAkc2NvcGUuc2VsZWN0ZWQgPSBpXHJcbiAgJHNjb3BlLmNvdmVyaW5nLnB1c2goJ2NvdmVyIGFuaW1hdGVkIGZhZGVJbjInKVxyXG59XHJcbi8vIHVwb24gbW91c2UgbGVhdmUsIHRoZSBzZWxlY3RlZCBpbmRleCB3ZSBhcmUgb24gd2lsbCB0YWtlIGF3YXkgdGhlIGFuaW1hdGUuY3NzXHJcbiRzY29wZS5vbkxlYXZlID0gZnVuY3Rpb24oaSl7XHJcbiAgJHNjb3BlLnNlbGVjdGVkID0gaVxyXG4gICRzY29wZS5jb3ZlcmluZy5zcGxpY2UoMClcclxufVxyXG5cclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdncm92ZW1hZGUnKVxyXG4uY29udHJvbGxlcigncHJvZHVjdEN0cmwnLCAoJHNjb3BlLCBob21lU3J2YywgJHN0YXRlUGFyYW1zKSA9PiB7XHJcbiAgXHJcbmhvbWVTcnZjLmdldFByb2R1Y3QoJHN0YXRlUGFyYW1zLmlkKS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICRzY29wZS5pdGVtID0gcmVzcG9uc2UuZGF0YTtcclxuICBjb25zb2xlLmxvZygnREVUQUlMcycsICRzY29wZS5pdGVtKTtcclxufSk7XHJcblxyXG5ob21lU3J2Yy5nZXRDYXJvdXNlbCgkc3RhdGVQYXJhbXMuaWQpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgY29uc29sZS5sb2coJ1BST0RVQ1QgSUQnLCAkc3RhdGVQYXJhbXMuaWQpO1xyXG4gICRzY29wZS5jYXJvdXNlbHMgPSByZXNwb25zZS5kYXRhO1xyXG4gIGNvbnNvbGUubG9nKCdDQVJPVVNFTCcsICRzY29wZS5jYXJvdXNlbHMpO1xyXG59KTtcclxuXHJcbmhvbWVTcnZjLmdldFNpemVzKCRzdGF0ZVBhcmFtcy5pZCkudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAkc2NvcGUuc2l6ZXMgPSByZXNwb25zZS5kYXRhO1xyXG4gIGNvbnNvbGUubG9nKCdTSVpFUycsICRzY29wZS5zaXplcyk7XHJcbn0pO1xyXG5cclxuJHNjb3BlLmdldEltYWdlcyA9IChzaXplKSA9PiB7XHJcbiAgaG9tZVNydmMuZ2V0SW1hZ2VzKHNpemUpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygnU0laRSBJRCcsIHNpemUpO1xyXG4gICAgJHNjb3BlLmltYWdlcyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICBjb25zb2xlLmxvZygnSU1BR0VTJywgJHNjb3BlLmltYWdlcyk7XHJcbiAgfSkuY2F0Y2goIChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgfSlcclxufTtcclxuXHJcbn0pOyAvL2VuZCBvZiBjb250cm9sbGVyIiwiYW5ndWxhci5tb2R1bGUoJ2dyb3ZlbWFkZScpXHJcbi5jb250cm9sbGVyKCdzaG9wQ3RybCcsICgkc2NvcGUsIGhvbWVTcnZjLCAkc3RhdGVQYXJhbXMpID0+IHtcclxuXHJcbiAgaG9tZVNydmMuZ2V0U2hvcCgpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAkc2NvcGUucHJvZHVjdHMgPSByZXNwb25zZS5kYXRhO1xyXG4gIH0pO1xyXG5cclxuICAkKGRvY3VtZW50KS5vbihcIm1vdXNlb3ZlclwiLCBcIiN1bmlxdWVcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAkKHRoaXMpLmFkZENsYXNzKCdhbmltYXRlZCBmYWRlT3V0JylcclxuICB9KTtcclxuICAkKGRvY3VtZW50KS5vbihcIm1vdXNlbGVhdmVcIiwgXCIjdW5pcXVlXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYW5pbWF0ZWQgZmFkZU91dCcpXHJcbiAgICAkKHRoaXMpLmFkZENsYXNzKCdhbmltYXRlZCBmYWRlSW4nKVxyXG4gIH0pO1xyXG5cclxuICAvLyAkKGRvY3VtZW50KS5vbihcIm1vdXNlb3ZlclwiLCBcIi5wcm9kdWN0LWxpbmtcIiwgZnVuY3Rpb24oKSB7XHJcbiAgLy8gICAkKCcjaW5mbycpLmFkZENsYXNzKCdyZXZlYWwgYW5pbWF0ZWQgZmFkZUluJylcclxuICAvLyAgICQoJyNpbmZvJykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpXHJcbiAgLy8gfSk7XHJcbiAgLy8gJChkb2N1bWVudCkub24oXCJtb3VzZWxlYXZlXCIsIFwiLnByb2R1Y3QtbGlua1wiLCBmdW5jdGlvbigpIHtcclxuICAvLyAgICQoJyNpbmZvJykucmVtb3ZlQ2xhc3MoJ3JldmVhbCBhbmltYXRlZCBmYWRlSW4gJylcclxuICAvLyAgICQoJyNpbmZvJykuYWRkQ2xhc3MoJ2hpZGRlbiBhbmltYXRlZCBmYWRlT3V0JylcclxuICAvLyB9KTtcclxuXHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnZ3JvdmVtYWRlJykuZGlyZWN0aXZlKCdjdXN0b21mb290ZXInLCAoKSA9PiB7XG4gIHJldHVybih7XG4gICAgdGVtcGxhdGVVcmw6ICcuL3RlbXBsYXRlcy9mb290ZXIuaHRtbCcsXG4gICAgLy8gdGhlIGNvbnRyb2xsZXIgaXMgZm9yIHRoZSBhcnJvdyBidXR0b24gdG8gdGFrZSB1cyB0byB0aGUgdG9wIG9mIHRoZSBwYWdlXG4gICAgY29udHJvbGxlcjogZnVuY3Rpb24oJHNjb3BlKXtcbiAgICAgICRzY29wZS5zY3JvbGxUb3AgPSBmdW5jdGlvbigpe1xuICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApXG4gICAgfVxuICAgIH1cbn0pXG59KVxuIiwiXG4iLCJhbmd1bGFyLm1vZHVsZSgnZ3JvdmVtYWRlJykuZGlyZWN0aXZlKCduYXZiYXInLCAoKSA9PiB7XG4gIHJldHVybntcbiAgICB0ZW1wbGF0ZVVybDogJy4vdGVtcGxhdGVzL25hdmJhci5odG1sJyxcbiAgICBjb250cm9sbGVyOiBmdW5jdGlvbigkc3RhdGUsICRyb290U2NvcGUpe1xuICAgICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcbiAgICAgICAgJCgnLm5hdicpLnJlbW92ZUNsYXNzKCdzdGlja3ktbmF2Jyk7XG4gICAgICAgIHZhciBzY3JvbGxfcG9zID0gMDtcbiAgICAgICAgJChkb2N1bWVudCkuc2Nyb2xsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2Nyb2xsX3BvcyA9ICQodGhpcykuc2Nyb2xsVG9wKCk7XG4gICAgICAgICAgICBpZihzY3JvbGxfcG9zID4gMjApIHtcbiAgICAgICAgICAgICAgJCgnLm5hdicpLmFkZENsYXNzKCdzdGlja3ktbmF2Jyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAkKCcubmF2JykucmVtb3ZlQ2xhc3MoJ3N0aWNreS1uYXYnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gdmFyIGlzQWN0aXZlID0gZmFsc2U7XG5cbiAgICAgICQoJy5uZXdzbGV0dGVyLW9wZW4nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gaXNBY3RpdmUgPSAhaXNBY3RpdmU7XG4gICAgICBcdC8vIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGlzQWN0aXZlKTtcbiAgICAgICAgICAkKCcubmV3c2xldHRlci13cmFwcGVyJykucmVtb3ZlQ2xhc3MoJ2hpZGUtbmV3c2xldHRlcicpO1xuICAgICAgXHQvLyB9IGVsc2Uge1xuICAgICAgXHRcdC8vICQoJy5uZXdzbGV0dGVyLXdyYXBwZXInKS5hZGRDbGFzcygnaGlkZS1uZXdzbGV0dGVyJyk7XG4gICAgICBcdC8vIH1cblxuICAgICAgfSk7XG5cbiAgICAgICQoJy5uZXdzbGV0dGVyLWNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIGlzQWN0aXZlID0gIWlzQWN0aXZlO1xuICAgICAgXHQvLyBpZiAoIWlzQWN0aXZlKSB7XG4gICAgICAgICAgJCgnLm5ld3NsZXR0ZXItd3JhcHBlcicpLmFkZENsYXNzKCdoaWRlLW5ld3NsZXR0ZXInKTtcbiAgICAgIFx0Ly8gfSBlbHNlIHtcbiAgICAgIFx0XHQvLyAkKCcubmV3c2xldHRlci13cmFwcGVyJykucmVtb3ZlQ2xhc3MoJ2hpZGUtbmV3c2xldHRlcicpO1xuICAgICAgXHQvLyB9XG4gICAgICB9KTtcblxuICAgICAgJCgnLm5hdi1jYXJ0Jykub24oJ21vdXNlb3ZlcicsZnVuY3Rpb24oKXtcbiAgICAgICAgJCgnLnN0aWNreS1jYXJ0JykuZmFkZUluKCk7XG4gICAgICB9KVxuICAgICAgJCgnLnN0aWNreS1jYXJ0JykubW91c2VsZWF2ZShmdW5jdGlvbigpe1xuICAgICAgICAkKCcuc3RpY2t5LWNhcnQnKS5mYWRlT3V0KCk7XG4gICAgICB9KVxuXG4gICAgfS8vZW5kIG9mIGNvbnRyb2xsZXJcbiAgfTtcbn0pO1xuIl19
