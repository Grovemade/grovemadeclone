'use strict';

angular.module('grovemade', ['ui.router']).config(function ($stateProvider, $urlRouterProvider) {

  $urlRouterProvider.otherwise('/');

  $stateProvider.state('home', {
    url: '/',
    templateUrl: './templates/home.html',
    controller: 'homeCtrl'
  }).state('shop', {
    url: '/shop',
    templateUrl: './templates/shop.html',
    controller: 'shopCtrl'
  }).state('about', {
    url: '/about',
    templateUrl: './templates/about.html',
    controller: 'aboutCtrl'
  }).state('journal', {
    url: '/journal',
    templateUrl: './templates/journal.html',
    controller: 'journalCtrl'
  }).state('1', {
    url: '/journal/desk-ergonomics',
    templateUrl: './templates/desk-ergonomics.html',
    controller: 'journalCtrl'
  }).state('2', {
    url: '/journal/love-your-work',
    templateUrl: './templates/love-your-work.html',
    controller: 'journalCtrl'
  }).state('3', {
    url: '/journal/designing-the-wood-watch-02',
    templateUrl: './templates/designing-the-wood-watch-02.html',
    controller: 'journalCtrl'
  }).state('product', {
    url: '/product/:id',
    templateUrl: '/templates/product.html',
    controller: 'productCtrl'
  });
});
'use strict';

angular.module('grovemade').controller('aboutCtrl', function ($scope, homeSrvc, $stateParams) {

  homeSrvc.getAboutPage().then(function (response) {
    $scope.employees = response.data;
    console.log('CTRL', $scope.employees);
  });

  $scope.showEmployee = function (id) {
    console.log(id);
    homeSrvc.getAttributes(id).then(function (res) {
      $scope.attributes = res.data;
      console.log(res.data);
    });
  };
});
'use strict';

angular.module('grovemade').controller('carouselCtrl', function ($scope) {});
'use strict';

angular.module('grovemade').controller('homeCtrl', function ($scope, $stateParams, $interval, $timeout) {
  $scope.myInterval = 3000;
  var index = -1;
  $scope.slides = [{
    image: '/img/homemarq-walnut-desk-collection-G2_1.jpg',
    title: 'DESK COLLECTION',
    color: 'IN WALNUT OR MAPLE'
  }, {
    image: '/img/homemarq-watch-02-A3_1.jpg',
    title: 'WOOD WATCH',
    color: 'MODEL 02'
  }, {
    image: '/img/homemarq-wallet-A4_1.jpg',
    title: 'EVERYDAY CARRY',
    color: 'COLLECTION'
  }, {
    image: '/img/homemarq-wallet-case-A2_1.jpg',
    title: 'WALLET CASE',
    color: 'FOR iPHONE 6 & 7'
  }, {
    image: '/img/homemarq-wood-iphone-6-case-B2_1.jpg',
    title: 'iPHONE   7 CASES',
    color: 'IN WALNUT OR MAPLE'

  }, {
    image: '/img/homemarq-bifold-wallet-E1_1.jpg',
    title: 'BIFOLD WALLET',
    color: 'IN BLACK OR TAN'
  }, {
    image: '/img/homemarq-wood-speakers-A1_2.jpg',
    title: 'WOOD SPEAKERS',
    color: 'IN WALNUT OR MAPLE'
  }];
  $scope.photoClass = [];
  var timer = $interval(function () {
    $scope.next();
  }, 5000);
  $scope.stop = function () {
    $interval.cancel(timer);
  };
  $scope.next = function () {
    index++;
    if (index > 6) {
      index = 0;
    }
    $scope.nextPhoto = $scope.slides[index].image;
    $scope.nextTitle = $scope.slides[index].title;
    $scope.nextColor = $scope.slides[index].color;

    $scope.photoClass.splice(0, 1, 'animated fadeOut');
    $timeout(function () {
      $scope.photoClass.splice(0, 1, 'animated fadeIn');
      $scope.selected = $scope.slides[index].image;
      $scope.title = $scope.slides[index].title;
      $scope.color = $scope.slides[index].color;
    }, 500);
  };

  $scope.previous = function () {
    index--;
    if (index < 0) {
      index = 6;
    }
    $scope.nextPhoto = $scope.slides[index].image;
    $scope.nextTitle = $scope.slides[index].title;
    $scope.nextColor = $scope.slides[index].color;

    $scope.photoClass.splice(0, 1, 'animated fadeOut');
    $timeout(function () {
      $scope.photoClass.splice(0, 1, 'animated fadeIn');
      $scope.selected = $scope.slides[index].image;
      $scope.title = $scope.slides[index].title;
      $scope.color = $scope.slides[index].color;
    }, 500);
  };
  $scope.next();
});
'use strict';

angular.module('grovemade').controller('journalCtrl', function ($scope, homeSrvc, $stateParams) {

  homeSrvc.getJournal().then(function (response) {
    $scope.journal = response.data;
    console.log('CTRL', $scope.journal);
  });
  // upon hover, the selected index is pushing the animate.css  fade to the covering array
  $scope.covering = [];
  $scope.onHover = function (i) {
    $scope.selected = i;
    $scope.covering.push('cover animated fadeIn2');
  };
  // upon mouse leave, the selected index we are on will take away the animate.css
  $scope.onLeave = function (i) {
    $scope.selected = i;
    $scope.covering.splice(0);
  };
});
'use strict';

angular.module('grovemade').controller('productCtrl', function ($scope, homeSrvc, $stateParams) {

  homeSrvc.getProduct($stateParams.id).then(function (response) {
    $scope.item = response.data;
    console.log('DETAILs', $scope.item);
  });

  homeSrvc.getCarousel($stateParams.id).then(function (response) {
    console.log('PRODUCT ID', $stateParams.id);
    $scope.carousels = response.data;
    console.log('CAROUSEL', $scope.carousels);
  });

  homeSrvc.getSizes($stateParams.id).then(function (response) {
    $scope.sizes = response.data;
    console.log('SIZES', $scope.sizes);
  });

  $scope.getImages = function (size) {
    homeSrvc.getImages(size).then(function (response) {
      console.log('SIZE ID', size);
      $scope.images = response.data;
      console.log('IMAGES', $scope.images);
    }).catch(function (err) {
      console.log(err);
    });
  };
}); //end of controller
'use strict';

angular.module('grovemade').controller('shopCtrl', function ($scope, homeSrvc, $stateParams) {

  homeSrvc.getShop().then(function (response) {
    $scope.products = response.data;
  });

  $(document).on("mouseover", "#unique", function () {
    $(this).addClass('animated fadeOut');
  });
  $(document).on("mouseleave", "#unique", function () {
    $(this).removeClass('animated fadeOut');
    $(this).addClass('animated fadeIn');
  });

  // $(document).on("mouseover", ".product-link", function() {
  //   $('#info').addClass('reveal animated fadeIn')
  //   $('#info').removeClass('hidden')
  // });
  // $(document).on("mouseleave", ".product-link", function() {
  //   $('#info').removeClass('reveal animated fadeIn ')
  //   $('#info').addClass('hidden animated fadeOut')
  // });
});
'use strict';

angular.module('grovemade').directive('customfooter', function () {
  return {
    templateUrl: './templates/footer.html',
    // the controller is for the arrow button to take us to the top of the page
    controller: function controller($scope) {
      $scope.scrollTop = function () {
        window.scrollTo(0, 0);
      };
    }
  };
});
"use strict";
'use strict';

angular.module('grovemade').directive('navbar', function () {
  return {
    templateUrl: './templates/navbar.html',
    controller: function controller($state, $rootScope) {
      $(document).ready(function () {
        $('.nav').removeClass('sticky-nav');
        var scroll_pos = 0;
        $(document).scroll(function () {
          scroll_pos = $(this).scrollTop();
          if (scroll_pos > 20) {
            $('.nav').addClass('sticky-nav');
          } else {
            $('.nav').removeClass('sticky-nav');
          }
        });
      });

      // var isActive = false;

      $('.newsletter-open').on('click', function () {
        // isActive = !isActive;
        // if (isActive) {
        // console.log(isActive);
        $('.newsletter-wrapper').removeClass('hide-newsletter');
        // } else {
        // $('.newsletter-wrapper').addClass('hide-newsletter');
        // }
      });

      $('.newsletter-close').on('click', function () {
        // isActive = !isActive;
        // if (!isActive) {
        $('.newsletter-wrapper').addClass('hide-newsletter');
        // } else {
        // $('.newsletter-wrapper').removeClass('hide-newsletter');
        // }
      });

      $('.nav-cart').on('mouseover', function () {
        $('.sticky-cart').fadeIn();
      });
      $('.sticky-cart').mouseleave(function () {
        $('.sticky-cart').fadeOut();
      });
    } //end of controller
  };
});
'use strict';

angular.module('grovemade').service('homeSrvc', function ($http) {

  this.getShop = function () {
    return $http({
      method: 'GET',
      url: '/shop'
    }).then(function (response) {
      console.log('SRVC', response);
      return response;
    });
  };

  this.getAboutPage = function () {
    return $http({
      method: 'GET',
      url: '/about'
    }).then(function (response) {
      console.log('SRVC', response);
      return response;
    });
  };

  this.getJournal = function () {
    return $http({
      method: 'GET',
      url: '/journal'
    }).then(function (response) {
      console.log('SRVC', response);
      return response;
    });
  };

  this.getAttributes = function (id) {
    return $http({
      method: 'GET',
      url: '/attributes/' + id
    });
  };

  this.getProduct = function (id) {
    return $http({
      method: 'GET',
      url: '/product/' + id
    }).then(function (response) {
      console.log('SRVC product', response);
      return response;
    });
  };

  this.getCarousel = function (id) {
    return $http({
      method: 'GET',
      url: '/carousel/' + id
    }).then(function (response) {
      console.log('SRVC carousel', response);
      return response;
    });
  };

  this.getSizes = function (id) {
    return $http({
      method: 'GET',
      url: '/sizes/' + id
    }).then(function (response) {
      console.log('SRVC sizes', response);
      return response;
    });
  };

  this.getImages = function (size) {
    var id = size.id;
    return $http({
      method: 'GET',
      url: '/images/' + id
    }).then(function (response) {
      console.log('SRVC images', response);
      return response;
    });
  };
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRyb2xsZXJzL2Fib3V0Q3RybC5qcyIsImNvbnRyb2xsZXJzL2Nhcm91c2VsQ3RybC5qcyIsImNvbnRyb2xsZXJzL2hvbWVDdHJsLmpzIiwiY29udHJvbGxlcnMvam91cm5hbEN0cmwuanMiLCJjb250cm9sbGVycy9wcm9kdWN0Q3RybC5qcyIsImNvbnRyb2xsZXJzL3Nob3BDdHJsLmpzIiwiZGlyZWN0aXZlcy9mb290ZXIuanMiLCJkaXJlY3RpdmVzL2hvbWVEaXJlY3RpdmUuanMiLCJkaXJlY3RpdmVzL25hdmJhci5qcyIsInNlcnZpY2VzL2hvbWVTZXJ2aWNlLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIm90aGVyd2lzZSIsInN0YXRlIiwidXJsIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwiJHNjb3BlIiwiaG9tZVNydmMiLCIkc3RhdGVQYXJhbXMiLCJnZXRBYm91dFBhZ2UiLCJ0aGVuIiwicmVzcG9uc2UiLCJlbXBsb3llZXMiLCJkYXRhIiwiY29uc29sZSIsImxvZyIsInNob3dFbXBsb3llZSIsImlkIiwiZ2V0QXR0cmlidXRlcyIsInJlcyIsImF0dHJpYnV0ZXMiLCIkaW50ZXJ2YWwiLCIkdGltZW91dCIsIm15SW50ZXJ2YWwiLCJpbmRleCIsInNsaWRlcyIsImltYWdlIiwidGl0bGUiLCJjb2xvciIsInBob3RvQ2xhc3MiLCJ0aW1lciIsIm5leHQiLCJzdG9wIiwiY2FuY2VsIiwibmV4dFBob3RvIiwibmV4dFRpdGxlIiwibmV4dENvbG9yIiwic3BsaWNlIiwic2VsZWN0ZWQiLCJwcmV2aW91cyIsImdldEpvdXJuYWwiLCJqb3VybmFsIiwiY292ZXJpbmciLCJvbkhvdmVyIiwiaSIsInB1c2giLCJvbkxlYXZlIiwiZ2V0UHJvZHVjdCIsIml0ZW0iLCJnZXRDYXJvdXNlbCIsImNhcm91c2VscyIsImdldFNpemVzIiwic2l6ZXMiLCJnZXRJbWFnZXMiLCJzaXplIiwiaW1hZ2VzIiwiY2F0Y2giLCJlcnIiLCJnZXRTaG9wIiwicHJvZHVjdHMiLCIkIiwiZG9jdW1lbnQiLCJvbiIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJkaXJlY3RpdmUiLCJzY3JvbGxUb3AiLCJ3aW5kb3ciLCJzY3JvbGxUbyIsIiRzdGF0ZSIsIiRyb290U2NvcGUiLCJyZWFkeSIsInNjcm9sbF9wb3MiLCJzY3JvbGwiLCJmYWRlSW4iLCJtb3VzZWxlYXZlIiwiZmFkZU91dCIsInNlcnZpY2UiLCIkaHR0cCIsIm1ldGhvZCJdLCJtYXBwaW5ncyI6Ijs7QUFBQUEsUUFBUUMsTUFBUixDQUFlLFdBQWYsRUFBNEIsQ0FBQyxXQUFELENBQTVCLEVBQ0NDLE1BREQsQ0FDUSxVQUFTQyxjQUFULEVBQXlCQyxrQkFBekIsRUFBNEM7O0FBRWxEQSxxQkFBbUJDLFNBQW5CLENBQTZCLEdBQTdCOztBQUVBRixpQkFDQ0csS0FERCxDQUNPLE1BRFAsRUFDZTtBQUNiQyxTQUFJLEdBRFM7QUFFYkMsaUJBQVksdUJBRkM7QUFHYkMsZ0JBQVc7QUFIRSxHQURmLEVBT0NILEtBUEQsQ0FPTyxNQVBQLEVBT2U7QUFDYkMsU0FBSSxPQURTO0FBRWJDLGlCQUFZLHVCQUZDO0FBR2JDLGdCQUFXO0FBSEUsR0FQZixFQWFDSCxLQWJELENBYU8sT0FiUCxFQWFnQjtBQUNkQyxTQUFJLFFBRFU7QUFFZEMsaUJBQVksd0JBRkU7QUFHZEMsZ0JBQVc7QUFIRyxHQWJoQixFQW1CQ0gsS0FuQkQsQ0FtQk8sU0FuQlAsRUFtQmtCO0FBQ2hCQyxTQUFJLFVBRFk7QUFFaEJDLGlCQUFZLDBCQUZJO0FBR2hCQyxnQkFBVztBQUhLLEdBbkJsQixFQXlCQ0gsS0F6QkQsQ0F5Qk8sR0F6QlAsRUF5Qlk7QUFDVkMsU0FBSSwwQkFETTtBQUVWQyxpQkFBWSxrQ0FGRjtBQUdWQyxnQkFBVztBQUhELEdBekJaLEVBK0JDSCxLQS9CRCxDQStCTyxHQS9CUCxFQStCWTtBQUNWQyxTQUFJLHlCQURN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QUNELEtBTk0sQ0FBUDtBQU9ELEdBUkQ7O0FBVUEsT0FBS3NDLFdBQUwsR0FBbUIsVUFBQ2hDLEVBQUQsRUFBUTtBQUN6QixXQUFPNkQsTUFBTTtBQUNYQyxjQUFRLEtBREc7QUFFWDVFLFdBQUssZUFBZWM7QUFGVCxLQUFOLEVBR0pQLElBSEksQ0FHQyxVQUFDQyxRQUFELEVBQWM7QUFDcEJHLGNBQVFDLEdBQVIsQ0FBWSxlQUFaLEVBQTZCSixRQUE3QjtBQUNBLGFBQU9BLFFBQVA7QUFDRCxLQU5NLENBQVA7QUFPRCxHQVJEOztBQVVBLE9BQUt3QyxRQUFMLEdBQWdCLFVBQUNsQyxFQUFELEVBQVE7QUFDdEIsV0FBTzZELE1BQU07QUFDWEMsY0FBUSxLQURHO0FBRVg1RSxXQUFLLFlBQVljO0FBRk4sS0FBTixFQUdKUCxJQUhJLENBR0MsVUFBQ0MsUUFBRCxFQUFjO0FBQ3BCRyxjQUFRQyxHQUFSLENBQVksWUFBWixFQUEwQkosUUFBMUI7QUFDQSxhQUFPQSxRQUFQO0FBQ0QsS0FOTSxDQUFQO0FBT0QsR0FSRDs7QUFVQyxPQUFLMEMsU0FBTCxHQUFpQixVQUFDQyxJQUFELEVBQVU7QUFDekIsUUFBSXJDLEtBQUtxQyxLQUFLckMsRUFBZDtBQUNELFdBQU82RCxNQUFNO0FBQ1hDLGNBQVEsS0FERztBQUVYNUUsV0FBSyxhQUFhYztBQUZQLEtBQU4sRUFHSlAsSUFISSxDQUdDLFVBQUNDLFFBQUQsRUFBYztBQUNwQkcsY0FBUUMsR0FBUixDQUFZLGFBQVosRUFBMkJKLFFBQTNCO0FBQ0EsYUFBT0EsUUFBUDtBQUNELEtBTk0sQ0FBUDtBQU9ELEdBVEE7QUFjRixDQW5GRCIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyLm1vZHVsZSgnZ3JvdmVtYWRlJywgWyd1aS5yb3V0ZXInXSlcclxuLmNvbmZpZyhmdW5jdGlvbigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKXtcclxuXHJcbiAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnLycpXHJcblxyXG4gICRzdGF0ZVByb3ZpZGVyXHJcbiAgLnN0YXRlKCdob21lJywge1xyXG4gICAgdXJsOicvJyxcclxuICAgIHRlbXBsYXRlVXJsOicuL3RlbXBsYXRlcy9ob21lLmh0bWwnLFxyXG4gICAgY29udHJvbGxlcjonaG9tZUN0cmwnXHJcbiAgfSlcclxuXHJcbiAgLnN0YXRlKCdzaG9wJywge1xyXG4gICAgdXJsOicvc2hvcCcsXHJcbiAgICB0ZW1wbGF0ZVVybDonLi90ZW1wbGF0ZXMvc2hvcC5odG1sJyxcclxuICAgIGNvbnRyb2xsZXI6J3Nob3BDdHJsJ1xyXG4gIH0pXHJcblxyXG4gIC5zdGF0ZSgnYWJvdXQnLCB7XHJcbiAgICB1cmw6Jy9hYm91dCcsXHJcbiAgICB0ZW1wbGF0ZVVybDonLi90ZW1wbGF0ZXMvYWJvdXQuaHRtbCcsXHJcbiAgICBjb250cm9sbGVyOidhYm91dEN0cmwnXHJcbiAgfSlcclxuXHJcbiAgLnN0YXRlKCdqb3VybmFsJywge1xyXG4gICAgdXJsOicvam91cm5hbCcsXHJcbiAgICB0ZW1wbGF0ZVVybDonLi90ZW1wbGF0ZXMvam91cm5hbC5odG1sJyxcclxuICAgIGNvbnRyb2xsZXI6J2pvdXJuYWxDdHJsJ1xyXG4gIH0pXHJcblxyXG4gIC5zdGF0ZSgnMScsIHtcclxuICAgIHVybDonL2pvdXJuYWwvZGVzay1lcmdvbm9taWNzJyxcclxuICAgIHRlbXBsYXRlVXJsOicuL3RlbXBsYXRlcy9kZXNrLWVyZ29ub21pY3MuaHRtbCcsXHJcbiAgICBjb250cm9sbGVyOidqb3VybmFsQ3RybCdcclxuICB9KVxyXG5cclxuICAuc3RhdGUoJzInLCB7XHJcbiAgICB1cmw6Jy9qb3VybmFsL2xvdmUteW91ci13b3JrJyxcclxuICAgIHRlbXBsYXRlVXJsOicuL3RlbXBsYXRlcy9sb3ZlLXlvdXItd29yay5odG1sJyxcclxuICAgIGNvbnRyb2xsZXI6J2pvdXJuYWxDdHJsJ1xyXG4gIH0pXHJcblxyXG4gIC5zdGF0ZSgnMycsIHtcclxuICAgIHVybDonL2pvdXJuYWwvZGVzaWduaW5nLXRoZS13b29kLXdhdGNoLTAyJyxcclxuICAgIHRlbXBsYXRlVXJsOicuL3RlbXBsYXRlcy9kZXNpZ25pbmctdGhlLXdvb2Qtd2F0Y2gtMDIuaHRtbCcsXHJcbiAgICBjb250cm9sbGVyOidqb3VybmFsQ3RybCdcclxuICB9KVxyXG5cclxuICAuc3RhdGUoJ3Byb2R1Y3QnLCB7XHJcbiAgICB1cmw6ICcvcHJvZHVjdC86aWQnLFxyXG4gICAgdGVtcGxhdGVVcmw6ICcvdGVtcGxhdGVzL3Byb2R1Y3QuaHRtbCcsXHJcbiAgICBjb250cm9sbGVyOiAncHJvZHVjdEN0cmwnXHJcbiAgfSlcclxuXHJcblxyXG5cclxufSlcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2dyb3ZlbWFkZScpXHJcbi5jb250cm9sbGVyKCdhYm91dEN0cmwnLCAoJHNjb3BlLCBob21lU3J2YywgJHN0YXRlUGFyYW1zKSA9PiB7XHJcblxyXG4gIGhvbWVTcnZjLmdldEFib3V0UGFnZSgpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAkc2NvcGUuZW1wbG95ZWVzID0gcmVzcG9uc2UuZGF0YTtcclxuICAgIGNvbnNvbGUubG9nKCdDVFJMJywgJHNjb3BlLmVtcGxveWVlcyk7XHJcblxyXG4gIH0pXHJcblxyXG5cclxuICAkc2NvcGUuc2hvd0VtcGxveWVlPWZ1bmN0aW9uKGlkKXtcclxuICAgIGNvbnNvbGUubG9nKGlkKTtcclxuICAgIGhvbWVTcnZjLmdldEF0dHJpYnV0ZXMoaWQpLnRoZW4oZnVuY3Rpb24ocmVzKXtcclxuICAgICAgJHNjb3BlLmF0dHJpYnV0ZXMgPSByZXMuZGF0YTtcclxuICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpO1xyXG4gICAgfSlcclxuXHJcblxyXG4gIH1cclxuXHJcblxyXG5cclxuXHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnZ3JvdmVtYWRlJylcclxuLmNvbnRyb2xsZXIoJ2Nhcm91c2VsQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSl7XHJcblxyXG5cclxuXHJcblxyXG4gICAgfSlcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2dyb3ZlbWFkZScpXHJcbi5jb250cm9sbGVyKCdob21lQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlUGFyYW1zLCAkaW50ZXJ2YWwsICR0aW1lb3V0KXtcclxuICAgICRzY29wZS5teUludGVydmFsID0gMzAwMDtcclxuICAgIHZhciBpbmRleCA9IC0xO1xyXG4gICAgJHNjb3BlLnNsaWRlcyA9IFtcclxuICAgICAge1xyXG4gICAgICAgIGltYWdlOiAnL2ltZy9ob21lbWFycS13YWxudXQtZGVzay1jb2xsZWN0aW9uLUcyXzEuanBnJyxcclxuICAgICAgICB0aXRsZTogJ0RFU0sgQ09MTEVDVElPTicsXHJcbiAgICAgICAgY29sb3I6ICdJTiBXQUxOVVQgT1IgTUFQTEUnXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBpbWFnZTogJy9pbWcvaG9tZW1hcnEtd2F0Y2gtMDItQTNfMS5qcGcnLFxyXG4gICAgICAgIHRpdGxlOiAnV09PRCBXQVRDSCcsXHJcbiAgICAgICAgY29sb3I6ICdNT0RFTCAwMidcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGltYWdlOiAnL2ltZy9ob21lbWFycS13YWxsZXQtQTRfMS5qcGcnLFxyXG4gICAgICAgIHRpdGxlOiAnRVZFUllEQVkgQ0FSUlknLFxyXG4gICAgICAgIGNvbG9yOiAnQ09MTEVDVElPTidcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGltYWdlOiAnL2ltZy9ob21lbWFycS13YWxsZXQtY2FzZS1BMl8xLmpwZycsXHJcbiAgICAgICAgdGl0bGU6ICdXQUxMRVQgQ0FTRScsXHJcbiAgICAgICAgY29sb3I6ICdGT1IgaVBIT05FIDYgJiA3J1xyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgaW1hZ2U6ICcvaW1nL2hvbWVtYXJxLXdvb2QtaXBob25lLTYtY2FzZS1CMl8xLmpwZycsXHJcbiAgICAgICAgdGl0bGU6ICdpUEhPTkUgICA3IENBU0VTJyxcclxuICAgICAgICBjb2xvcjogJ0lOIFdBTE5VVCBPUiBNQVBMRSdcclxuXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBpbWFnZTogJy9pbWcvaG9tZW1hcnEtYmlmb2xkLXdhbGxldC1FMV8xLmpwZycsXHJcbiAgICAgICAgdGl0bGU6ICdCSUZPTEQgV0FMTEVUJyxcclxuICAgICAgICBjb2xvcjogJ0lOIEJMQUNLIE9SIFRBTidcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGltYWdlOiAnL2ltZy9ob21lbWFycS13b29kLXNwZWFrZXJzLUExXzIuanBnJyxcclxuICAgICAgICB0aXRsZTogJ1dPT0QgU1BFQUtFUlMnLFxyXG4gICAgICAgIGNvbG9yOiAnSU4gV0FMTlVUIE9SIE1BUExFJ1xyXG4gICAgICB9XHJcbiAgICBdO1xyXG4gICAgJHNjb3BlLnBob3RvQ2xhc3MgPSBbXVxyXG4gICAgdmFyIHRpbWVyID0gJGludGVydmFsKGZ1bmN0aW9uKCl7XHJcbiAgICAgICRzY29wZS5uZXh0KClcclxuICAgIH0sIDUwMDApXHJcbiAgICAkc2NvcGUuc3RvcCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICRpbnRlcnZhbC5jYW5jZWwodGltZXIpXHJcbiAgICB9XHJcbiAgICAkc2NvcGUubmV4dCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIGluZGV4KytcclxuICAgICAgaWYoaW5kZXggPiA2KXtcclxuICAgICAgICBpbmRleCA9IDBcclxuICAgICAgfVxyXG4gICAgICAkc2NvcGUubmV4dFBob3RvID0gJHNjb3BlLnNsaWRlc1tpbmRleF0uaW1hZ2VcclxuICAgICAgJHNjb3BlLm5leHRUaXRsZSA9ICRzY29wZS5zbGlkZXNbaW5kZXhdLnRpdGxlXHJcbiAgICAgICRzY29wZS5uZXh0Q29sb3IgPSAkc2NvcGUuc2xpZGVzW2luZGV4XS5jb2xvclxyXG5cclxuICAgICAgJHNjb3BlLnBob3RvQ2xhc3Muc3BsaWNlKDAsIDEsICdhbmltYXRlZCBmYWRlT3V0JylcclxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAkc2NvcGUucGhvdG9DbGFzcy5zcGxpY2UoMCwgMSwgJ2FuaW1hdGVkIGZhZGVJbicpXHJcbiAgICAgICAgJHNjb3BlLnNlbGVjdGVkID0gJHNjb3BlLnNsaWRlc1tpbmRleF0uaW1hZ2VcclxuICAgICAgICAkc2NvcGUudGl0bGUgPSAkc2NvcGUuc2xpZGVzW2luZGV4XS50aXRsZVxyXG4gICAgICAgICRzY29wZS5jb2xvciA9ICRzY29wZS5zbGlkZXNbaW5kZXhdLmNvbG9yXHJcbiAgICAgIH0sIDUwMClcclxuICAgIH1cclxuXHJcbiAgICAkc2NvcGUucHJldmlvdXMgPSBmdW5jdGlvbigpe1xyXG4gICAgICBpbmRleC0tXHJcbiAgICAgIGlmKGluZGV4IDwgMCl7XHJcbiAgICAgICAgaW5kZXggPSA2XHJcbiAgICAgIH1cclxuICAgICAgJHNjb3BlLm5leHRQaG90byA9ICRzY29wZS5zbGlkZXNbaW5kZXhdLmltYWdlXHJcbiAgICAgICRzY29wZS5uZXh0VGl0bGUgPSAkc2NvcGUuc2xpZGVzW2luZGV4XS50aXRsZVxyXG4gICAgICAkc2NvcGUubmV4dENvbG9yID0gJHNjb3BlLnNsaWRlc1tpbmRleF0uY29sb3JcclxuXHJcbiAgICAgICRzY29wZS5waG90b0NsYXNzLnNwbGljZSgwLCAxLCAnYW5pbWF0ZWQgZmFkZU91dCcpXHJcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJHNjb3BlLnBob3RvQ2xhc3Muc3BsaWNlKDAsIDEsICdhbmltYXRlZCBmYWRlSW4nKVxyXG4gICAgICAgICRzY29wZS5zZWxlY3RlZCA9ICRzY29wZS5zbGlkZXNbaW5kZXhdLmltYWdlXHJcbiAgICAgICAgJHNjb3BlLnRpdGxlID0gJHNjb3BlLnNsaWRlc1tpbmRleF0udGl0bGVcclxuICAgICAgICAkc2NvcGUuY29sb3IgPSAkc2NvcGUuc2xpZGVzW2luZGV4XS5jb2xvclxyXG4gICAgICB9LCA1MDApXHJcbiAgICB9XHJcbiAgICAkc2NvcGUubmV4dCgpXHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnZ3JvdmVtYWRlJylcclxuLmNvbnRyb2xsZXIoJ2pvdXJuYWxDdHJsJywgKCRzY29wZSwgaG9tZVNydmMsICRzdGF0ZVBhcmFtcykgPT4ge1xyXG5cclxuXHJcbiAgaG9tZVNydmMuZ2V0Sm91cm5hbCgpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAkc2NvcGUuam91cm5hbCA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICBjb25zb2xlLmxvZygnQ1RSTCcsICRzY29wZS5qb3VybmFsKTtcclxuICB9KVxyXG4gIC8vIHVwb24gaG92ZXIsIHRoZSBzZWxlY3RlZCBpbmRleCBpcyBwdXNoaW5nIHRoZSBhbmltYXRlLmNzcyAgZmFkZSB0byB0aGUgY292ZXJpbmcgYXJyYXlcclxuJHNjb3BlLmNvdmVyaW5nID0gW107XHJcbiRzY29wZS5vbkhvdmVyID0gZnVuY3Rpb24oaSl7XHJcbiAgJHNjb3BlLnNlbGVjdGVkID0gaVxyXG4gICRzY29wZS5jb3ZlcmluZy5wdXNoKCdjb3ZlciBhbmltYXRlZCBmYWRlSW4yJylcclxufVxyXG4vLyB1cG9uIG1vdXNlIGxlYXZlLCB0aGUgc2VsZWN0ZWQgaW5kZXggd2UgYXJlIG9uIHdpbGwgdGFrZSBhd2F5IHRoZSBhbmltYXRlLmNzc1xyXG4kc2NvcGUub25MZWF2ZSA9IGZ1bmN0aW9uKGkpe1xyXG4gICRzY29wZS5zZWxlY3RlZCA9IGlcclxuICAkc2NvcGUuY292ZXJpbmcuc3BsaWNlKDApXHJcbn1cclxuXHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnZ3JvdmVtYWRlJylcclxuLmNvbnRyb2xsZXIoJ3Byb2R1Y3RDdHJsJywgKCRzY29wZSwgaG9tZVNydmMsICRzdGF0ZVBhcmFtcykgPT4ge1xyXG4gIFxyXG5ob21lU3J2Yy5nZXRQcm9kdWN0KCRzdGF0ZVBhcmFtcy5pZCkudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAkc2NvcGUuaXRlbSA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgY29uc29sZS5sb2coJ0RFVEFJTHMnLCAkc2NvcGUuaXRlbSk7XHJcbn0pO1xyXG5cclxuaG9tZVNydmMuZ2V0Q2Fyb3VzZWwoJHN0YXRlUGFyYW1zLmlkKS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKCdQUk9EVUNUIElEJywgJHN0YXRlUGFyYW1zLmlkKTtcclxuICAkc2NvcGUuY2Fyb3VzZWxzID0gcmVzcG9uc2UuZGF0YTtcclxuICBjb25zb2xlLmxvZygnQ0FST1VTRUwnLCAkc2NvcGUuY2Fyb3VzZWxzKTtcclxufSk7XHJcblxyXG5ob21lU3J2Yy5nZXRTaXplcygkc3RhdGVQYXJhbXMuaWQpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgJHNjb3BlLnNpemVzID0gcmVzcG9uc2UuZGF0YTtcclxuICBjb25zb2xlLmxvZygnU0laRVMnLCAkc2NvcGUuc2l6ZXMpO1xyXG59KTtcclxuXHJcbiRzY29wZS5nZXRJbWFnZXMgPSAoc2l6ZSkgPT4ge1xyXG4gIGhvbWVTcnZjLmdldEltYWdlcyhzaXplKS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ1NJWkUgSUQnLCBzaXplKTtcclxuICAgICRzY29wZS5pbWFnZXMgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgY29uc29sZS5sb2coJ0lNQUdFUycsICRzY29wZS5pbWFnZXMpO1xyXG4gIH0pLmNhdGNoKCAoZXJyKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gIH0pXHJcbn07XHJcblxyXG59KTsgLy9lbmQgb2YgY29udHJvbGxlciIsImFuZ3VsYXIubW9kdWxlKCdncm92ZW1hZGUnKVxyXG4uY29udHJvbGxlcignc2hvcEN0cmwnLCAoJHNjb3BlLCBob21lU3J2YywgJHN0YXRlUGFyYW1zKSA9PiB7XHJcblxyXG4gIGhvbWVTcnZjLmdldFNob3AoKS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgJHNjb3BlLnByb2R1Y3RzID0gcmVzcG9uc2UuZGF0YTtcclxuICB9KTtcclxuXHJcbiAgJChkb2N1bWVudCkub24oXCJtb3VzZW92ZXJcIiwgXCIjdW5pcXVlXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgJCh0aGlzKS5hZGRDbGFzcygnYW5pbWF0ZWQgZmFkZU91dCcpXHJcbiAgfSk7XHJcbiAgJChkb2N1bWVudCkub24oXCJtb3VzZWxlYXZlXCIsIFwiI3VuaXF1ZVwiLCBmdW5jdGlvbigpIHtcclxuICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2FuaW1hdGVkIGZhZGVPdXQnKVxyXG4gICAgJCh0aGlzKS5hZGRDbGFzcygnYW5pbWF0ZWQgZmFkZUluJylcclxuICB9KTtcclxuXHJcbiAgLy8gJChkb2N1bWVudCkub24oXCJtb3VzZW92ZXJcIiwgXCIucHJvZHVjdC1saW5rXCIsIGZ1bmN0aW9uKCkge1xyXG4gIC8vICAgJCgnI2luZm8nKS5hZGRDbGFzcygncmV2ZWFsIGFuaW1hdGVkIGZhZGVJbicpXHJcbiAgLy8gICAkKCcjaW5mbycpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKVxyXG4gIC8vIH0pO1xyXG4gIC8vICQoZG9jdW1lbnQpLm9uKFwibW91c2VsZWF2ZVwiLCBcIi5wcm9kdWN0LWxpbmtcIiwgZnVuY3Rpb24oKSB7XHJcbiAgLy8gICAkKCcjaW5mbycpLnJlbW92ZUNsYXNzKCdyZXZlYWwgYW5pbWF0ZWQgZmFkZUluICcpXHJcbiAgLy8gICAkKCcjaW5mbycpLmFkZENsYXNzKCdoaWRkZW4gYW5pbWF0ZWQgZmFkZU91dCcpXHJcbiAgLy8gfSk7XHJcblxyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2dyb3ZlbWFkZScpLmRpcmVjdGl2ZSgnY3VzdG9tZm9vdGVyJywgKCkgPT4ge1xyXG4gIHJldHVybih7XHJcbiAgICB0ZW1wbGF0ZVVybDogJy4vdGVtcGxhdGVzL2Zvb3Rlci5odG1sJyxcclxuICAgIC8vIHRoZSBjb250cm9sbGVyIGlzIGZvciB0aGUgYXJyb3cgYnV0dG9uIHRvIHRha2UgdXMgdG8gdGhlIHRvcCBvZiB0aGUgcGFnZVxyXG4gICAgY29udHJvbGxlcjogZnVuY3Rpb24oJHNjb3BlKXtcclxuICAgICAgJHNjb3BlLnNjcm9sbFRvcCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKVxyXG4gICAgfVxyXG4gICAgfVxyXG59KVxyXG59KVxyXG4iLCJcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2dyb3ZlbWFkZScpLmRpcmVjdGl2ZSgnbmF2YmFyJywgKCkgPT4ge1xyXG4gIHJldHVybntcclxuICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvbmF2YmFyLmh0bWwnLFxyXG4gICAgY29udHJvbGxlcjogZnVuY3Rpb24oJHN0YXRlLCAkcm9vdFNjb3BlKXtcclxuICAgICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcclxuICAgICAgICAkKCcubmF2JykucmVtb3ZlQ2xhc3MoJ3N0aWNreS1uYXYnKTtcclxuICAgICAgICB2YXIgc2Nyb2xsX3BvcyA9IDA7XHJcbiAgICAgICAgJChkb2N1bWVudCkuc2Nyb2xsKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzY3JvbGxfcG9zID0gJCh0aGlzKS5zY3JvbGxUb3AoKTtcclxuICAgICAgICAgICAgaWYoc2Nyb2xsX3BvcyA+IDIwKSB7XHJcbiAgICAgICAgICAgICAgJCgnLm5hdicpLmFkZENsYXNzKCdzdGlja3ktbmF2Jyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgJCgnLm5hdicpLnJlbW92ZUNsYXNzKCdzdGlja3ktbmF2Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyB2YXIgaXNBY3RpdmUgPSBmYWxzZTtcclxuXHJcbiAgICAgICQoJy5uZXdzbGV0dGVyLW9wZW4nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyBpc0FjdGl2ZSA9ICFpc0FjdGl2ZTtcclxuICAgICAgXHQvLyBpZiAoaXNBY3RpdmUpIHtcclxuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGlzQWN0aXZlKTtcclxuICAgICAgICAgICQoJy5uZXdzbGV0dGVyLXdyYXBwZXInKS5yZW1vdmVDbGFzcygnaGlkZS1uZXdzbGV0dGVyJyk7XHJcbiAgICAgIFx0Ly8gfSBlbHNlIHtcclxuICAgICAgXHRcdC8vICQoJy5uZXdzbGV0dGVyLXdyYXBwZXInKS5hZGRDbGFzcygnaGlkZS1uZXdzbGV0dGVyJyk7XHJcbiAgICAgIFx0Ly8gfVxyXG5cclxuICAgICAgfSk7XHJcblxyXG4gICAgICAkKCcubmV3c2xldHRlci1jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIGlzQWN0aXZlID0gIWlzQWN0aXZlO1xyXG4gICAgICBcdC8vIGlmICghaXNBY3RpdmUpIHtcclxuICAgICAgICAgICQoJy5uZXdzbGV0dGVyLXdyYXBwZXInKS5hZGRDbGFzcygnaGlkZS1uZXdzbGV0dGVyJyk7XHJcbiAgICAgIFx0Ly8gfSBlbHNlIHtcclxuICAgICAgXHRcdC8vICQoJy5uZXdzbGV0dGVyLXdyYXBwZXInKS5yZW1vdmVDbGFzcygnaGlkZS1uZXdzbGV0dGVyJyk7XHJcbiAgICAgIFx0Ly8gfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgICQoJy5uYXYtY2FydCcpLm9uKCdtb3VzZW92ZXInLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJCgnLnN0aWNreS1jYXJ0JykuZmFkZUluKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgICQoJy5zdGlja3ktY2FydCcpLm1vdXNlbGVhdmUoZnVuY3Rpb24oKXtcclxuICAgICAgICAkKCcuc3RpY2t5LWNhcnQnKS5mYWRlT3V0KCk7XHJcbiAgICAgIH0pXHJcblxyXG4gICAgfS8vZW5kIG9mIGNvbnRyb2xsZXJcclxuICB9O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2dyb3ZlbWFkZScpLnNlcnZpY2UoJ2hvbWVTcnZjJywgZnVuY3Rpb24oJGh0dHApIHtcclxuXHJcbiAgdGhpcy5nZXRTaG9wID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuICRodHRwKHtcclxuICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgdXJsOiAnL3Nob3AnXHJcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZygnU1JWQycsIHJlc3BvbnNlKTtcclxuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5nZXRBYm91dFBhZ2UgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gJGh0dHAoe1xyXG4gICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICB1cmw6ICcvYWJvdXQnXHJcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZygnU1JWQycsIHJlc3BvbnNlKTtcclxuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5nZXRKb3VybmFsID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuICRodHRwKHtcclxuICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgdXJsOiAnL2pvdXJuYWwnXHJcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZygnU1JWQycsIHJlc3BvbnNlKTtcclxuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5nZXRBdHRyaWJ1dGVzID0gKGlkKSA9PiB7XHJcbiAgICByZXR1cm4gJGh0dHAoe1xyXG4gICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICB1cmw6ICcvYXR0cmlidXRlcy8nICsgaWRcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHRoaXMuZ2V0UHJvZHVjdCA9IChpZCkgPT4ge1xyXG4gICAgcmV0dXJuICRodHRwKHtcclxuICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgdXJsOiAnL3Byb2R1Y3QvJyArIGlkXHJcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZygnU1JWQyBwcm9kdWN0JywgcmVzcG9uc2UpO1xyXG4gICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICB0aGlzLmdldENhcm91c2VsID0gKGlkKSA9PiB7XHJcbiAgICByZXR1cm4gJGh0dHAoe1xyXG4gICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICB1cmw6ICcvY2Fyb3VzZWwvJyArIGlkXHJcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZygnU1JWQyBjYXJvdXNlbCcsIHJlc3BvbnNlKTtcclxuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5nZXRTaXplcyA9IChpZCkgPT4ge1xyXG4gICAgcmV0dXJuICRodHRwKHtcclxuICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgdXJsOiAnL3NpemVzLycgKyBpZFxyXG4gICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coJ1NSVkMgc2l6ZXMnLCByZXNwb25zZSk7XHJcbiAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gICB0aGlzLmdldEltYWdlcyA9IChzaXplKSA9PiB7XHJcbiAgICAgbGV0IGlkID0gc2l6ZS5pZDtcclxuICAgIHJldHVybiAkaHR0cCh7XHJcbiAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgIHVybDogJy9pbWFnZXMvJyArIGlkXHJcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZygnU1JWQyBpbWFnZXMnLCByZXNwb25zZSk7XHJcbiAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG5cclxuXHJcblxyXG59KTtcclxuIl19
