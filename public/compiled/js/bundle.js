'use strict';

angular.module('grovemade', ['ui.router']).config(function ($stateProvider, $urlRouterProvider) {

  $urlRouterProvider.otherwise('/');

  $stateProvider.state('home', {
    url: '/',
    templateUrl: './templates/home.html',
    controller: 'homeCtrl'
  }).state('shop', {
    url: '/shop',
    templateUrl: './templates/shop.html',
    controller: 'shopCtrl'
  }).state('about', {
    url: '/about',
    templateUrl: './templates/about.html',
    controller: 'aboutCtrl'
  }).state('journal', {
    url: '/journal',
    templateUrl: './templates/journal.html',
    controller: 'journalCtrl'
  }).state('1', {
    url: '/journal/desk-ergonomics',
    templateUrl: './templates/desk-ergonomics.html',
    controller: 'journalCtrl'
  }).state('2', {
    url: '/journal/love-your-work',
    templateUrl: './templates/love-your-work.html',
    controller: 'journalCtrl'
  }).state('3', {
    url: '/journal/designing-the-wood-watch-02',
    templateUrl: './templates/designing-the-wood-watch-02.html',
    controller: 'journalCtrl'
  }).state('product', {
    url: '/product/:id',
    templateUrl: '/templates/product.html',
    controller: 'productCtrl'
  });
});
'use strict';

angular.module('grovemade').controller('aboutCtrl', function ($scope, homeSrvc, $stateParams, $timeout) {
  window.scrollTo(0, 0);

  homeSrvc.getAboutPage().then(function (response) {
    $scope.employees = response.data;
    console.log('CTRL', $scope.employees);
  });

  $scope.showEmployee = function (id) {
    homeSrvc.getAttributes(id).then(function (res) {
      $scope.attributes = res.data;
      console.log(res.data);
    });
  };

  $scope.hideEmployee = function () {
    $scope.selected = -1;
    for (var i = 6; i < 18; i++) {
      $('#test' + i).removeClass('moveDown animated slideInDown');
    }
    $('.our-story').removeClass('moveDown animated slideInDown');
  };

  $scope.showDeets = function (i) {
    $scope.selected = i;
    if (i < 6) {
      $('html, body').animate({
        scrollTop: $("body").offset().top + 1850
      }, 800);
      for (var j = 6; j < 12; j++) {
        console.log('first');
        $('#test' + j).addClass('moveDown animated slideInDown');
      }
      for (var j = 12; j < 18; j++) {
        console.log('second', j);
        $('#test' + j).removeClass('moveDown');
      }
      $('.our-story').removeClass('moveDown animated slideInDown');
    } else if (i > 5 && i < 12) {
      $('html, body').animate({
        scrollTop: $("body").offset().top + 2140
      }, 800);
      for (var x = 12; x < 18; x++) {
        $('#test' + x).addClass('moveDown animated slideInDown');
      }
      for (var x = 6; x < 12; x++) {
        $('#test' + x).removeClass('moveDown');
      }
      $('our-story').removeClass('moveDown animated slideInDown');
    } else {
      $('html, body').animate({
        scrollTop: $("body").offset().top + 2430
      }, 800);
      for (var z = 6; z < 18; z++) {
        $('#test' + z).removeClass('moveDown');
      }
      $('.our-story').addClass('moveDown animated slideInDown');
    }
  };

  $(document).on("mouseover", "#employee-hover", function () {
    $(this).addClass('animated fadeOut');
  });
  $(document).on("mouseleave", "#employee-hover", function () {
    $(this).removeClass('animated fadeOut');
    $(this).addClass('animated fadeIn');
  });
});
'use strict';

angular.module('grovemade').controller('carouselCtrl', function ($scope) {});
'use strict';

angular.module('grovemade').controller('homeCtrl', function ($scope, $stateParams, $interval, $timeout) {
  $scope.myInterval = 3000;
  var index = -1;
  $scope.slides = [{
    image: '/img/homemarq-walnut-desk-collection-G2_1.jpg',
    title: 'DESK COLLECTION',
    color: 'IN WALNUT OR MAPLE'
  }, {
    image: '/img/homemarq-watch-02-A3_1.jpg',
    title: 'WOOD WATCH',
    color: 'MODEL 02'
  }, {
    image: '/img/homemarq-wallet-A4_1.jpg',
    title: 'EVERYDAY CARRY',
    color: 'COLLECTION'
  }, {
    image: '/img/homemarq-wallet-case-A2_1.jpg',
    title: 'WALLET CASE',
    color: 'FOR iPHONE 6 & 7'
  }, {
    image: '/img/homemarq-wood-iphone-6-case-B2_1.jpg',
    title: 'iPHONE   7 CASES',
    color: 'IN WALNUT OR MAPLE'

  }, {
    image: '/img/homemarq-bifold-wallet-E1_1.jpg',
    title: 'BIFOLD WALLET',
    color: 'IN BLACK OR TAN'
  }, {
    image: '/img/homemarq-wood-speakers-A1_2.jpg',
    title: 'WOOD SPEAKERS',
    color: 'IN WALNUT OR MAPLE'
  }];
  $scope.photoClass = [];
  var timer = $interval(function () {
    $scope.next();
  }, 5000);
  $scope.stop = function () {
    $interval.cancel(timer);
  };
  $scope.next = function () {
    index++;
    if (index > 6) {
      index = 0;
    }
    $scope.nextPhoto = $scope.slides[index].image;
    $scope.nextTitle = $scope.slides[index].title;
    $scope.nextColor = $scope.slides[index].color;

    $scope.photoClass.splice(0, 1, 'animated fadeOut');
    $timeout(function () {
      $scope.photoClass.splice(0, 1, 'animated fadeIn');
      $scope.selected = $scope.slides[index].image;
      $scope.title = $scope.slides[index].title;
      $scope.color = $scope.slides[index].color;
    }, 500);
  };

  $scope.previous = function () {
    index--;
    if (index < 0) {
      index = 6;
    }
    $scope.nextPhoto = $scope.slides[index].image;
    $scope.nextTitle = $scope.slides[index].title;
    $scope.nextColor = $scope.slides[index].color;

    $scope.photoClass.splice(0, 1, 'animated fadeOut');
    $timeout(function () {
      $scope.photoClass.splice(0, 1, 'animated fadeIn');
      $scope.selected = $scope.slides[index].image;
      $scope.title = $scope.slides[index].title;
      $scope.color = $scope.slides[index].color;
    }, 500);
  };
  $scope.next();
});
'use strict';

angular.module('grovemade').controller('journalCtrl', function ($scope, homeSrvc, $stateParams) {

  homeSrvc.getJournal().then(function (response) {
    $scope.journal = response.data;
    console.log('CTRL', $scope.journal);
  });
  // upon hover, the selected index is pushing the animate.css  fade to the covering array
  $scope.covering = [];
  $scope.onHover = function (i) {
    $scope.selected = i;
    $scope.covering.push('cover animated fadeIn2');
  };
  // upon mouse leave, the selected index we are on will take away the animate.css
  $scope.onLeave = function (i) {
    $scope.selected = i;
    $scope.covering.splice(0);
  };
});
'use strict';

angular.module('grovemade').controller('productCtrl', function ($scope, homeSrvc, $stateParams) {

  homeSrvc.getProduct($stateParams.id).then(function (response) {
    $scope.item = response.data;
    console.log('DETAILs', $scope.item);
  });

  homeSrvc.getCarousel($stateParams.id).then(function (response) {
    console.log('PRODUCT ID', $stateParams.id);
    $scope.carousels = response.data;
    console.log('CAROUSEL', $scope.carousels);
  });

  homeSrvc.getSizes($stateParams.id).then(function (response) {
    $scope.sizes = response.data;
    console.log('SIZES', $scope.sizes);
  });

  $scope.getImages = function (size) {
    homeSrvc.getImages(size).then(function (response) {
      console.log('SIZE ID', size);
      $scope.images = response.data;
      console.log('IMAGES', $scope.images);
    }).catch(function (err) {
      console.log(err);
    });
  };
}); //end of controller
'use strict';

angular.module('grovemade').controller('shopCtrl', function ($scope, homeSrvc, $stateParams) {

  homeSrvc.getShop().then(function (response) {
    $scope.products = response.data;
  });

  $(document).on("mouseover", "#unique", function () {
    $(this).addClass('animated fadeOut');
  });
  $(document).on("mouseleave", "#unique", function () {
    $(this).removeClass('animated fadeOut');
    $(this).addClass('animated fadeIn');
  });

  // $(document).on("mouseover", ".product-link", function() {
  //   $('#info').addClass('reveal animated fadeIn')
  //   $('#info').removeClass('hidden')
  // });
  // $(document).on("mouseleave", ".product-link", function() {
  //   $('#info').removeClass('reveal animated fadeIn ')
  //   $('#info').addClass('hidden animated fadeOut')
  // });
});
'use strict';

angular.module('grovemade').directive('customfooter', function () {
  return {
    templateUrl: './templates/footer.html',
    // the controller is for the arrow button to take us to the top of the page
    controller: function controller($scope) {
      $scope.scrollTop = function () {
        window.scrollTo(0, 0);
      };
    }
  };
});
"use strict";
'use strict';

angular.module('grovemade').directive('navbar', function () {
  return {
    templateUrl: './templates/navbar.html',
    controller: function controller($state, $rootScope) {
      $(document).ready(function () {
        $('.nav').removeClass('sticky-nav');
        var scroll_pos = 0;
        $(document).scroll(function () {
          scroll_pos = $(this).scrollTop();
          if (scroll_pos > 20) {
            $('.nav').addClass('sticky-nav');
          } else {
            $('.nav').removeClass('sticky-nav');
          }
        });
      });

      // var isActive = false;

      $('.newsletter-open').on('click', function () {
        // isActive = !isActive;
        // if (isActive) {
        // console.log(isActive);
        $('.newsletter-wrapper').removeClass('hide-newsletter');
        // } else {
        // $('.newsletter-wrapper').addClass('hide-newsletter');
        // }
      });

      $('.newsletter-close').on('click', function () {
        // isActive = !isActive;
        // if (!isActive) {
        $('.newsletter-wrapper').addClass('hide-newsletter');
        // } else {
        // $('.newsletter-wrapper').removeClass('hide-newsletter');
        // }
      });

      $('.nav-cart').on('mouseover', function () {
        $('.sticky-cart').fadeIn();
      });
      $('.sticky-cart').mouseleave(function () {
        $('.sticky-cart').fadeOut();
      });
    } //end of controller
  };
});
'use strict';

angular.module('grovemade').service('homeSrvc', function ($http) {

  this.getShop = function () {
    return $http({
      method: 'GET',
      url: '/shop'
    }).then(function (response) {
      console.log('SRVC', response);
      return response;
    });
  };

  this.getAboutPage = function () {
    return $http({
      method: 'GET',
      url: '/about'
    }).then(function (response) {
      console.log('SRVC', response);
      return response;
    });
  };

  this.getJournal = function () {
    return $http({
      method: 'GET',
      url: '/journal'
    }).then(function (response) {
      console.log('SRVC', response);
      return response;
    });
  };

  this.getAttributes = function (id) {
    return $http({
      method: 'GET',
      url: '/attributes/' + id
    });
  };

  this.getProduct = function (id) {
    return $http({
      method: 'GET',
      url: '/product/' + id
    }).then(function (response) {
      console.log('SRVC product', response);
      return response;
    });
  };

  this.getCarousel = function (id) {
    return $http({
      method: 'GET',
      url: '/carousel/' + id
    }).then(function (response) {
      console.log('SRVC carousel', response);
      return response;
    });
  };

  this.getSizes = function (id) {
    return $http({
      method: 'GET',
      url: '/sizes/' + id
    }).then(function (response) {
      console.log('SRVC sizes', response);
      return response;
    });
  };

  this.getImages = function (size) {
    var id = size.id;
    return $http({
      method: 'GET',
      url: '/images/' + id
    }).then(function (response) {
      console.log('SRVC images', response);
      return response;
    });
  };
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRyb2xsZXJzL2Fib3V0Q3RybC5qcyIsImNvbnRyb2xsZXJzL2Nhcm91c2VsQ3RybC5qcyIsImNvbnRyb2xsZXJzL2hvbWVDdHJsLmpzIiwiY29udHJvbGxlcnMvam91cm5hbEN0cmwuanMiLCJjb250cm9sbGVycy9wcm9kdWN0Q3RybC5qcyIsImNvbnRyb2xsZXJzL3Nob3BDdHJsLmpzIiwiZGlyZWN0aXZlcy9mb290ZXIuanMiLCJkaXJlY3RpdmVzL2hvbWVEaXJlY3RpdmUuanMiLCJkaXJlY3RpdmVzL25hdmJhci5qcyIsInNlcnZpY2VzL2hvbWVTZXJ2aWNlLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIm90aGVyd2lzZSIsInN0YXRlIiwidXJsIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwiJHNjb3BlIiwiaG9tZVNydmMiLCIkc3RhdGVQYXJhbXMiLCIkdGltZW91dCIsIndpbmRvdyIsInNjcm9sbFRvIiwiZ2V0QWJvdXRQYWdlIiwidGhlbiIsInJlc3BvbnNlIiwiZW1wbG95ZWVzIiwiZGF0YSIsImNvbnNvbGUiLCJsb2ciLCJzaG93RW1wbG95ZWUiLCJpZCIsImdldEF0dHJpYnV0ZXMiLCJyZXMiLCJhdHRyaWJ1dGVzIiwiaGlkZUVtcGxveWVlIiwic2VsZWN0ZWQiLCJpIiwiJCIsInJlbW92ZUNsYXNzIiwic2hvd0RlZXRzIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsIm9mZnNldCIsInRvcCIsImoiLCJhZGRDbGFzcyIsIngiLCJ6IiwiZG9jdW1lbnQiLCJvbiIsIiRpbnRlcnZhbCIsIm15SW50ZXJ2YWwiLCJpbmRleCIsInNsaWRlcyIsImltYWdlIiwidGl0bGUiLCJjb2xvciIsInBob3RvQ2xhc3MiLCJ0aW1lciIsIm5leHQiLCJzdG9wIiwiY2FuY2VsIiwibmV4dFBob3RvIiwibmV4dFRpdGxlIiwibmV4dENvbG9yIiwic3BsaWNlIiwicHJldmlvdXMiLCJnZXRKb3VybmFsIiwiam91cm5hbCIsImNvdmVyaW5nIiwib25Ib3ZlciIsInB1c2giLCJvbkxlYXZlIiwiZ2V0UHJvZHVjdCIsIml0ZW0iLCJnZXRDYXJvdXNlbCIsImNhcm91c2VscyIsImdldFNpemVzIiwic2l6ZXMiLCJnZXRJbWFnZXMiLCJzaXplIiwiaW1hZ2VzIiwiY2F0Y2giLCJlcnIiLCJnZXRTaG9wIiwicHJvZHVjdHMiLCJkaXJlY3RpdmUiLCIkc3RhdGUiLCIkcm9vdFNjb3BlIiwicmVhZHkiLCJzY3JvbGxfcG9zIiwic2Nyb2xsIiwiZmFkZUluIiwibW91c2VsZWF2ZSIsImZhZGVPdXQiLCJzZXJ2aWNlIiwiJGh0dHAiLCJtZXRob2QiXSwibWFwcGluZ3MiOiI7O0FBQUFBLFFBQVFDLE1BQVIsQ0FBZSxXQUFmLEVBQTRCLENBQUMsV0FBRCxDQUE1QixFQUNDQyxNQURELENBQ1EsVUFBU0MsY0FBVCxFQUF5QkMsa0JBQXpCLEVBQTRDOztBQUVsREEscUJBQW1CQyxTQUFuQixDQUE2QixHQUE3Qjs7QUFFQUYsaUJBQ0NHLEtBREQsQ0FDTyxNQURQLEVBQ2U7QUFDYkMsU0FBSSxHQURTO0FBRWJDLGlCQUFZLHVCQUZDO0FBR2JDLGdCQUFXO0FBSEUsR0FEZixFQU9DSCxLQVBELENBT08sTUFQUCxFQU9lO0FBQ2JDLFNBQUksT0FEUztBQUViQyxpQkFBWSx1QkFGQztBQUdiQyxnQkFBVztBQUhFLEdBUGYsRUFhQ0gsS0FiRCxDQWFPLE9BYlAsRUFhZ0I7QUFDZEMsU0FBSSxRQURVO0FBRWRDLGlCQUFZLHdCQUZFO0FBR2RDLGdCQUFXO0FBSEcsR0FiaEIsRUFtQkNILEtBbkJELENBbUJPLFNBbkJQLEVBbUJrQjtBQUNoQkMsU0FBSSxVQURZO0FBRWhCQyxpQkFBWSwwQkFGSTtBQUdoQkMsZ0JBQVc7QUFISyxHQW5CbEIsRUF5QkNILEtBekJELENBeUJPLEdBekJQLEVBeUJZO0FBQ1ZDLFNBQUksMEJBRE07QUFFVkMsaUJBQVksa0NBRkY7QUFHVkMs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QUFOLEVBR0pQLElBSEksQ0FHQyxVQUFDQyxRQUFELEVBQWM7QUFDcEJHLGNBQVFDLEdBQVIsQ0FBWSxjQUFaLEVBQTRCSixRQUE1QjtBQUNBLGFBQU9BLFFBQVA7QUFDRCxLQU5NLENBQVA7QUFPRCxHQVJEOztBQVVBLE9BQUttRCxXQUFMLEdBQW1CLFVBQUM3QyxFQUFELEVBQVE7QUFDekIsV0FBT2tFLE1BQU07QUFDWEMsY0FBUSxLQURHO0FBRVhwRixXQUFLLGVBQWVpQjtBQUZULEtBQU4sRUFHSlAsSUFISSxDQUdDLFVBQUNDLFFBQUQsRUFBYztBQUNwQkcsY0FBUUMsR0FBUixDQUFZLGVBQVosRUFBNkJKLFFBQTdCO0FBQ0EsYUFBT0EsUUFBUDtBQUNELEtBTk0sQ0FBUDtBQU9ELEdBUkQ7O0FBVUEsT0FBS3FELFFBQUwsR0FBZ0IsVUFBQy9DLEVBQUQsRUFBUTtBQUN0QixXQUFPa0UsTUFBTTtBQUNYQyxjQUFRLEtBREc7QUFFWHBGLFdBQUssWUFBWWlCO0FBRk4sS0FBTixFQUdKUCxJQUhJLENBR0MsVUFBQ0MsUUFBRCxFQUFjO0FBQ3BCRyxjQUFRQyxHQUFSLENBQVksWUFBWixFQUEwQkosUUFBMUI7QUFDQSxhQUFPQSxRQUFQO0FBQ0QsS0FOTSxDQUFQO0FBT0QsR0FSRDs7QUFVQyxPQUFLdUQsU0FBTCxHQUFpQixVQUFDQyxJQUFELEVBQVU7QUFDekIsUUFBSWxELEtBQUtrRCxLQUFLbEQsRUFBZDtBQUNELFdBQU9rRSxNQUFNO0FBQ1hDLGNBQVEsS0FERztBQUVYcEYsV0FBSyxhQUFhaUI7QUFGUCxLQUFOLEVBR0pQLElBSEksQ0FHQyxVQUFDQyxRQUFELEVBQWM7QUFDcEJHLGNBQVFDLEdBQVIsQ0FBWSxhQUFaLEVBQTJCSixRQUEzQjtBQUNBLGFBQU9BLFFBQVA7QUFDRCxLQU5NLENBQVA7QUFPRCxHQVRBO0FBZUYsQ0FyRkQiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhci5tb2R1bGUoJ2dyb3ZlbWFkZScsIFsndWkucm91dGVyJ10pXG4uY29uZmlnKGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpe1xuXG4gICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKVxuXG4gICRzdGF0ZVByb3ZpZGVyXG4gIC5zdGF0ZSgnaG9tZScsIHtcbiAgICB1cmw6Jy8nLFxuICAgIHRlbXBsYXRlVXJsOicuL3RlbXBsYXRlcy9ob21lLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6J2hvbWVDdHJsJ1xuICB9KVxuXG4gIC5zdGF0ZSgnc2hvcCcsIHtcbiAgICB1cmw6Jy9zaG9wJyxcbiAgICB0ZW1wbGF0ZVVybDonLi90ZW1wbGF0ZXMvc2hvcC5odG1sJyxcbiAgICBjb250cm9sbGVyOidzaG9wQ3RybCdcbiAgfSlcblxuICAuc3RhdGUoJ2Fib3V0Jywge1xuICAgIHVybDonL2Fib3V0JyxcbiAgICB0ZW1wbGF0ZVVybDonLi90ZW1wbGF0ZXMvYWJvdXQuaHRtbCcsXG4gICAgY29udHJvbGxlcjonYWJvdXRDdHJsJ1xuICB9KVxuXG4gIC5zdGF0ZSgnam91cm5hbCcsIHtcbiAgICB1cmw6Jy9qb3VybmFsJyxcbiAgICB0ZW1wbGF0ZVVybDonLi90ZW1wbGF0ZXMvam91cm5hbC5odG1sJyxcbiAgICBjb250cm9sbGVyOidqb3VybmFsQ3RybCdcbiAgfSlcblxuICAuc3RhdGUoJzEnLCB7XG4gICAgdXJsOicvam91cm5hbC9kZXNrLWVyZ29ub21pY3MnLFxuICAgIHRlbXBsYXRlVXJsOicuL3RlbXBsYXRlcy9kZXNrLWVyZ29ub21pY3MuaHRtbCcsXG4gICAgY29udHJvbGxlcjonam91cm5hbEN0cmwnXG4gIH0pXG5cbiAgLnN0YXRlKCcyJywge1xuICAgIHVybDonL2pvdXJuYWwvbG92ZS15b3VyLXdvcmsnLFxuICAgIHRlbXBsYXRlVXJsOicuL3RlbXBsYXRlcy9sb3ZlLXlvdXItd29yay5odG1sJyxcbiAgICBjb250cm9sbGVyOidqb3VybmFsQ3RybCdcbiAgfSlcblxuICAuc3RhdGUoJzMnLCB7XG4gICAgdXJsOicvam91cm5hbC9kZXNpZ25pbmctdGhlLXdvb2Qtd2F0Y2gtMDInLFxuICAgIHRlbXBsYXRlVXJsOicuL3RlbXBsYXRlcy9kZXNpZ25pbmctdGhlLXdvb2Qtd2F0Y2gtMDIuaHRtbCcsXG4gICAgY29udHJvbGxlcjonam91cm5hbEN0cmwnXG4gIH0pXG5cbiAgLnN0YXRlKCdwcm9kdWN0Jywge1xuICAgIHVybDogJy9wcm9kdWN0LzppZCcsXG4gICAgdGVtcGxhdGVVcmw6ICcvdGVtcGxhdGVzL3Byb2R1Y3QuaHRtbCcsXG4gICAgY29udHJvbGxlcjogJ3Byb2R1Y3RDdHJsJ1xuICB9KVxuXG5cblxufSlcbiIsImFuZ3VsYXIubW9kdWxlKCdncm92ZW1hZGUnKVxuLmNvbnRyb2xsZXIoJ2Fib3V0Q3RybCcsICgkc2NvcGUsIGhvbWVTcnZjLCAkc3RhdGVQYXJhbXMsICR0aW1lb3V0KSA9PiB7XG4gIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcblxuICBob21lU3J2Yy5nZXRBYm91dFBhZ2UoKS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICRzY29wZS5lbXBsb3llZXMgPSByZXNwb25zZS5kYXRhO1xuICAgIGNvbnNvbGUubG9nKCdDVFJMJywgJHNjb3BlLmVtcGxveWVlcyk7XG4gIH0pXG5cbiAgJHNjb3BlLnNob3dFbXBsb3llZT1mdW5jdGlvbihpZCl7XG4gICAgaG9tZVNydmMuZ2V0QXR0cmlidXRlcyhpZCkudGhlbihmdW5jdGlvbihyZXMpe1xuICAgICAgJHNjb3BlLmF0dHJpYnV0ZXMgPSByZXMuZGF0YTtcbiAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTtcbiAgICB9KVxuICB9XG5cbiAgJHNjb3BlLmhpZGVFbXBsb3llZSA9IGZ1bmN0aW9uKCkge1xuICAgICRzY29wZS5zZWxlY3RlZCA9IC0xXG4gICAgZm9yKHZhciBpID0gNjsgaSA8IDE4OyBpKyspe1xuICAgICAgJCgnI3Rlc3QnICsgaSkucmVtb3ZlQ2xhc3MoJ21vdmVEb3duIGFuaW1hdGVkIHNsaWRlSW5Eb3duJylcbiAgICB9XG4gICAgJCgnLm91ci1zdG9yeScpLnJlbW92ZUNsYXNzKCdtb3ZlRG93biBhbmltYXRlZCBzbGlkZUluRG93bicpXG4gIH1cblxuICAkc2NvcGUuc2hvd0RlZXRzID0gZnVuY3Rpb24oaSl7XG4gICAgICAkc2NvcGUuc2VsZWN0ZWQgPSBpXG4gICAgaWYoaSA8IDYpe1xuICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe1xuICAgICAgIHNjcm9sbFRvcDogJChcImJvZHlcIikub2Zmc2V0KCkudG9wICsgMTg1MFxuICAgfSwgODAwKTtcbiAgIGZvcih2YXIgaiA9IDY7IGogPCAxMjsgaisrKXtcbiAgICAgY29uc29sZS5sb2coJ2ZpcnN0Jyk7XG4gICAgICQoJyN0ZXN0JyArIGopLmFkZENsYXNzKCdtb3ZlRG93biBhbmltYXRlZCBzbGlkZUluRG93bicpXG4gICB9XG4gICBmb3IodmFyIGogPSAxMjsgaiA8IDE4OyBqKyspe1xuICAgICBjb25zb2xlLmxvZygnc2Vjb25kJywgaik7XG4gICAgICQoJyN0ZXN0JyArIGopLnJlbW92ZUNsYXNzKCdtb3ZlRG93bicpXG4gICB9XG4gICAgJCgnLm91ci1zdG9yeScpLnJlbW92ZUNsYXNzKCdtb3ZlRG93biBhbmltYXRlZCBzbGlkZUluRG93bicpXG4gICAgfVxuICAgIGVsc2UgaWYoaSA+IDUgJiYgaSA8IDEyKXtcbiAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcbiAgICAgICAgICBzY3JvbGxUb3A6ICQoXCJib2R5XCIpLm9mZnNldCgpLnRvcCArIDIxNDBcbiAgICAgIH0sIDgwMCk7XG4gICAgICBmb3IodmFyIHggPSAxMjsgeCA8IDE4OyB4Kyspe1xuICAgICAgICAkKCcjdGVzdCcgKyB4KS5hZGRDbGFzcygnbW92ZURvd24gYW5pbWF0ZWQgc2xpZGVJbkRvd24nKVxuICAgICAgfVxuICAgICAgZm9yKHZhciB4ID0gNjsgeCA8IDEyOyB4Kyspe1xuICAgICAgICAkKCcjdGVzdCcgKyB4KS5yZW1vdmVDbGFzcygnbW92ZURvd24nKVxuICAgICAgfVxuICAgICAgJCgnb3VyLXN0b3J5JykucmVtb3ZlQ2xhc3MoJ21vdmVEb3duIGFuaW1hdGVkIHNsaWRlSW5Eb3duJylcbiAgICAgIH1cbiAgICBlbHNle1xuICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe1xuICAgICAgICAgIHNjcm9sbFRvcDogJChcImJvZHlcIikub2Zmc2V0KCkudG9wICsgMjQzMFxuICAgICAgfSwgODAwKTtcbiAgICAgIGZvcih2YXIgeiA9IDY7IHogPCAxODsgeisrKSB7XG4gICAgICAgICQoJyN0ZXN0JyArIHopLnJlbW92ZUNsYXNzKCdtb3ZlRG93bicpXG4gICAgICB9XG4gICAgICAgICQoJy5vdXItc3RvcnknKS5hZGRDbGFzcygnbW92ZURvd24gYW5pbWF0ZWQgc2xpZGVJbkRvd24nKVxuICAgIH1cbiAgfVxuXG4gICQoZG9jdW1lbnQpLm9uKFwibW91c2VvdmVyXCIsIFwiI2VtcGxveWVlLWhvdmVyXCIsIGZ1bmN0aW9uKCkge1xuICAgICQodGhpcykuYWRkQ2xhc3MoJ2FuaW1hdGVkIGZhZGVPdXQnKVxuICB9KTtcbiAgJChkb2N1bWVudCkub24oXCJtb3VzZWxlYXZlXCIsIFwiI2VtcGxveWVlLWhvdmVyXCIsIGZ1bmN0aW9uKCkge1xuICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2FuaW1hdGVkIGZhZGVPdXQnKVxuICAgICQodGhpcykuYWRkQ2xhc3MoJ2FuaW1hdGVkIGZhZGVJbicpXG4gIH0pXG5cbn0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2dyb3ZlbWFkZScpXG4uY29udHJvbGxlcignY2Fyb3VzZWxDdHJsJywgZnVuY3Rpb24oJHNjb3BlKXtcblxuXG5cblxuICAgIH0pXG4iLCJhbmd1bGFyLm1vZHVsZSgnZ3JvdmVtYWRlJylcbi5jb250cm9sbGVyKCdob21lQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlUGFyYW1zLCAkaW50ZXJ2YWwsICR0aW1lb3V0KXtcbiAgICAkc2NvcGUubXlJbnRlcnZhbCA9IDMwMDA7XG4gICAgdmFyIGluZGV4ID0gLTE7XG4gICAgJHNjb3BlLnNsaWRlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgaW1hZ2U6ICcvaW1nL2hvbWVtYXJxLXdhbG51dC1kZXNrLWNvbGxlY3Rpb24tRzJfMS5qcGcnLFxuICAgICAgICB0aXRsZTogJ0RFU0sgQ09MTEVDVElPTicsXG4gICAgICAgIGNvbG9yOiAnSU4gV0FMTlVUIE9SIE1BUExFJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaW1hZ2U6ICcvaW1nL2hvbWVtYXJxLXdhdGNoLTAyLUEzXzEuanBnJyxcbiAgICAgICAgdGl0bGU6ICdXT09EIFdBVENIJyxcbiAgICAgICAgY29sb3I6ICdNT0RFTCAwMidcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGltYWdlOiAnL2ltZy9ob21lbWFycS13YWxsZXQtQTRfMS5qcGcnLFxuICAgICAgICB0aXRsZTogJ0VWRVJZREFZIENBUlJZJyxcbiAgICAgICAgY29sb3I6ICdDT0xMRUNUSU9OJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaW1hZ2U6ICcvaW1nL2hvbWVtYXJxLXdhbGxldC1jYXNlLUEyXzEuanBnJyxcbiAgICAgICAgdGl0bGU6ICdXQUxMRVQgQ0FTRScsXG4gICAgICAgIGNvbG9yOiAnRk9SIGlQSE9ORSA2ICYgNydcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGltYWdlOiAnL2ltZy9ob21lbWFycS13b29kLWlwaG9uZS02LWNhc2UtQjJfMS5qcGcnLFxuICAgICAgICB0aXRsZTogJ2lQSE9ORSAgIDcgQ0FTRVMnLFxuICAgICAgICBjb2xvcjogJ0lOIFdBTE5VVCBPUiBNQVBMRSdcblxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaW1hZ2U6ICcvaW1nL2hvbWVtYXJxLWJpZm9sZC13YWxsZXQtRTFfMS5qcGcnLFxuICAgICAgICB0aXRsZTogJ0JJRk9MRCBXQUxMRVQnLFxuICAgICAgICBjb2xvcjogJ0lOIEJMQUNLIE9SIFRBTidcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGltYWdlOiAnL2ltZy9ob21lbWFycS13b29kLXNwZWFrZXJzLUExXzIuanBnJyxcbiAgICAgICAgdGl0bGU6ICdXT09EIFNQRUFLRVJTJyxcbiAgICAgICAgY29sb3I6ICdJTiBXQUxOVVQgT1IgTUFQTEUnXG4gICAgICB9XG4gICAgXTtcbiAgICAkc2NvcGUucGhvdG9DbGFzcyA9IFtdXG4gICAgdmFyIHRpbWVyID0gJGludGVydmFsKGZ1bmN0aW9uKCl7XG4gICAgICAkc2NvcGUubmV4dCgpXG4gICAgfSwgNTAwMClcbiAgICAkc2NvcGUuc3RvcCA9IGZ1bmN0aW9uKCl7XG4gICAgICAkaW50ZXJ2YWwuY2FuY2VsKHRpbWVyKVxuICAgIH1cbiAgICAkc2NvcGUubmV4dCA9IGZ1bmN0aW9uKCl7XG4gICAgICBpbmRleCsrXG4gICAgICBpZihpbmRleCA+IDYpe1xuICAgICAgICBpbmRleCA9IDBcbiAgICAgIH1cbiAgICAgICRzY29wZS5uZXh0UGhvdG8gPSAkc2NvcGUuc2xpZGVzW2luZGV4XS5pbWFnZVxuICAgICAgJHNjb3BlLm5leHRUaXRsZSA9ICRzY29wZS5zbGlkZXNbaW5kZXhdLnRpdGxlXG4gICAgICAkc2NvcGUubmV4dENvbG9yID0gJHNjb3BlLnNsaWRlc1tpbmRleF0uY29sb3JcblxuICAgICAgJHNjb3BlLnBob3RvQ2xhc3Muc3BsaWNlKDAsIDEsICdhbmltYXRlZCBmYWRlT3V0JylcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICRzY29wZS5waG90b0NsYXNzLnNwbGljZSgwLCAxLCAnYW5pbWF0ZWQgZmFkZUluJylcbiAgICAgICAgJHNjb3BlLnNlbGVjdGVkID0gJHNjb3BlLnNsaWRlc1tpbmRleF0uaW1hZ2VcbiAgICAgICAgJHNjb3BlLnRpdGxlID0gJHNjb3BlLnNsaWRlc1tpbmRleF0udGl0bGVcbiAgICAgICAgJHNjb3BlLmNvbG9yID0gJHNjb3BlLnNsaWRlc1tpbmRleF0uY29sb3JcbiAgICAgIH0sIDUwMClcbiAgICB9XG5cbiAgICAkc2NvcGUucHJldmlvdXMgPSBmdW5jdGlvbigpe1xuICAgICAgaW5kZXgtLVxuICAgICAgaWYoaW5kZXggPCAwKXtcbiAgICAgICAgaW5kZXggPSA2XG4gICAgICB9XG4gICAgICAkc2NvcGUubmV4dFBob3RvID0gJHNjb3BlLnNsaWRlc1tpbmRleF0uaW1hZ2VcbiAgICAgICRzY29wZS5uZXh0VGl0bGUgPSAkc2NvcGUuc2xpZGVzW2luZGV4XS50aXRsZVxuICAgICAgJHNjb3BlLm5leHRDb2xvciA9ICRzY29wZS5zbGlkZXNbaW5kZXhdLmNvbG9yXG5cbiAgICAgICRzY29wZS5waG90b0NsYXNzLnNwbGljZSgwLCAxLCAnYW5pbWF0ZWQgZmFkZU91dCcpXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAkc2NvcGUucGhvdG9DbGFzcy5zcGxpY2UoMCwgMSwgJ2FuaW1hdGVkIGZhZGVJbicpXG4gICAgICAgICRzY29wZS5zZWxlY3RlZCA9ICRzY29wZS5zbGlkZXNbaW5kZXhdLmltYWdlXG4gICAgICAgICRzY29wZS50aXRsZSA9ICRzY29wZS5zbGlkZXNbaW5kZXhdLnRpdGxlXG4gICAgICAgICRzY29wZS5jb2xvciA9ICRzY29wZS5zbGlkZXNbaW5kZXhdLmNvbG9yXG4gICAgICB9LCA1MDApXG4gICAgfVxuICAgICRzY29wZS5uZXh0KClcbn0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2dyb3ZlbWFkZScpXG4uY29udHJvbGxlcignam91cm5hbEN0cmwnLCAoJHNjb3BlLCBob21lU3J2YywgJHN0YXRlUGFyYW1zKSA9PiB7XG5cblxuICBob21lU3J2Yy5nZXRKb3VybmFsKCkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAkc2NvcGUuam91cm5hbCA9IHJlc3BvbnNlLmRhdGE7XG4gICAgY29uc29sZS5sb2coJ0NUUkwnLCAkc2NvcGUuam91cm5hbCk7XG4gIH0pXG4gIC8vIHVwb24gaG92ZXIsIHRoZSBzZWxlY3RlZCBpbmRleCBpcyBwdXNoaW5nIHRoZSBhbmltYXRlLmNzcyAgZmFkZSB0byB0aGUgY292ZXJpbmcgYXJyYXlcbiRzY29wZS5jb3ZlcmluZyA9IFtdO1xuJHNjb3BlLm9uSG92ZXIgPSBmdW5jdGlvbihpKXtcbiAgJHNjb3BlLnNlbGVjdGVkID0gaVxuICAkc2NvcGUuY292ZXJpbmcucHVzaCgnY292ZXIgYW5pbWF0ZWQgZmFkZUluMicpXG59XG4vLyB1cG9uIG1vdXNlIGxlYXZlLCB0aGUgc2VsZWN0ZWQgaW5kZXggd2UgYXJlIG9uIHdpbGwgdGFrZSBhd2F5IHRoZSBhbmltYXRlLmNzc1xuJHNjb3BlLm9uTGVhdmUgPSBmdW5jdGlvbihpKXtcbiAgJHNjb3BlLnNlbGVjdGVkID0gaVxuICAkc2NvcGUuY292ZXJpbmcuc3BsaWNlKDApXG59XG5cbn0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2dyb3ZlbWFkZScpXG4uY29udHJvbGxlcigncHJvZHVjdEN0cmwnLCAoJHNjb3BlLCBob21lU3J2YywgJHN0YXRlUGFyYW1zKSA9PiB7XG4gIFxuaG9tZVNydmMuZ2V0UHJvZHVjdCgkc3RhdGVQYXJhbXMuaWQpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICRzY29wZS5pdGVtID0gcmVzcG9uc2UuZGF0YTtcbiAgY29uc29sZS5sb2coJ0RFVEFJTHMnLCAkc2NvcGUuaXRlbSk7XG59KTtcblxuaG9tZVNydmMuZ2V0Q2Fyb3VzZWwoJHN0YXRlUGFyYW1zLmlkKS50aGVuKChyZXNwb25zZSkgPT4ge1xuICBjb25zb2xlLmxvZygnUFJPRFVDVCBJRCcsICRzdGF0ZVBhcmFtcy5pZCk7XG4gICRzY29wZS5jYXJvdXNlbHMgPSByZXNwb25zZS5kYXRhO1xuICBjb25zb2xlLmxvZygnQ0FST1VTRUwnLCAkc2NvcGUuY2Fyb3VzZWxzKTtcbn0pO1xuXG5ob21lU3J2Yy5nZXRTaXplcygkc3RhdGVQYXJhbXMuaWQpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICRzY29wZS5zaXplcyA9IHJlc3BvbnNlLmRhdGE7XG4gIGNvbnNvbGUubG9nKCdTSVpFUycsICRzY29wZS5zaXplcyk7XG59KTtcblxuJHNjb3BlLmdldEltYWdlcyA9IChzaXplKSA9PiB7XG4gIGhvbWVTcnZjLmdldEltYWdlcyhzaXplKS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdTSVpFIElEJywgc2l6ZSk7XG4gICAgJHNjb3BlLmltYWdlcyA9IHJlc3BvbnNlLmRhdGE7XG4gICAgY29uc29sZS5sb2coJ0lNQUdFUycsICRzY29wZS5pbWFnZXMpO1xuICB9KS5jYXRjaCggKGVycikgPT4ge1xuICAgIGNvbnNvbGUubG9nKGVycik7XG4gIH0pXG59O1xuXG59KTsgLy9lbmQgb2YgY29udHJvbGxlciIsImFuZ3VsYXIubW9kdWxlKCdncm92ZW1hZGUnKVxuLmNvbnRyb2xsZXIoJ3Nob3BDdHJsJywgKCRzY29wZSwgaG9tZVNydmMsICRzdGF0ZVBhcmFtcykgPT4ge1xuXG4gIGhvbWVTcnZjLmdldFNob3AoKS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICRzY29wZS5wcm9kdWN0cyA9IHJlc3BvbnNlLmRhdGE7XG4gIH0pO1xuXG4gICQoZG9jdW1lbnQpLm9uKFwibW91c2VvdmVyXCIsIFwiI3VuaXF1ZVwiLCBmdW5jdGlvbigpIHtcbiAgICAkKHRoaXMpLmFkZENsYXNzKCdhbmltYXRlZCBmYWRlT3V0JylcbiAgfSk7XG4gICQoZG9jdW1lbnQpLm9uKFwibW91c2VsZWF2ZVwiLCBcIiN1bmlxdWVcIiwgZnVuY3Rpb24oKSB7XG4gICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYW5pbWF0ZWQgZmFkZU91dCcpXG4gICAgJCh0aGlzKS5hZGRDbGFzcygnYW5pbWF0ZWQgZmFkZUluJylcbiAgfSk7XG5cbiAgLy8gJChkb2N1bWVudCkub24oXCJtb3VzZW92ZXJcIiwgXCIucHJvZHVjdC1saW5rXCIsIGZ1bmN0aW9uKCkge1xuICAvLyAgICQoJyNpbmZvJykuYWRkQ2xhc3MoJ3JldmVhbCBhbmltYXRlZCBmYWRlSW4nKVxuICAvLyAgICQoJyNpbmZvJykucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpXG4gIC8vIH0pO1xuICAvLyAkKGRvY3VtZW50KS5vbihcIm1vdXNlbGVhdmVcIiwgXCIucHJvZHVjdC1saW5rXCIsIGZ1bmN0aW9uKCkge1xuICAvLyAgICQoJyNpbmZvJykucmVtb3ZlQ2xhc3MoJ3JldmVhbCBhbmltYXRlZCBmYWRlSW4gJylcbiAgLy8gICAkKCcjaW5mbycpLmFkZENsYXNzKCdoaWRkZW4gYW5pbWF0ZWQgZmFkZU91dCcpXG4gIC8vIH0pO1xuXG59KTtcbiIsImFuZ3VsYXIubW9kdWxlKCdncm92ZW1hZGUnKS5kaXJlY3RpdmUoJ2N1c3RvbWZvb3RlcicsICgpID0+IHtcbiAgcmV0dXJuKHtcbiAgICB0ZW1wbGF0ZVVybDogJy4vdGVtcGxhdGVzL2Zvb3Rlci5odG1sJyxcbiAgICAvLyB0aGUgY29udHJvbGxlciBpcyBmb3IgdGhlIGFycm93IGJ1dHRvbiB0byB0YWtlIHVzIHRvIHRoZSB0b3Agb2YgdGhlIHBhZ2VcbiAgICBjb250cm9sbGVyOiBmdW5jdGlvbigkc2NvcGUpe1xuICAgICAgJHNjb3BlLnNjcm9sbFRvcCA9IGZ1bmN0aW9uKCl7XG4gICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMClcbiAgICB9XG4gICAgfVxufSlcbn0pXG4iLCJcbiIsImFuZ3VsYXIubW9kdWxlKCdncm92ZW1hZGUnKS5kaXJlY3RpdmUoJ25hdmJhcicsICgpID0+IHtcbiAgcmV0dXJue1xuICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvbmF2YmFyLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCRzdGF0ZSwgJHJvb3RTY29wZSl7XG4gICAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xuICAgICAgICAkKCcubmF2JykucmVtb3ZlQ2xhc3MoJ3N0aWNreS1uYXYnKTtcbiAgICAgICAgdmFyIHNjcm9sbF9wb3MgPSAwO1xuICAgICAgICAkKGRvY3VtZW50KS5zY3JvbGwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzY3JvbGxfcG9zID0gJCh0aGlzKS5zY3JvbGxUb3AoKTtcbiAgICAgICAgICAgIGlmKHNjcm9sbF9wb3MgPiAyMCkge1xuICAgICAgICAgICAgICAkKCcubmF2JykuYWRkQ2xhc3MoJ3N0aWNreS1uYXYnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICQoJy5uYXYnKS5yZW1vdmVDbGFzcygnc3RpY2t5LW5hdicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyB2YXIgaXNBY3RpdmUgPSBmYWxzZTtcblxuICAgICAgJCgnLm5ld3NsZXR0ZXItb3BlbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBpc0FjdGl2ZSA9ICFpc0FjdGl2ZTtcbiAgICAgIFx0Ly8gaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coaXNBY3RpdmUpO1xuICAgICAgICAgICQoJy5uZXdzbGV0dGVyLXdyYXBwZXInKS5yZW1vdmVDbGFzcygnaGlkZS1uZXdzbGV0dGVyJyk7XG4gICAgICBcdC8vIH0gZWxzZSB7XG4gICAgICBcdFx0Ly8gJCgnLm5ld3NsZXR0ZXItd3JhcHBlcicpLmFkZENsYXNzKCdoaWRlLW5ld3NsZXR0ZXInKTtcbiAgICAgIFx0Ly8gfVxuXG4gICAgICB9KTtcblxuICAgICAgJCgnLm5ld3NsZXR0ZXItY2xvc2UnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gaXNBY3RpdmUgPSAhaXNBY3RpdmU7XG4gICAgICBcdC8vIGlmICghaXNBY3RpdmUpIHtcbiAgICAgICAgICAkKCcubmV3c2xldHRlci13cmFwcGVyJykuYWRkQ2xhc3MoJ2hpZGUtbmV3c2xldHRlcicpO1xuICAgICAgXHQvLyB9IGVsc2Uge1xuICAgICAgXHRcdC8vICQoJy5uZXdzbGV0dGVyLXdyYXBwZXInKS5yZW1vdmVDbGFzcygnaGlkZS1uZXdzbGV0dGVyJyk7XG4gICAgICBcdC8vIH1cbiAgICAgIH0pO1xuXG4gICAgICAkKCcubmF2LWNhcnQnKS5vbignbW91c2VvdmVyJyxmdW5jdGlvbigpe1xuICAgICAgICAkKCcuc3RpY2t5LWNhcnQnKS5mYWRlSW4oKTtcbiAgICAgIH0pXG4gICAgICAkKCcuc3RpY2t5LWNhcnQnKS5tb3VzZWxlYXZlKGZ1bmN0aW9uKCl7XG4gICAgICAgICQoJy5zdGlja3ktY2FydCcpLmZhZGVPdXQoKTtcbiAgICAgIH0pXG5cbiAgICB9Ly9lbmQgb2YgY29udHJvbGxlclxuICB9O1xufSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnZ3JvdmVtYWRlJykuc2VydmljZSgnaG9tZVNydmMnLCBmdW5jdGlvbigkaHR0cCkge1xuXG4gIHRoaXMuZ2V0U2hvcCA9ICgpID0+IHtcbiAgICByZXR1cm4gJGh0dHAoe1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIHVybDogJy9zaG9wJ1xuICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnU1JWQycsIHJlc3BvbnNlKTtcbiAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLmdldEFib3V0UGFnZSA9ICgpID0+IHtcbiAgICByZXR1cm4gJGh0dHAoe1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIHVybDogJy9hYm91dCdcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ1NSVkMnLCByZXNwb25zZSk7XG4gICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5nZXRKb3VybmFsID0gKCkgPT4ge1xuICAgIHJldHVybiAkaHR0cCh7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgdXJsOiAnL2pvdXJuYWwnXG4gICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdTUlZDJywgcmVzcG9uc2UpO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuZ2V0QXR0cmlidXRlcyA9IChpZCkgPT4ge1xuICAgIHJldHVybiAkaHR0cCh7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgdXJsOiAnL2F0dHJpYnV0ZXMvJyArIGlkXG4gICAgfSk7XG4gIH07XG5cblxuICB0aGlzLmdldFByb2R1Y3QgPSAoaWQpID0+IHtcbiAgICByZXR1cm4gJGh0dHAoe1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIHVybDogJy9wcm9kdWN0LycgKyBpZFxuICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnU1JWQyBwcm9kdWN0JywgcmVzcG9uc2UpO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuZ2V0Q2Fyb3VzZWwgPSAoaWQpID0+IHtcbiAgICByZXR1cm4gJGh0dHAoe1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIHVybDogJy9jYXJvdXNlbC8nICsgaWRcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ1NSVkMgY2Fyb3VzZWwnLCByZXNwb25zZSk7XG4gICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5nZXRTaXplcyA9IChpZCkgPT4ge1xuICAgIHJldHVybiAkaHR0cCh7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgdXJsOiAnL3NpemVzLycgKyBpZFxuICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnU1JWQyBzaXplcycsIHJlc3BvbnNlKTtcbiAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9KTtcbiAgfTtcblxuICAgdGhpcy5nZXRJbWFnZXMgPSAoc2l6ZSkgPT4ge1xuICAgICBsZXQgaWQgPSBzaXplLmlkO1xuICAgIHJldHVybiAkaHR0cCh7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgdXJsOiAnL2ltYWdlcy8nICsgaWRcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ1NSVkMgaW1hZ2VzJywgcmVzcG9uc2UpO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH0pO1xuICB9O1xuXG5cblxuXG5cbn0pO1xuIl19
