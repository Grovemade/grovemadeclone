'use strict';

angular.module('grovemade', ['ui.router']).config(function ($stateProvider, $urlRouterProvider) {

  $urlRouterProvider.otherwise('/');

  $stateProvider.state('home', {
    url: '/',
    templateUrl: './templates/home.html',
    controller: 'homeCtrl'
  }).state('shop', {
    url: '/shop',
    templateUrl: './templates/shop.html',
    controller: 'shopCtrl'
  }).state('about', {
    url: '/about',
    templateUrl: './templates/about.html',
    controller: 'aboutCtrl'
  }).state('journal', {
    url: '/journal',
    templateUrl: './templates/journal.html',
    controller: 'journalCtrl'
  }).state('1', {
    url: '/journal/desk-ergonomics',
    templateUrl: './templates/desk-ergonomics.html',
    controller: 'journalCtrl'
  }).state('2', {
    url: '/journal/love-your-work',
    templateUrl: './templates/love-your-work.html',
    controller: 'journalCtrl'
  }).state('3', {
    url: '/journal/designing-the-wood-watch-02',
    templateUrl: './templates/designing-the-wood-watch-02.html',
    controller: 'journalCtrl'
  });
});
'use strict';

angular.module('grovemade').service('homeSrvc', function ($http) {

  this.getShop = function () {
    return $http({
      method: 'GET',
      url: '/shop'
    }).then(function (response) {
      console.log('SRVC', response);
      return response;
    });
  };

  this.getAboutPage = function () {
    return $http({
      method: 'GET',
      url: '/about'
    }).then(function (response) {
      console.log('SRVC', response);
      return response;
    });
  };

  this.getJournal = function () {
    return $http({
      method: 'GET',
      url: '/journal'
    }).then(function (response) {
      console.log('SRVC', response);
      return response;
    });
  };

  this.getAttributes = function (id) {
    return $http({
      method: 'GET',
      url: '/attributes/' + id
    });
  };

  // this.getBio = (employee) => {
  //   return
  // }

});
'use strict';

angular.module('grovemade').controller('aboutCtrl', function ($scope, homeSrvc, $stateParams, $timeout) {
  window.scrollTo(0, 0);

  homeSrvc.getAboutPage().then(function (response) {
    $scope.employees = response.data;
    console.log('CTRL', $scope.employees);
  });

  $scope.showEmployee = function (id) {
    homeSrvc.getAttributes(id).then(function (res) {
      $scope.attributes = res.data;
      console.log(res.data);
    });
  };

  $scope.hideEmployee = function () {
    $scope.selected = -1;
    for (var i = 6; i < 18; i++) {
      $('#test' + i).removeClass('moveDown animated slideInDown');
    }
    $('.our-story').removeClass('moveDown animated slideInDown');
  };

  $scope.showDeets = function (i) {
    $scope.selected = i;
    if (i < 6) {
      $('html, body').animate({
        scrollTop: $("body").offset().top + 1850
      }, 800);
      for (var j = 6; j < 12; j++) {
        console.log('first');
        $('#test' + j).addClass('moveDown animated slideInDown');
      }
      for (var j = 12; j < 18; j++) {
        console.log('second', j);
        $('#test' + j).removeClass('moveDown');
      }
      $('.our-story').removeClass('moveDown animated slideInDown');
    } else if (i > 5 && i < 12) {
      $('html, body').animate({
        scrollTop: $("body").offset().top + 2140
      }, 800);
      for (var x = 12; x < 18; x++) {
        $('#test' + x).addClass('moveDown animated slideInDown');
      }
      for (var x = 6; x < 12; x++) {
        $('#test' + x).removeClass('moveDown');
      }
      $('our-story').removeClass('moveDown animated slideInDown');
    } else {
      $('html, body').animate({
        scrollTop: $("body").offset().top + 2430
      }, 800);
      for (var z = 6; z < 18; z++) {
        $('#test' + z).removeClass('moveDown');
      }
      $('.our-story').addClass('moveDown animated slideInDown');
    }
  };

  $(document).on("mouseover", "#employee-hover", function () {
    $(this).addClass('animated fadeOut');
  });
  $(document).on("mouseleave", "#employee-hover", function () {
    $(this).removeClass('animated fadeOut');
    $(this).addClass('animated fadeIn');
  });
});
'use strict';

angular.module('grovemade').controller('carouselCtrl', function ($scope) {});
'use strict';

angular.module('grovemade').controller('homeCtrl', function ($scope, $stateParams, $interval, $timeout) {
  $scope.myInterval = 3000;
  var index = -1;
  $scope.slides = [{
    image: '/img/homemarq-walnut-desk-collection-G2_1.jpg',
    title: 'DESK COLLECTION',
    color: 'IN WALNUT OR MAPLE'
  }, {
    image: '/img/homemarq-watch-02-A3_1.jpg',
    title: 'WOOD WATCH',
    color: 'MODEL 02'
  }, {
    image: '/img/homemarq-wallet-A4_1.jpg',
    title: 'EVERYDAY CARRY',
    color: 'COLLECTION'
  }, {
    image: '/img/homemarq-wallet-case-A2_1.jpg',
    title: 'WALLET CASE',
    color: 'FOR iPHONE 6 & 7'
  }, {
    image: '/img/homemarq-wood-iphone-6-case-B2_1.jpg',
    title: 'iPHONE   7 CASES',
    color: 'IN WALNUT OR MAPLE'

  }, {
    image: '/img/homemarq-bifold-wallet-E1_1.jpg',
    title: 'BIFOLD WALLET',
    color: 'IN BLACK OR TAN'
  }, {
    image: '/img/homemarq-wood-speakers-A1_2.jpg',
    title: 'WOOD SPEAKERS',
    color: 'IN WALNUT OR MAPLE'
  }];
  $scope.photoClass = [];
  var timer = $interval(function () {
    $scope.next();
  }, 5000);
  $scope.stop = function () {
    $interval.cancel(timer);
  };
  $scope.next = function () {
    index++;
    if (index > 6) {
      index = 0;
    }
    $scope.nextPhoto = $scope.slides[index].image;
    $scope.nextTitle = $scope.slides[index].title;
    $scope.nextColor = $scope.slides[index].color;

    $scope.photoClass.splice(0, 1, 'animated fadeOut');
    $timeout(function () {
      $scope.photoClass.splice(0, 1, 'animated fadeIn');
      $scope.selected = $scope.slides[index].image;
      $scope.title = $scope.slides[index].title;
      $scope.color = $scope.slides[index].color;
    }, 500);
  };

  $scope.previous = function () {
    index--;
    if (index < 0) {
      index = 6;
    }
    $scope.nextPhoto = $scope.slides[index].image;
    $scope.nextTitle = $scope.slides[index].title;
    $scope.nextColor = $scope.slides[index].color;

    $scope.photoClass.splice(0, 1, 'animated fadeOut');
    $timeout(function () {
      $scope.photoClass.splice(0, 1, 'animated fadeIn');
      $scope.selected = $scope.slides[index].image;
      $scope.title = $scope.slides[index].title;
      $scope.color = $scope.slides[index].color;
    }, 500);
  };
  $scope.next();
});
'use strict';

angular.module('grovemade').controller('journalCtrl', function ($scope, homeSrvc, $stateParams) {

  homeSrvc.getJournal().then(function (response) {
    $scope.journal = response.data;
    console.log('CTRL', $scope.journal);
  });
  // upon hover, the selected index is pushing the animate.css  fade to the covering array
  $scope.covering = [];
  $scope.onHover = function (i) {
    $scope.selected = i;
    $scope.covering.push('cover animated fadeIn2');
  };
  // upon mouse leave, the selected index we are on will take away the animate.css
  $scope.onLeave = function (i) {
    $scope.selected = i;
    $scope.covering.splice(0);
  };
});
'use strict';

angular.module('grovemade').controller('shopCtrl', function ($scope, homeSrvc, $stateParams) {

  homeSrvc.getShop().then(function (response) {
    $scope.products = response.data;
    console.log('CTRL', $scope.products);
  });
});
'use strict';

angular.module('grovemade').directive('customfooter', function () {
  return {
    templateUrl: './templates/footer.html',
    // the controller is for the arrow button to take us to the top of the page
    controller: function controller($scope) {
      $scope.scrollTop = function () {
        window.scrollTo(0, 0);
      };
    }
  };
});
"use strict";
'use strict';

angular.module('grovemade').directive('navbar', function () {
  return {
    templateUrl: './templates/navbar.html',
    controller: function controller($state, $rootScope) {
      $(document).ready(function () {
        $('.nav').removeClass('sticky-nav');
        var scroll_pos = 0;
        $(document).scroll(function () {
          scroll_pos = $(this).scrollTop();
          if (scroll_pos > 20) {
            $('.nav').addClass('sticky-nav');
          } else {
            $('.nav').removeClass('sticky-nav');
          }
        });
      });

      // var isActive = false;

      $('.newsletter-open').on('click', function () {
        // isActive = !isActive;
        // if (isActive) {
        // console.log(isActive);
        $('.newsletter-wrapper').removeClass('hide-newsletter');
        // } else {
        // $('.newsletter-wrapper').addClass('hide-newsletter');
        // }
      });

      $('.newsletter-close').on('click', function () {
        // isActive = !isActive;
        // if (!isActive) {
        $('.newsletter-wrapper').addClass('hide-newsletter');
        // } else {
        // $('.newsletter-wrapper').removeClass('hide-newsletter');
        // }
      });

      $('.nav-cart').on('mouseover', function () {
        $('.sticky-cart').fadeIn();
      });
      $('.sticky-cart').mouseleave(function () {
        $('.sticky-cart').fadeOut();
      });
    } //end of controller
  };
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsInNlcnZpY2VzL2hvbWVTZXJ2aWNlLmpzIiwiY29udHJvbGxlcnMvYWJvdXRDdHJsLmpzIiwiY29udHJvbGxlcnMvY2Fyb3VzZWxDdHJsLmpzIiwiY29udHJvbGxlcnMvaG9tZUN0cmwuanMiLCJjb250cm9sbGVycy9qb3VybmFsQ3RybC5qcyIsImNvbnRyb2xsZXJzL3Nob3BDdHJsLmpzIiwiZGlyZWN0aXZlcy9mb290ZXIuanMiLCJkaXJlY3RpdmVzL2hvbWVEaXJlY3RpdmUuanMiLCJkaXJlY3RpdmVzL25hdmJhci5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJzdGF0ZSIsInVybCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsInNlcnZpY2UiLCIkaHR0cCIsImdldFNob3AiLCJtZXRob2QiLCJ0aGVuIiwicmVzcG9uc2UiLCJjb25zb2xlIiwibG9nIiwiZ2V0QWJvdXRQYWdlIiwiZ2V0Sm91cm5hbCIsImdldEF0dHJpYnV0ZXMiLCJpZCIsIiRzY29wZSIsImhvbWVTcnZjIiwiJHN0YXRlUGFyYW1zIiwiJHRpbWVvdXQiLCJ3aW5kb3ciLCJzY3JvbGxUbyIsImVtcGxveWVlcyIsImRhdGEiLCJzaG93RW1wbG95ZWUiLCJyZXMiLCJhdHRyaWJ1dGVzIiwiaGlkZUVtcGxveWVlIiwic2VsZWN0ZWQiLCJpIiwiJCIsInJlbW92ZUNsYXNzIiwic2hvd0RlZXRzIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsIm9mZnNldCIsInRvcCIsImoiLCJhZGRDbGFzcyIsIngiLCJ6IiwiZG9jdW1lbnQiLCJvbiIsIiRpbnRlcnZhbCIsIm15SW50ZXJ2YWwiLCJpbmRleCIsInNsaWRlcyIsImltYWdlIiwidGl0bGUiLCJjb2xvciIsInBob3RvQ2xhc3MiLCJ0aW1lciIsIm5leHQiLCJzdG9wIiwiY2FuY2VsIiwibmV4dFBob3RvIiwibmV4dFRpdGxlIiwibmV4dENvbG9yIiwic3BsaWNlIiwicHJldmlvdXMiLCJqb3VybmFsIiwiY292ZXJpbmciLCJvbkhvdmVyIiwicHVzaCIsIm9uTGVhdmUiLCJwcm9kdWN0cyIsImRpcmVjdGl2ZSIsIiRzdGF0ZSIsIiRyb290U2NvcGUiLCJyZWFkeSIsInNjcm9sbF9wb3MiLCJzY3JvbGwiLCJmYWRlSW4iLCJtb3VzZWxlYXZlIiwiZmFkZU91dCJdLCJtYXBwaW5ncyI6Ijs7QUFBQUEsUUFBUUMsTUFBUixDQUFlLFdBQWYsRUFBNEIsQ0FBQyxXQUFELENBQTVCLEVBQ0NDLE1BREQsQ0FDUSxVQUFTQyxjQUFULEVBQXlCQyxrQkFBekIsRUFBNEM7O0FBRWxEQSxxQkFBbUJDLFNBQW5CLENBQTZCLEdBQTdCOztBQUVBRixpQkFDQ0csS0FERCxDQUNPLE1BRFAsRUFDZTtBQUNiQyxTQUFJLEdBRFM7QUFFYkMsaUJBQVksdUJBRkM7QUFHYkMsZ0JBQVc7QUFIRSxHQURmLEVBT0NILEtBUEQsQ0FPTyxNQVBQLEVBT2U7QUFDYkMsU0FBSSxPQURTO0FBRWJDLGlCQUFZLHVCQUZDO0FBR2JDLGdCQUFXO0FBSEUsR0FQZixFQWFDSCxLQWJELENBYU8sT0FiUCxFQWFnQjtBQUNkQyxTQUFJLFFBRFU7QUFFZEMsaUJBQVksd0JBRkU7QUFHZEMsZ0JBQVc7QUFIRyxHQWJoQixFQW1CQ0gsS0FuQkQsQ0FtQk8sU0FuQlAsRUFtQmtCO0FBQ2hCQyxTQUFJLFVBRFk7QUFFaEJDLGlCQUFZLDBCQUZJO0FBR2hCQyxnQkFBVztBQUhLLEdBbkJsQixFQXlCQ0gsS0F6QkQsQ0F5Qk8sR0F6QlAsRUF5Qlk7QUFDVkMsU0FBSSwwQkFETTtBQUVWQyxpQkFBWSxrQ0FGRjtBQUdWQyxnQkFBVztBQUhELEdBekJaLEVBK0JDSCxLQS9CRCxDQStCTyxHQS9CUCxFQStCWTtBQUNWQyxTQUFJLHlCQURNO0FBRVZDLGlCQUFZLGlDQUZGO0FBR1ZDLGdCQUFXO0FBSEQsR0EvQlosRUFxQ0NILEtBckNELENBcUNPLEdBckNQLEVBcUNZ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LFdBQUYsRUFBZVksRUFBZixDQUFrQixXQUFsQixFQUE4QixZQUFVO0FBQ3RDWixVQUFFLGNBQUYsRUFBa0IwQyxNQUFsQjtBQUNELE9BRkQ7QUFHQTFDLFFBQUUsY0FBRixFQUFrQjJDLFVBQWxCLENBQTZCLFlBQVU7QUFDckMzQyxVQUFFLGNBQUYsRUFBa0I0QyxPQUFsQjtBQUNELE9BRkQ7QUFJRCxLQTdDRyxDQTZDSDtBQTdDRyxHQUFOO0FBK0NELENBaEREIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCdncm92ZW1hZGUnLCBbJ3VpLnJvdXRlciddKVxuLmNvbmZpZyhmdW5jdGlvbigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKXtcblxuICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvJylcblxuICAkc3RhdGVQcm92aWRlclxuICAuc3RhdGUoJ2hvbWUnLCB7XG4gICAgdXJsOicvJyxcbiAgICB0ZW1wbGF0ZVVybDonLi90ZW1wbGF0ZXMvaG9tZS5odG1sJyxcbiAgICBjb250cm9sbGVyOidob21lQ3RybCdcbiAgfSlcblxuICAuc3RhdGUoJ3Nob3AnLCB7XG4gICAgdXJsOicvc2hvcCcsXG4gICAgdGVtcGxhdGVVcmw6Jy4vdGVtcGxhdGVzL3Nob3AuaHRtbCcsXG4gICAgY29udHJvbGxlcjonc2hvcEN0cmwnXG4gIH0pXG5cbiAgLnN0YXRlKCdhYm91dCcsIHtcbiAgICB1cmw6Jy9hYm91dCcsXG4gICAgdGVtcGxhdGVVcmw6Jy4vdGVtcGxhdGVzL2Fib3V0Lmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6J2Fib3V0Q3RybCdcbiAgfSlcblxuICAuc3RhdGUoJ2pvdXJuYWwnLCB7XG4gICAgdXJsOicvam91cm5hbCcsXG4gICAgdGVtcGxhdGVVcmw6Jy4vdGVtcGxhdGVzL2pvdXJuYWwuaHRtbCcsXG4gICAgY29udHJvbGxlcjonam91cm5hbEN0cmwnXG4gIH0pXG5cbiAgLnN0YXRlKCcxJywge1xuICAgIHVybDonL2pvdXJuYWwvZGVzay1lcmdvbm9taWNzJyxcbiAgICB0ZW1wbGF0ZVVybDonLi90ZW1wbGF0ZXMvZGVzay1lcmdvbm9taWNzLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6J2pvdXJuYWxDdHJsJ1xuICB9KVxuXG4gIC5zdGF0ZSgnMicsIHtcbiAgICB1cmw6Jy9qb3VybmFsL2xvdmUteW91ci13b3JrJyxcbiAgICB0ZW1wbGF0ZVVybDonLi90ZW1wbGF0ZXMvbG92ZS15b3VyLXdvcmsuaHRtbCcsXG4gICAgY29udHJvbGxlcjonam91cm5hbEN0cmwnXG4gIH0pXG5cbiAgLnN0YXRlKCczJywge1xuICAgIHVybDonL2pvdXJuYWwvZGVzaWduaW5nLXRoZS13b29kLXdhdGNoLTAyJyxcbiAgICB0ZW1wbGF0ZVVybDonLi90ZW1wbGF0ZXMvZGVzaWduaW5nLXRoZS13b29kLXdhdGNoLTAyLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6J2pvdXJuYWxDdHJsJ1xuICB9KVxuXG5cblxufSlcbiIsImFuZ3VsYXIubW9kdWxlKCdncm92ZW1hZGUnKS5zZXJ2aWNlKCdob21lU3J2YycsIGZ1bmN0aW9uKCRodHRwKSB7XG5cbiAgdGhpcy5nZXRTaG9wID0gKCkgPT4ge1xuICAgIHJldHVybiAkaHR0cCh7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgdXJsOiAnL3Nob3AnXG4gICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdTUlZDJywgcmVzcG9uc2UpO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuZ2V0QWJvdXRQYWdlID0gKCkgPT4ge1xuICAgIHJldHVybiAkaHR0cCh7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgdXJsOiAnL2Fib3V0J1xuICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnU1JWQycsIHJlc3BvbnNlKTtcbiAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLmdldEpvdXJuYWwgPSAoKSA9PiB7XG4gICAgcmV0dXJuICRodHRwKHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICB1cmw6ICcvam91cm5hbCdcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ1NSVkMnLCByZXNwb25zZSk7XG4gICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5nZXRBdHRyaWJ1dGVzID0gKGlkKSA9PiB7XG4gICAgcmV0dXJuICRodHRwKHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICB1cmw6ICcvYXR0cmlidXRlcy8nICsgaWRcbiAgICB9KTtcbiAgfTtcclxuXHJcbiAgLy8gdGhpcy5nZXRCaW8gPSAoZW1wbG95ZWUpID0+IHtcclxuICAvLyAgIHJldHVyblxyXG4gIC8vIH1cclxuXG5cbn0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2dyb3ZlbWFkZScpXG4uY29udHJvbGxlcignYWJvdXRDdHJsJywgKCRzY29wZSwgaG9tZVNydmMsICRzdGF0ZVBhcmFtcywgJHRpbWVvdXQpID0+IHtcbiAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xuXG4gIGhvbWVTcnZjLmdldEFib3V0UGFnZSgpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgJHNjb3BlLmVtcGxveWVlcyA9IHJlc3BvbnNlLmRhdGE7XG4gICAgY29uc29sZS5sb2coJ0NUUkwnLCAkc2NvcGUuZW1wbG95ZWVzKTtcbiAgfSlcblxuICAkc2NvcGUuc2hvd0VtcGxveWVlPWZ1bmN0aW9uKGlkKXtcbiAgICBob21lU3J2Yy5nZXRBdHRyaWJ1dGVzKGlkKS50aGVuKGZ1bmN0aW9uKHJlcyl7XG4gICAgICAkc2NvcGUuYXR0cmlidXRlcyA9IHJlcy5kYXRhO1xuICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpO1xuICAgIH0pXG4gIH1cblxuICAkc2NvcGUuaGlkZUVtcGxveWVlID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLnNlbGVjdGVkID0gLTFcbiAgICBmb3IodmFyIGkgPSA2OyBpIDwgMTg7IGkrKyl7XG4gICAgICAkKCcjdGVzdCcgKyBpKS5yZW1vdmVDbGFzcygnbW92ZURvd24gYW5pbWF0ZWQgc2xpZGVJbkRvd24nKVxuICAgIH1cbiAgICAkKCcub3VyLXN0b3J5JykucmVtb3ZlQ2xhc3MoJ21vdmVEb3duIGFuaW1hdGVkIHNsaWRlSW5Eb3duJylcbiAgfVxuXG4gICRzY29wZS5zaG93RGVldHMgPSBmdW5jdGlvbihpKXtcbiAgICAgICRzY29wZS5zZWxlY3RlZCA9IGlcbiAgICBpZihpIDwgNil7XG4gICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XG4gICAgICAgc2Nyb2xsVG9wOiAkKFwiYm9keVwiKS5vZmZzZXQoKS50b3AgKyAxODUwXG4gICB9LCA4MDApO1xuICAgZm9yKHZhciBqID0gNjsgaiA8IDEyOyBqKyspe1xuICAgICBjb25zb2xlLmxvZygnZmlyc3QnKTtcbiAgICAgJCgnI3Rlc3QnICsgaikuYWRkQ2xhc3MoJ21vdmVEb3duIGFuaW1hdGVkIHNsaWRlSW5Eb3duJylcbiAgIH1cbiAgIGZvcih2YXIgaiA9IDEyOyBqIDwgMTg7IGorKyl7XG4gICAgIGNvbnNvbGUubG9nKCdzZWNvbmQnLCBqKTtcbiAgICAgJCgnI3Rlc3QnICsgaikucmVtb3ZlQ2xhc3MoJ21vdmVEb3duJylcbiAgIH1cbiAgICAkKCcub3VyLXN0b3J5JykucmVtb3ZlQ2xhc3MoJ21vdmVEb3duIGFuaW1hdGVkIHNsaWRlSW5Eb3duJylcbiAgICB9XG4gICAgZWxzZSBpZihpID4gNSAmJiBpIDwgMTIpe1xuICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe1xuICAgICAgICAgIHNjcm9sbFRvcDogJChcImJvZHlcIikub2Zmc2V0KCkudG9wICsgMjE0MFxuICAgICAgfSwgODAwKTtcbiAgICAgIGZvcih2YXIgeCA9IDEyOyB4IDwgMTg7IHgrKyl7XG4gICAgICAgICQoJyN0ZXN0JyArIHgpLmFkZENsYXNzKCdtb3ZlRG93biBhbmltYXRlZCBzbGlkZUluRG93bicpXG4gICAgICB9XG4gICAgICBmb3IodmFyIHggPSA2OyB4IDwgMTI7IHgrKyl7XG4gICAgICAgICQoJyN0ZXN0JyArIHgpLnJlbW92ZUNsYXNzKCdtb3ZlRG93bicpXG4gICAgICB9XG4gICAgICAkKCdvdXItc3RvcnknKS5yZW1vdmVDbGFzcygnbW92ZURvd24gYW5pbWF0ZWQgc2xpZGVJbkRvd24nKVxuICAgICAgfVxuICAgIGVsc2V7XG4gICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XG4gICAgICAgICAgc2Nyb2xsVG9wOiAkKFwiYm9keVwiKS5vZmZzZXQoKS50b3AgKyAyNDMwXG4gICAgICB9LCA4MDApO1xuICAgICAgZm9yKHZhciB6ID0gNjsgeiA8IDE4OyB6KyspIHtcbiAgICAgICAgJCgnI3Rlc3QnICsgeikucmVtb3ZlQ2xhc3MoJ21vdmVEb3duJylcbiAgICAgIH1cbiAgICAgICAgJCgnLm91ci1zdG9yeScpLmFkZENsYXNzKCdtb3ZlRG93biBhbmltYXRlZCBzbGlkZUluRG93bicpXG4gICAgfVxuICB9XG5cbiAgJChkb2N1bWVudCkub24oXCJtb3VzZW92ZXJcIiwgXCIjZW1wbG95ZWUtaG92ZXJcIiwgZnVuY3Rpb24oKSB7XG4gICAgJCh0aGlzKS5hZGRDbGFzcygnYW5pbWF0ZWQgZmFkZU91dCcpXG4gIH0pO1xuICAkKGRvY3VtZW50KS5vbihcIm1vdXNlbGVhdmVcIiwgXCIjZW1wbG95ZWUtaG92ZXJcIiwgZnVuY3Rpb24oKSB7XG4gICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYW5pbWF0ZWQgZmFkZU91dCcpXG4gICAgJCh0aGlzKS5hZGRDbGFzcygnYW5pbWF0ZWQgZmFkZUluJylcbiAgfSlcblxufSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnZ3JvdmVtYWRlJylcbi5jb250cm9sbGVyKCdjYXJvdXNlbEN0cmwnLCBmdW5jdGlvbigkc2NvcGUpe1xuXG5cblxuXG4gICAgfSlcbiIsImFuZ3VsYXIubW9kdWxlKCdncm92ZW1hZGUnKVxuLmNvbnRyb2xsZXIoJ2hvbWVDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGVQYXJhbXMsICRpbnRlcnZhbCwgJHRpbWVvdXQpe1xuICAgICRzY29wZS5teUludGVydmFsID0gMzAwMDtcbiAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAkc2NvcGUuc2xpZGVzID0gW1xuICAgICAge1xuICAgICAgICBpbWFnZTogJy9pbWcvaG9tZW1hcnEtd2FsbnV0LWRlc2stY29sbGVjdGlvbi1HMl8xLmpwZycsXG4gICAgICAgIHRpdGxlOiAnREVTSyBDT0xMRUNUSU9OJyxcbiAgICAgICAgY29sb3I6ICdJTiBXQUxOVVQgT1IgTUFQTEUnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpbWFnZTogJy9pbWcvaG9tZW1hcnEtd2F0Y2gtMDItQTNfMS5qcGcnLFxuICAgICAgICB0aXRsZTogJ1dPT0QgV0FUQ0gnLFxuICAgICAgICBjb2xvcjogJ01PREVMIDAyJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaW1hZ2U6ICcvaW1nL2hvbWVtYXJxLXdhbGxldC1BNF8xLmpwZycsXG4gICAgICAgIHRpdGxlOiAnRVZFUllEQVkgQ0FSUlknLFxuICAgICAgICBjb2xvcjogJ0NPTExFQ1RJT04nXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpbWFnZTogJy9pbWcvaG9tZW1hcnEtd2FsbGV0LWNhc2UtQTJfMS5qcGcnLFxuICAgICAgICB0aXRsZTogJ1dBTExFVCBDQVNFJyxcbiAgICAgICAgY29sb3I6ICdGT1IgaVBIT05FIDYgJiA3J1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaW1hZ2U6ICcvaW1nL2hvbWVtYXJxLXdvb2QtaXBob25lLTYtY2FzZS1CMl8xLmpwZycsXG4gICAgICAgIHRpdGxlOiAnaVBIT05FICAgNyBDQVNFUycsXG4gICAgICAgIGNvbG9yOiAnSU4gV0FMTlVUIE9SIE1BUExFJ1xuXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpbWFnZTogJy9pbWcvaG9tZW1hcnEtYmlmb2xkLXdhbGxldC1FMV8xLmpwZycsXG4gICAgICAgIHRpdGxlOiAnQklGT0xEIFdBTExFVCcsXG4gICAgICAgIGNvbG9yOiAnSU4gQkxBQ0sgT1IgVEFOJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaW1hZ2U6ICcvaW1nL2hvbWVtYXJxLXdvb2Qtc3BlYWtlcnMtQTFfMi5qcGcnLFxuICAgICAgICB0aXRsZTogJ1dPT0QgU1BFQUtFUlMnLFxuICAgICAgICBjb2xvcjogJ0lOIFdBTE5VVCBPUiBNQVBMRSdcbiAgICAgIH1cbiAgICBdO1xuICAgICRzY29wZS5waG90b0NsYXNzID0gW11cbiAgICB2YXIgdGltZXIgPSAkaW50ZXJ2YWwoZnVuY3Rpb24oKXtcbiAgICAgICRzY29wZS5uZXh0KClcbiAgICB9LCA1MDAwKVxuICAgICRzY29wZS5zdG9wID0gZnVuY3Rpb24oKXtcbiAgICAgICRpbnRlcnZhbC5jYW5jZWwodGltZXIpXG4gICAgfVxuICAgICRzY29wZS5uZXh0ID0gZnVuY3Rpb24oKXtcbiAgICAgIGluZGV4KytcbiAgICAgIGlmKGluZGV4ID4gNil7XG4gICAgICAgIGluZGV4ID0gMFxuICAgICAgfVxuICAgICAgJHNjb3BlLm5leHRQaG90byA9ICRzY29wZS5zbGlkZXNbaW5kZXhdLmltYWdlXG4gICAgICAkc2NvcGUubmV4dFRpdGxlID0gJHNjb3BlLnNsaWRlc1tpbmRleF0udGl0bGVcbiAgICAgICRzY29wZS5uZXh0Q29sb3IgPSAkc2NvcGUuc2xpZGVzW2luZGV4XS5jb2xvclxuXG4gICAgICAkc2NvcGUucGhvdG9DbGFzcy5zcGxpY2UoMCwgMSwgJ2FuaW1hdGVkIGZhZGVPdXQnKVxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgJHNjb3BlLnBob3RvQ2xhc3Muc3BsaWNlKDAsIDEsICdhbmltYXRlZCBmYWRlSW4nKVxuICAgICAgICAkc2NvcGUuc2VsZWN0ZWQgPSAkc2NvcGUuc2xpZGVzW2luZGV4XS5pbWFnZVxuICAgICAgICAkc2NvcGUudGl0bGUgPSAkc2NvcGUuc2xpZGVzW2luZGV4XS50aXRsZVxuICAgICAgICAkc2NvcGUuY29sb3IgPSAkc2NvcGUuc2xpZGVzW2luZGV4XS5jb2xvclxuICAgICAgfSwgNTAwKVxuICAgIH1cblxuICAgICRzY29wZS5wcmV2aW91cyA9IGZ1bmN0aW9uKCl7XG4gICAgICBpbmRleC0tXG4gICAgICBpZihpbmRleCA8IDApe1xuICAgICAgICBpbmRleCA9IDZcbiAgICAgIH1cbiAgICAgICRzY29wZS5uZXh0UGhvdG8gPSAkc2NvcGUuc2xpZGVzW2luZGV4XS5pbWFnZVxuICAgICAgJHNjb3BlLm5leHRUaXRsZSA9ICRzY29wZS5zbGlkZXNbaW5kZXhdLnRpdGxlXG4gICAgICAkc2NvcGUubmV4dENvbG9yID0gJHNjb3BlLnNsaWRlc1tpbmRleF0uY29sb3JcblxuICAgICAgJHNjb3BlLnBob3RvQ2xhc3Muc3BsaWNlKDAsIDEsICdhbmltYXRlZCBmYWRlT3V0JylcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICRzY29wZS5waG90b0NsYXNzLnNwbGljZSgwLCAxLCAnYW5pbWF0ZWQgZmFkZUluJylcbiAgICAgICAgJHNjb3BlLnNlbGVjdGVkID0gJHNjb3BlLnNsaWRlc1tpbmRleF0uaW1hZ2VcbiAgICAgICAgJHNjb3BlLnRpdGxlID0gJHNjb3BlLnNsaWRlc1tpbmRleF0udGl0bGVcbiAgICAgICAgJHNjb3BlLmNvbG9yID0gJHNjb3BlLnNsaWRlc1tpbmRleF0uY29sb3JcbiAgICAgIH0sIDUwMClcbiAgICB9XG4gICAgJHNjb3BlLm5leHQoKVxufSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnZ3JvdmVtYWRlJylcbi5jb250cm9sbGVyKCdqb3VybmFsQ3RybCcsICgkc2NvcGUsIGhvbWVTcnZjLCAkc3RhdGVQYXJhbXMpID0+IHtcblxuXG4gIGhvbWVTcnZjLmdldEpvdXJuYWwoKS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICRzY29wZS5qb3VybmFsID0gcmVzcG9uc2UuZGF0YTtcbiAgICBjb25zb2xlLmxvZygnQ1RSTCcsICRzY29wZS5qb3VybmFsKTtcbiAgfSlcbiAgLy8gdXBvbiBob3ZlciwgdGhlIHNlbGVjdGVkIGluZGV4IGlzIHB1c2hpbmcgdGhlIGFuaW1hdGUuY3NzICBmYWRlIHRvIHRoZSBjb3ZlcmluZyBhcnJheVxuJHNjb3BlLmNvdmVyaW5nID0gW11cbiRzY29wZS5vbkhvdmVyID0gZnVuY3Rpb24oaSl7XG4gICRzY29wZS5zZWxlY3RlZCA9IGlcbiAgJHNjb3BlLmNvdmVyaW5nLnB1c2goJ2NvdmVyIGFuaW1hdGVkIGZhZGVJbjInKVxufVxuLy8gdXBvbiBtb3VzZSBsZWF2ZSwgdGhlIHNlbGVjdGVkIGluZGV4IHdlIGFyZSBvbiB3aWxsIHRha2UgYXdheSB0aGUgYW5pbWF0ZS5jc3NcbiRzY29wZS5vbkxlYXZlID0gZnVuY3Rpb24oaSl7XG4gICRzY29wZS5zZWxlY3RlZCA9IGlcbiAgJHNjb3BlLmNvdmVyaW5nLnNwbGljZSgwKVxufVxuXG59KTtcbiIsImFuZ3VsYXIubW9kdWxlKCdncm92ZW1hZGUnKVxuLmNvbnRyb2xsZXIoJ3Nob3BDdHJsJywgKCRzY29wZSwgaG9tZVNydmMsICRzdGF0ZVBhcmFtcykgPT4ge1xuXG4gIGhvbWVTcnZjLmdldFNob3AoKS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICRzY29wZS5wcm9kdWN0cyA9IHJlc3BvbnNlLmRhdGE7XG4gICAgY29uc29sZS5sb2coJ0NUUkwnLCAkc2NvcGUucHJvZHVjdHMpO1xuICB9KVxuXG59KTtcbiIsImFuZ3VsYXIubW9kdWxlKCdncm92ZW1hZGUnKS5kaXJlY3RpdmUoJ2N1c3RvbWZvb3RlcicsICgpID0+IHtcbiAgcmV0dXJuKHtcbiAgICB0ZW1wbGF0ZVVybDogJy4vdGVtcGxhdGVzL2Zvb3Rlci5odG1sJyxcbiAgICAvLyB0aGUgY29udHJvbGxlciBpcyBmb3IgdGhlIGFycm93IGJ1dHRvbiB0byB0YWtlIHVzIHRvIHRoZSB0b3Agb2YgdGhlIHBhZ2VcbiAgICBjb250cm9sbGVyOiBmdW5jdGlvbigkc2NvcGUpe1xuICAgICAgJHNjb3BlLnNjcm9sbFRvcCA9IGZ1bmN0aW9uKCl7XG4gICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMClcbiAgICB9XG4gICAgfVxufSlcbn0pXG4iLCJcbiIsImFuZ3VsYXIubW9kdWxlKCdncm92ZW1hZGUnKS5kaXJlY3RpdmUoJ25hdmJhcicsICgpID0+IHtcbiAgcmV0dXJue1xuICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvbmF2YmFyLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCRzdGF0ZSwgJHJvb3RTY29wZSl7XG4gICAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xuICAgICAgICAkKCcubmF2JykucmVtb3ZlQ2xhc3MoJ3N0aWNreS1uYXYnKTtcbiAgICAgICAgdmFyIHNjcm9sbF9wb3MgPSAwO1xuICAgICAgICAkKGRvY3VtZW50KS5zY3JvbGwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzY3JvbGxfcG9zID0gJCh0aGlzKS5zY3JvbGxUb3AoKTtcbiAgICAgICAgICAgIGlmKHNjcm9sbF9wb3MgPiAyMCkge1xuICAgICAgICAgICAgICAkKCcubmF2JykuYWRkQ2xhc3MoJ3N0aWNreS1uYXYnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICQoJy5uYXYnKS5yZW1vdmVDbGFzcygnc3RpY2t5LW5hdicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyB2YXIgaXNBY3RpdmUgPSBmYWxzZTtcblxuICAgICAgJCgnLm5ld3NsZXR0ZXItb3BlbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBpc0FjdGl2ZSA9ICFpc0FjdGl2ZTtcbiAgICAgIFx0Ly8gaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coaXNBY3RpdmUpO1xuICAgICAgICAgICQoJy5uZXdzbGV0dGVyLXdyYXBwZXInKS5yZW1vdmVDbGFzcygnaGlkZS1uZXdzbGV0dGVyJyk7XG4gICAgICBcdC8vIH0gZWxzZSB7XG4gICAgICBcdFx0Ly8gJCgnLm5ld3NsZXR0ZXItd3JhcHBlcicpLmFkZENsYXNzKCdoaWRlLW5ld3NsZXR0ZXInKTtcbiAgICAgIFx0Ly8gfVxuXG4gICAgICB9KTtcblxuICAgICAgJCgnLm5ld3NsZXR0ZXItY2xvc2UnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gaXNBY3RpdmUgPSAhaXNBY3RpdmU7XG4gICAgICBcdC8vIGlmICghaXNBY3RpdmUpIHtcbiAgICAgICAgICAkKCcubmV3c2xldHRlci13cmFwcGVyJykuYWRkQ2xhc3MoJ2hpZGUtbmV3c2xldHRlcicpO1xuICAgICAgXHQvLyB9IGVsc2Uge1xuICAgICAgXHRcdC8vICQoJy5uZXdzbGV0dGVyLXdyYXBwZXInKS5yZW1vdmVDbGFzcygnaGlkZS1uZXdzbGV0dGVyJyk7XG4gICAgICBcdC8vIH1cbiAgICAgIH0pO1xuXG4gICAgICAkKCcubmF2LWNhcnQnKS5vbignbW91c2VvdmVyJyxmdW5jdGlvbigpe1xuICAgICAgICAkKCcuc3RpY2t5LWNhcnQnKS5mYWRlSW4oKTtcbiAgICAgIH0pXG4gICAgICAkKCcuc3RpY2t5LWNhcnQnKS5tb3VzZWxlYXZlKGZ1bmN0aW9uKCl7XG4gICAgICAgICQoJy5zdGlja3ktY2FydCcpLmZhZGVPdXQoKTtcbiAgICAgIH0pXG5cbiAgICB9Ly9lbmQgb2YgY29udHJvbGxlclxuICB9O1xufSk7XG4iXX0=
