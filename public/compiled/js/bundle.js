'use strict';

angular.module('grovemade', ['ui.router']).config(function ($stateProvider, $urlRouterProvider) {

  $urlRouterProvider.otherwise('/');

  $stateProvider.state('home', {
    url: '/',
    templateUrl: './templates/home.html',
    controller: 'homeCtrl'
  }).state('shop', {
    url: '/shop',
    templateUrl: './templates/shop.html',
    controller: 'shopCtrl'
  }).state('about', {
    url: '/about',
    templateUrl: './templates/about.html',
    controller: 'aboutCtrl'
  }).state('journal', {
    url: '/journal',
    templateUrl: './templates/journal.html',
    controller: 'journalCtrl'
  });
});
'use strict';

angular.module('grovemade').directive('customfooter', function () {
  return {
    templateUrl: './templates/footer.html'
  };
});
"use strict";
'use strict';

angular.module('grovemade').directive('navbar', function () {
  return {
    templateUrl: './templates/navbar.html',
    controller: function controller($state, $rootScope) {
      $(document).ready(function () {
        $('.nav').removeClass('sticky-nav');
        var scroll_pos = 0;
        $(document).scroll(function () {
          scroll_pos = $(this).scrollTop();
          if (scroll_pos > 20) {
            $('.nav').addClass('sticky-nav');
          } else {
            $('.nav').removeClass('sticky-nav');
          }
        });
      });

      // var isActive = false;

      $('.newsletter-open').on('click', function () {
        // isActive = !isActive;
        // if (isActive) {
        // console.log(isActive);
        $('.newsletter-wrapper').removeClass('hide-newsletter');
        // } else {
        // $('.newsletter-wrapper').addClass('hide-newsletter');
        // }
      });

      $('.newsletter-close').on('click', function () {
        // isActive = !isActive;
        // if (!isActive) {
        $('.newsletter-wrapper').addClass('hide-newsletter');
        // } else {
        // $('.newsletter-wrapper').removeClass('hide-newsletter');
        // }
      });

      $('.nav-cart').on('mouseover', function () {
        $('.sticky-cart').fadeIn();
      });
      $('.sticky-cart').mouseleave(function () {
        $('.sticky-cart').fadeOut();
      });
    } //end of controller
  };
});
'use strict';

angular.module('grovemade').service('homeSrvc', function ($http) {

  this.getAboutPage = function () {
    return $http({
      method: 'GET',
      url: '/about'
    }).then(function (response) {
      console.log('SRVC', response);
      return response;
    });
  };

  this.getJournal = function () {
    return $http({
      method: 'GET',
      url: '/journal'
    }).then(function (response) {
      console.log('SRVC', response);
      return response;
    });
  };

  this.getAttributes = function (id) {
    return $http({
      method: 'GET',
      url: '/attributes/' + id
    });
  };
});
'use strict';

angular.module('grovemade').controller('aboutCtrl', function ($scope, homeSrvc, $stateParams) {

  homeSrvc.getAboutPage().then(function (response) {
    $scope.employees = response.data;
    console.log('CTRL', $scope.employees);
  });

  $scope.showEmployee = function (id) {
    console.log(id);
    homeSrvc.getAttributes(id).then(function (res) {
      $scope.attributes = res.data;
      console.log(res.data);
    });
  };
});
'use strict';

angular.module('grovemade').controller('carouselCtrl', function ($scope) {});
'use strict';

angular.module('grovemade').controller('homeCtrl', function ($scope, $stateParams, $interval, $timeout) {
  $scope.myInterval = 3000;
  var index = -1;
  $scope.slides = [{
    image: '/img/homemarq-walnut-desk-collection-G2_1.jpg',
    title: 'DESK COLLECTION',
    color: 'IN WALNUT OR MAPLE'
  }, {
    image: '/img/homemarq-watch-02-A3_1.jpg',
    title: 'WOOD WATCH',
    color: 'MODEL 02'
  }, {
    image: '/img/homemarq-wallet-A4_1.jpg',
    title: 'EVERYDAY CARRY',
    color: 'COLLECTION'
  }, {
    image: '/img/homemarq-wallet-case-A2_1.jpg',
    title: 'WALLET CASE',
    color: 'FOR iPHONE 6 & 7'
  }, {
    image: '/img/homemarq-wood-iphone-6-case-B2_1.jpg',
    title: 'iPHONE   7 CASES',
    color: 'IN WALNUT OR MAPLE'

  }, {
    image: '/img/homemarq-bifold-wallet-E1_1.jpg',
    title: 'BIFOLD WALLET',
    color: 'IN BLACK OR TAN'
  }, {
    image: '/img/homemarq-wood-speakers-A1_2.jpg',
    title: 'WOOD SPEAKERS',
    color: 'IN WALNUT OR MAPLE'
  }];
  $scope.photoClass = [];
  var timer = $interval(function () {
    $scope.next();
  }, 5000);
  $scope.stop = function () {
    $interval.cancel(timer);
  };
  $scope.next = function () {
    index++;
    if (index > 6) {
      index = 0;
    }
    $scope.nextPhoto = $scope.slides[index].image;
    $scope.nextTitle = $scope.slides[index].title;
    $scope.nextColor = $scope.slides[index].color;

    $scope.photoClass.splice(0, 1, 'animated fadeOut');
    $timeout(function () {
      $scope.photoClass.splice(0, 1, 'animated fadeIn');
      $scope.selected = $scope.slides[index].image;
      $scope.title = $scope.slides[index].title;
      $scope.color = $scope.slides[index].color;
    }, 500);
  };

  $scope.previous = function () {
    index--;
    if (index < 0) {
      index = 6;
    }
    $scope.nextPhoto = $scope.slides[index].image;
    $scope.nextTitle = $scope.slides[index].title;
    $scope.nextColor = $scope.slides[index].color;

    $scope.photoClass.splice(0, 1, 'animated fadeOut');
    $timeout(function () {
      $scope.photoClass.splice(0, 1, 'animated fadeIn');
      $scope.selected = $scope.slides[index].image;
      $scope.title = $scope.slides[index].title;
      $scope.color = $scope.slides[index].color;
    }, 500);
  };
  $scope.next();
});
'use strict';

angular.module('grovemade').controller('journalCtrl', function ($scope, homeSrvc, $stateParams) {

  homeSrvc.getJournal().then(function (response) {
    $scope.journal = response.data;
    console.log('CTRL', $scope.journal);
  });
});
'use strict';

angular.module('grovemade').controller('shopCtrl', function ($scope) {});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImRpcmVjdGl2ZXMvZm9vdGVyLmpzIiwiZGlyZWN0aXZlcy9ob21lRGlyZWN0aXZlLmpzIiwiZGlyZWN0aXZlcy9uYXZiYXIuanMiLCJzZXJ2aWNlcy9ob21lU2VydmljZS5qcyIsImNvbnRyb2xsZXJzL2Fib3V0Q3RybC5qcyIsImNvbnRyb2xsZXJzL2Nhcm91c2VsQ3RybC5qcyIsImNvbnRyb2xsZXJzL2hvbWVDdHJsLmpzIiwiY29udHJvbGxlcnMvam91cm5hbEN0cmwuanMiLCJjb250cm9sbGVycy9zaG9wQ3RybC5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJzdGF0ZSIsInVybCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsImRpcmVjdGl2ZSIsIiRzdGF0ZSIsIiRyb290U2NvcGUiLCIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsInJlbW92ZUNsYXNzIiwic2Nyb2xsX3BvcyIsInNjcm9sbCIsInNjcm9sbFRvcCIsImFkZENsYXNzIiwib24iLCJmYWRlSW4iLCJtb3VzZWxlYXZlIiwiZmFkZU91dCIsInNlcnZpY2UiLCIkaHR0cCIsImdldEFib3V0UGFnZSIsIm1ldGhvZCIsInRoZW4iLCJyZXNwb25zZSIsImNvbnNvbGUiLCJsb2ciLCJnZXRKb3VybmFsIiwiZ2V0QXR0cmlidXRlcyIsImlkIiwiJHNjb3BlIiwiaG9tZVNydmMiLCIkc3RhdGVQYXJhbXMiLCJlbXBsb3llZXMiLCJkYXRhIiwic2hvd0VtcGxveWVlIiwicmVzIiwiYXR0cmlidXRlcyIsIiRpbnRlcnZhbCIsIiR0aW1lb3V0IiwibXlJbnRlcnZhbCIsImluZGV4Iiwic2xpZGVzIiwiaW1hZ2UiLCJ0aXRsZSIsImNvbG9yIiwicGhvdG9DbGFzcyIsInRpbWVyIiwibmV4dCIsInN0b3AiLCJjYW5jZWwiLCJuZXh0UGhvdG8iLCJuZXh0VGl0bGUiLCJu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T2dCLFVBQVAsQ0FBa0JRLE1BQWxCLENBQXlCLENBQXpCLEVBQTRCLENBQTVCLEVBQStCLGtCQUEvQjtBQUNBZixhQUFTLFlBQVU7QUFDakJULGFBQU9nQixVQUFQLENBQWtCUSxNQUFsQixDQUF5QixDQUF6QixFQUE0QixDQUE1QixFQUErQixpQkFBL0I7QUFDQXhCLGFBQU95QixRQUFQLEdBQWtCekIsT0FBT1ksTUFBUCxDQUFjRCxLQUFkLEVBQXFCRSxLQUF2QztBQUNBYixhQUFPYyxLQUFQLEdBQWVkLE9BQU9ZLE1BQVAsQ0FBY0QsS0FBZCxFQUFxQkcsS0FBcEM7QUFDQWQsYUFBT2UsS0FBUCxHQUFlZixPQUFPWSxNQUFQLENBQWNELEtBQWQsRUFBcUJJLEtBQXBDO0FBQ0QsS0FMRCxFQUtHLEdBTEg7QUFNRCxHQWhCRDtBQWlCQWYsU0FBT2tCLElBQVA7QUFDSCxDQXJGRDs7O0FDQUF0RCxRQUFRQyxNQUFSLENBQWUsV0FBZixFQUNDUSxVQURELENBQ1ksYUFEWixFQUMyQixVQUFDMkIsTUFBRCxFQUFTQyxRQUFULEVBQW1CQyxZQUFuQixFQUFvQzs7QUFHN0RELFdBQVNKLFVBQVQsR0FBc0JKLElBQXRCLENBQTJCLFVBQUNDLFFBQUQsRUFBYztBQUN2Q00sV0FBTzJCLE9BQVAsR0FBaUJqQyxTQUFTVSxJQUExQjtBQUNBVCxZQUFRQyxHQUFSLENBQVksTUFBWixFQUFvQkksT0FBTzJCLE9BQTNCO0FBQ0QsR0FIRDtBQUlELENBUkQ7OztBQ0FBL0QsUUFBUUMsTUFBUixDQUFlLFdBQWYsRUFDQ1EsVUFERCxDQUNZLFVBRFosRUFDd0IsVUFBUzJCLE1BQVQsRUFBZ0IsQ0FFdkMsQ0FIRCIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyLm1vZHVsZSgnZ3JvdmVtYWRlJywgWyd1aS5yb3V0ZXInXSlcbi5jb25maWcoZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcil7XG5cbiAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnLycpXG5cbiAgJHN0YXRlUHJvdmlkZXJcbiAgLnN0YXRlKCdob21lJywge1xuICAgIHVybDonLycsXG4gICAgdGVtcGxhdGVVcmw6Jy4vdGVtcGxhdGVzL2hvbWUuaHRtbCcsXG4gICAgY29udHJvbGxlcjonaG9tZUN0cmwnXG4gIH0pXG5cbiAgLnN0YXRlKCdzaG9wJywge1xuICAgIHVybDonL3Nob3AnLFxuICAgIHRlbXBsYXRlVXJsOicuL3RlbXBsYXRlcy9zaG9wLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6J3Nob3BDdHJsJ1xuICB9KVxuXG4gIC5zdGF0ZSgnYWJvdXQnLCB7XG4gICAgdXJsOicvYWJvdXQnLFxuICAgIHRlbXBsYXRlVXJsOicuL3RlbXBsYXRlcy9hYm91dC5odG1sJyxcbiAgICBjb250cm9sbGVyOidhYm91dEN0cmwnXG4gIH0pXG5cbiAgLnN0YXRlKCdqb3VybmFsJywge1xuICAgIHVybDonL2pvdXJuYWwnLFxuICAgIHRlbXBsYXRlVXJsOicuL3RlbXBsYXRlcy9qb3VybmFsLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6J2pvdXJuYWxDdHJsJ1xuICB9KVxuXG5cbn0pXG4iLCJhbmd1bGFyLm1vZHVsZSgnZ3JvdmVtYWRlJykuZGlyZWN0aXZlKCdjdXN0b21mb290ZXInLCAoKSA9PiB7XG4gIHJldHVybih7XG4gICAgdGVtcGxhdGVVcmw6ICcuL3RlbXBsYXRlcy9mb290ZXIuaHRtbCcsXG4gIH0pXG5cblxuXG59KVxuIiwiXG4iLCJhbmd1bGFyLm1vZHVsZSgnZ3JvdmVtYWRlJykuZGlyZWN0aXZlKCduYXZiYXInLCAoKSA9PiB7XG4gIHJldHVybntcbiAgICB0ZW1wbGF0ZVVybDogJy4vdGVtcGxhdGVzL25hdmJhci5odG1sJyxcbiAgICBjb250cm9sbGVyOiBmdW5jdGlvbigkc3RhdGUsICRyb290U2NvcGUpe1xuICAgICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcbiAgICAgICAgJCgnLm5hdicpLnJlbW92ZUNsYXNzKCdzdGlja3ktbmF2Jyk7XG4gICAgICAgIHZhciBzY3JvbGxfcG9zID0gMDtcbiAgICAgICAgJChkb2N1bWVudCkuc2Nyb2xsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2Nyb2xsX3BvcyA9ICQodGhpcykuc2Nyb2xsVG9wKCk7XG4gICAgICAgICAgICBpZihzY3JvbGxfcG9zID4gMjApIHtcbiAgICAgICAgICAgICAgJCgnLm5hdicpLmFkZENsYXNzKCdzdGlja3ktbmF2Jyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAkKCcubmF2JykucmVtb3ZlQ2xhc3MoJ3N0aWNreS1uYXYnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gdmFyIGlzQWN0aXZlID0gZmFsc2U7XG5cbiAgICAgICQoJy5uZXdzbGV0dGVyLW9wZW4nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gaXNBY3RpdmUgPSAhaXNBY3RpdmU7XG4gICAgICBcdC8vIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGlzQWN0aXZlKTtcbiAgICAgICAgICAkKCcubmV3c2xldHRlci13cmFwcGVyJykucmVtb3ZlQ2xhc3MoJ2hpZGUtbmV3c2xldHRlcicpO1xuICAgICAgXHQvLyB9IGVsc2Uge1xuICAgICAgXHRcdC8vICQoJy5uZXdzbGV0dGVyLXdyYXBwZXInKS5hZGRDbGFzcygnaGlkZS1uZXdzbGV0dGVyJyk7XG4gICAgICBcdC8vIH1cblxuICAgICAgfSk7XG5cbiAgICAgICQoJy5uZXdzbGV0dGVyLWNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIGlzQWN0aXZlID0gIWlzQWN0aXZlO1xuICAgICAgXHQvLyBpZiAoIWlzQWN0aXZlKSB7XG4gICAgICAgICAgJCgnLm5ld3NsZXR0ZXItd3JhcHBlcicpLmFkZENsYXNzKCdoaWRlLW5ld3NsZXR0ZXInKTtcbiAgICAgIFx0Ly8gfSBlbHNlIHtcbiAgICAgIFx0XHQvLyAkKCcubmV3c2xldHRlci13cmFwcGVyJykucmVtb3ZlQ2xhc3MoJ2hpZGUtbmV3c2xldHRlcicpO1xuICAgICAgXHQvLyB9XG4gICAgICB9KTtcblxuICAgICAgJCgnLm5hdi1jYXJ0Jykub24oJ21vdXNlb3ZlcicsZnVuY3Rpb24oKXtcbiAgICAgICAgJCgnLnN0aWNreS1jYXJ0JykuZmFkZUluKCk7XG4gICAgICB9KVxuICAgICAgJCgnLnN0aWNreS1jYXJ0JykubW91c2VsZWF2ZShmdW5jdGlvbigpe1xuICAgICAgICAkKCcuc3RpY2t5LWNhcnQnKS5mYWRlT3V0KCk7XG4gICAgICB9KVxuXG4gICAgfS8vZW5kIG9mIGNvbnRyb2xsZXJcbiAgfTtcbn0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2dyb3ZlbWFkZScpLnNlcnZpY2UoJ2hvbWVTcnZjJywgZnVuY3Rpb24oJGh0dHApIHtcblxuICB0aGlzLmdldEFib3V0UGFnZSA9ICgpID0+IHtcbiAgICByZXR1cm4gJGh0dHAoe1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIHVybDogJy9hYm91dCdcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ1NSVkMnLCByZXNwb25zZSk7XG4gICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5nZXRKb3VybmFsID0gKCkgPT4ge1xuICAgIHJldHVybiAkaHR0cCh7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgdXJsOiAnL2pvdXJuYWwnXG4gICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdTUlZDJywgcmVzcG9uc2UpO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuZ2V0QXR0cmlidXRlcyA9IChpZCkgPT4ge1xuICAgIHJldHVybiAkaHR0cCh7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgdXJsOiAnL2F0dHJpYnV0ZXMvJyArIGlkXG4gICAgfSk7XG4gIH07XG5cblxufSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnZ3JvdmVtYWRlJylcbi5jb250cm9sbGVyKCdhYm91dEN0cmwnLCAoJHNjb3BlLCBob21lU3J2YywgJHN0YXRlUGFyYW1zKSA9PiB7XG5cbiAgaG9tZVNydmMuZ2V0QWJvdXRQYWdlKCkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAkc2NvcGUuZW1wbG95ZWVzID0gcmVzcG9uc2UuZGF0YTtcbiAgICBjb25zb2xlLmxvZygnQ1RSTCcsICRzY29wZS5lbXBsb3llZXMpO1xuXG4gIH0pXG5cbiAgJHNjb3BlLnNob3dFbXBsb3llZT1mdW5jdGlvbihpZCl7XG4gICAgY29uc29sZS5sb2coaWQpO1xuICAgIGhvbWVTcnZjLmdldEF0dHJpYnV0ZXMoaWQpLnRoZW4oZnVuY3Rpb24ocmVzKXtcbiAgICAgICRzY29wZS5hdHRyaWJ1dGVzID0gcmVzLmRhdGE7XG4gICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7XG4gICAgfSlcblxuXG4gIH1cblxuXG5cbn0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2dyb3ZlbWFkZScpXG4uY29udHJvbGxlcignY2Fyb3VzZWxDdHJsJywgZnVuY3Rpb24oJHNjb3BlKXtcblxuXG5cblxuICAgIH0pXG4iLCJhbmd1bGFyLm1vZHVsZSgnZ3JvdmVtYWRlJylcbi5jb250cm9sbGVyKCdob21lQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlUGFyYW1zLCAkaW50ZXJ2YWwsICR0aW1lb3V0KXtcbiAgICAkc2NvcGUubXlJbnRlcnZhbCA9IDMwMDA7XG4gICAgdmFyIGluZGV4ID0gLTE7XG4gICAgJHNjb3BlLnNsaWRlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgaW1hZ2U6ICcvaW1nL2hvbWVtYXJxLXdhbG51dC1kZXNrLWNvbGxlY3Rpb24tRzJfMS5qcGcnLFxuICAgICAgICB0aXRsZTogJ0RFU0sgQ09MTEVDVElPTicsXG4gICAgICAgIGNvbG9yOiAnSU4gV0FMTlVUIE9SIE1BUExFJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaW1hZ2U6ICcvaW1nL2hvbWVtYXJxLXdhdGNoLTAyLUEzXzEuanBnJyxcbiAgICAgICAgdGl0bGU6ICdXT09EIFdBVENIJyxcbiAgICAgICAgY29sb3I6ICdNT0RFTCAwMidcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGltYWdlOiAnL2ltZy9ob21lbWFycS13YWxsZXQtQTRfMS5qcGcnLFxuICAgICAgICB0aXRsZTogJ0VWRVJZREFZIENBUlJZJyxcbiAgICAgICAgY29sb3I6ICdDT0xMRUNUSU9OJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaW1hZ2U6ICcvaW1nL2hvbWVtYXJxLXdhbGxldC1jYXNlLUEyXzEuanBnJyxcbiAgICAgICAgdGl0bGU6ICdXQUxMRVQgQ0FTRScsXG4gICAgICAgIGNvbG9yOiAnRk9SIGlQSE9ORSA2ICYgNydcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGltYWdlOiAnL2ltZy9ob21lbWFycS13b29kLWlwaG9uZS02LWNhc2UtQjJfMS5qcGcnLFxuICAgICAgICB0aXRsZTogJ2lQSE9ORSAgIDcgQ0FTRVMnLFxuICAgICAgICBjb2xvcjogJ0lOIFdBTE5VVCBPUiBNQVBMRSdcblxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaW1hZ2U6ICcvaW1nL2hvbWVtYXJxLWJpZm9sZC13YWxsZXQtRTFfMS5qcGcnLFxuICAgICAgICB0aXRsZTogJ0JJRk9MRCBXQUxMRVQnLFxuICAgICAgICBjb2xvcjogJ0lOIEJMQUNLIE9SIFRBTidcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGltYWdlOiAnL2ltZy9ob21lbWFycS13b29kLXNwZWFrZXJzLUExXzIuanBnJyxcbiAgICAgICAgdGl0bGU6ICdXT09EIFNQRUFLRVJTJyxcbiAgICAgICAgY29sb3I6ICdJTiBXQUxOVVQgT1IgTUFQTEUnXG4gICAgICB9XG4gICAgXTtcbiAgICAkc2NvcGUucGhvdG9DbGFzcyA9IFtdXG4gICAgdmFyIHRpbWVyID0gJGludGVydmFsKGZ1bmN0aW9uKCl7XG4gICAgICAkc2NvcGUubmV4dCgpXG4gICAgfSwgNTAwMClcbiAgICAkc2NvcGUuc3RvcCA9IGZ1bmN0aW9uKCl7XG4gICAgICAkaW50ZXJ2YWwuY2FuY2VsKHRpbWVyKVxuICAgIH1cbiAgICAkc2NvcGUubmV4dCA9IGZ1bmN0aW9uKCl7XG4gICAgICBpbmRleCsrXG4gICAgICBpZihpbmRleCA+IDYpe1xuICAgICAgICBpbmRleCA9IDBcbiAgICAgIH1cbiAgICAgICRzY29wZS5uZXh0UGhvdG8gPSAkc2NvcGUuc2xpZGVzW2luZGV4XS5pbWFnZVxuICAgICAgJHNjb3BlLm5leHRUaXRsZSA9ICRzY29wZS5zbGlkZXNbaW5kZXhdLnRpdGxlXG4gICAgICAkc2NvcGUubmV4dENvbG9yID0gJHNjb3BlLnNsaWRlc1tpbmRleF0uY29sb3JcblxuICAgICAgJHNjb3BlLnBob3RvQ2xhc3Muc3BsaWNlKDAsIDEsICdhbmltYXRlZCBmYWRlT3V0JylcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICRzY29wZS5waG90b0NsYXNzLnNwbGljZSgwLCAxLCAnYW5pbWF0ZWQgZmFkZUluJylcbiAgICAgICAgJHNjb3BlLnNlbGVjdGVkID0gJHNjb3BlLnNsaWRlc1tpbmRleF0uaW1hZ2VcbiAgICAgICAgJHNjb3BlLnRpdGxlID0gJHNjb3BlLnNsaWRlc1tpbmRleF0udGl0bGVcbiAgICAgICAgJHNjb3BlLmNvbG9yID0gJHNjb3BlLnNsaWRlc1tpbmRleF0uY29sb3JcbiAgICAgIH0sIDUwMClcbiAgICB9XG5cbiAgICAkc2NvcGUucHJldmlvdXMgPSBmdW5jdGlvbigpe1xuICAgICAgaW5kZXgtLVxuICAgICAgaWYoaW5kZXggPCAwKXtcbiAgICAgICAgaW5kZXggPSA2XG4gICAgICB9XG4gICAgICAkc2NvcGUubmV4dFBob3RvID0gJHNjb3BlLnNsaWRlc1tpbmRleF0uaW1hZ2VcbiAgICAgICRzY29wZS5uZXh0VGl0bGUgPSAkc2NvcGUuc2xpZGVzW2luZGV4XS50aXRsZVxuICAgICAgJHNjb3BlLm5leHRDb2xvciA9ICRzY29wZS5zbGlkZXNbaW5kZXhdLmNvbG9yXG5cbiAgICAgICRzY29wZS5waG90b0NsYXNzLnNwbGljZSgwLCAxLCAnYW5pbWF0ZWQgZmFkZU91dCcpXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAkc2NvcGUucGhvdG9DbGFzcy5zcGxpY2UoMCwgMSwgJ2FuaW1hdGVkIGZhZGVJbicpXG4gICAgICAgICRzY29wZS5zZWxlY3RlZCA9ICRzY29wZS5zbGlkZXNbaW5kZXhdLmltYWdlXG4gICAgICAgICRzY29wZS50aXRsZSA9ICRzY29wZS5zbGlkZXNbaW5kZXhdLnRpdGxlXG4gICAgICAgICRzY29wZS5jb2xvciA9ICRzY29wZS5zbGlkZXNbaW5kZXhdLmNvbG9yXG4gICAgICB9LCA1MDApXG4gICAgfVxuICAgICRzY29wZS5uZXh0KClcbn0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2dyb3ZlbWFkZScpXG4uY29udHJvbGxlcignam91cm5hbEN0cmwnLCAoJHNjb3BlLCBob21lU3J2YywgJHN0YXRlUGFyYW1zKSA9PiB7XG5cblxuICBob21lU3J2Yy5nZXRKb3VybmFsKCkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAkc2NvcGUuam91cm5hbCA9IHJlc3BvbnNlLmRhdGE7XG4gICAgY29uc29sZS5sb2coJ0NUUkwnLCAkc2NvcGUuam91cm5hbCk7XG4gIH0pXG59KTtcbiIsImFuZ3VsYXIubW9kdWxlKCdncm92ZW1hZGUnKVxuLmNvbnRyb2xsZXIoJ3Nob3BDdHJsJywgZnVuY3Rpb24oJHNjb3BlKXtcblxufSlcbiJdfQ==
