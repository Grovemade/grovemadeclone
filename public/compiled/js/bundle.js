'use strict';

angular.module('grovemade', ['ui.router']).config(function ($stateProvider, $urlRouterProvider) {

  $urlRouterProvider.otherwise('/');

  $stateProvider.state('home', {
    url: '/',
    templateUrl: './templates/home.html',
    controller: 'homeCtrl'
  }).state('shop', {
    url: '/shop',
    templateUrl: './templates/shop.html',
    controller: 'shopCtrl'
  }).state('about', {
    url: '/about',
    templateUrl: './templates/about.html',
    controller: 'aboutCtrl'
  }).state('journal', {
    url: '/journal',
    templateUrl: './templates/journal.html',
    controller: 'journalCtrl'
  });
});
'use strict';

angular.module('grovemade').directive('customfooter', function () {
  return {
    templateUrl: './templates/footer.html'
  };
});
"use strict";
'use strict';

angular.module('grovemade').directive('navbar', function () {
  return {
    templateUrl: './templates/navbar.html',
    controller: function controller($state, $rootScope) {
      $(document).ready(function () {
        $('.nav').removeClass('sticky-nav');
        var scroll_pos = 0;
        $(document).scroll(function () {
          scroll_pos = $(this).scrollTop();
          if (scroll_pos > 20) {
            $('.nav').addClass('sticky-nav');
          } else {
            $('.nav').removeClass('sticky-nav');
          }
        });
      });

      // var isActive = false;

      $('.newsletter-open').on('click', function () {
        // isActive = !isActive;
        // if (isActive) {
        // console.log(isActive);
        $('.newsletter-wrapper').removeClass('hide-newsletter');
        // } else {
        // $('.newsletter-wrapper').addClass('hide-newsletter');
        // }
      });

      $('.newsletter-close').on('click', function () {
        // isActive = !isActive;
        // if (!isActive) {
        $('.newsletter-wrapper').addClass('hide-newsletter');
        // } else {
        // $('.newsletter-wrapper').removeClass('hide-newsletter');
        // }
      });

      $('.nav-cart').on('mouseover', function () {
        $('.sticky-cart').fadeIn();
      });
      $('.sticky-cart').mouseleave(function () {
        $('.sticky-cart').fadeOut();
      });
    } //end of controller
  };
});
'use strict';

angular.module('grovemade').service('homeSrvc', function ($http) {

  this.getShop = function () {
    return $http({
      method: 'GET',
      url: '/shop'
    }).then(function (response) {
      console.log('SRVC', response);
      return response;
    });
  };

  this.getAboutPage = function () {
    return $http({
      method: 'GET',
      url: '/about'
    }).then(function (response) {
      console.log('SRVC', response);
      return response;
    });
  };

  this.getJournal = function () {
    return $http({
      method: 'GET',
      url: '/journal'
    }).then(function (response) {
      console.log('SRVC', response);
      return response;
    });
  };
});
'use strict';

angular.module('grovemade').controller('aboutCtrl', function ($scope, homeSrvc, $stateParams) {

  homeSrvc.getAboutPage().then(function (response) {
    $scope.employees = response.data;
    console.log('CTRL', $scope.employees);
  });
});
'use strict';

angular.module('grovemade').controller('carouselCtrl', function ($scope) {});
'use strict';

angular.module('grovemade').controller('homeCtrl', function ($scope, $stateParams, $interval, $timeout) {
  $scope.myInterval = 3000;
  var index = -1;
  $scope.slides = [{
    image: '/img/homemarq-walnut-desk-collection-G2_1.jpg',
    title: 'DESK COLLECTION',
    color: 'IN WALNUT OR MAPLE'
  }, {
    image: '/img/homemarq-watch-02-A3_1.jpg',
    title: 'WOOD WATCH',
    color: 'MODEL 02'
  }, {
    image: '/img/homemarq-wallet-A4_1.jpg',
    title: 'EVERYDAY CARRY',
    color: 'COLLECTION'
  }, {
    image: '/img/homemarq-wallet-case-A2_1.jpg',
    title: 'WALLET CASE',
    color: 'FOR iPHONE 6 & 7'
  }, {
    image: '/img/homemarq-wood-iphone-6-case-B2_1.jpg',
    title: 'iPHONE   7 CASES',
    color: 'IN WALNUT OR MAPLE'

  }, {
    image: '/img/homemarq-bifold-wallet-E1_1.jpg',
    title: 'BIFOLD WALLET',
    color: 'IN BLACK OR TAN'
  }, {
    image: '/img/homemarq-wood-speakers-A1_2.jpg',
    title: 'WOOD SPEAKERS',
    color: 'IN WALNUT OR MAPLE'
  }];
  $scope.photoClass = [];
  var timer = $interval(function () {
    $scope.next();
  }, 5000);
  $scope.stop = function () {
    $interval.cancel(timer);
  };
  $scope.next = function () {
    index++;
    if (index > 6) {
      index = 0;
    }
    $scope.nextPhoto = $scope.slides[index].image;
    $scope.nextTitle = $scope.slides[index].title;
    $scope.nextColor = $scope.slides[index].color;

    $scope.photoClass.splice(0, 1, 'animated fadeOut');
    $timeout(function () {
      $scope.photoClass.splice(0, 1, 'animated fadeIn');
      $scope.selected = $scope.slides[index].image;
      $scope.title = $scope.slides[index].title;
      $scope.color = $scope.slides[index].color;
    }, 500);
  };

  $scope.previous = function () {
    index--;
    if (index < 0) {
      index = 6;
    }
    $scope.nextPhoto = $scope.slides[index].image;
    $scope.nextTitle = $scope.slides[index].title;
    $scope.nextColor = $scope.slides[index].color;

    $scope.photoClass.splice(0, 1, 'animated fadeOut');
    $timeout(function () {
      $scope.photoClass.splice(0, 1, 'animated fadeIn');
      $scope.selected = $scope.slides[index].image;
      $scope.title = $scope.slides[index].title;
      $scope.color = $scope.slides[index].color;
    }, 500);
  };
  $scope.next();
});
'use strict';

angular.module('grovemade').controller('journalCtrl', function ($scope, homeSrvc, $stateParams) {

  homeSrvc.getJournal().then(function (response) {
    $scope.journal = response.data;
    console.log('CTRL', $scope.journal);
  });
});
'use strict';

angular.module('grovemade').controller('shopCtrl', function ($scope, homeSrvc, $stateParams) {

  homeSrvc.getShop().then(function (response) {
    $scope.products = response.data;
    console.log('CTRL', $scope.products);
  });
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImRpcmVjdGl2ZXMvZm9vdGVyLmpzIiwiZGlyZWN0aXZlcy9ob21lRGlyZWN0aXZlLmpzIiwiZGlyZWN0aXZlcy9uYXZiYXIuanMiLCJzZXJ2aWNlcy9ob21lU2VydmljZS5qcyIsImNvbnRyb2xsZXJzL2Fib3V0Q3RybC5qcyIsImNvbnRyb2xsZXJzL2Nhcm91c2VsQ3RybC5qcyIsImNvbnRyb2xsZXJzL2hvbWVDdHJsLmpzIiwiY29udHJvbGxlcnMvam91cm5hbEN0cmwuanMiLCJjb250cm9sbGVycy9zaG9wQ3RybC5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJzdGF0ZSIsInVybCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsImRpcmVjdGl2ZSIsIiRzdGF0ZSIsIiRyb290U2NvcGUiLCIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsInJlbW92ZUNsYXNzIiwic2Nyb2xsX3BvcyIsInNjcm9sbCIsInNjcm9sbFRvcCIsImFkZENsYXNzIiwib24iLCJmYWRlSW4iLCJtb3VzZWxlYXZlIiwiZmFkZU91dCIsInNlcnZpY2UiLCIkaHR0cCIsImdldFNob3AiLCJtZXRob2QiLCJ0aGVuIiwicmVzcG9uc2UiLCJjb25zb2xlIiwibG9nIiwiZ2V0QWJvdXRQYWdlIiwiZ2V0Sm91cm5hbCIsIiRzY29wZSIsImhvbWVTcnZjIiwiJHN0YXRlUGFyYW1zIiwiZW1wbG95ZWVzIiwiZGF0YSIsIiRpbnRlcnZhbCIsIiR0aW1lb3V0IiwibXlJbnRlcnZhbCIsImluZGV4Iiwic2xpZGVzIiwiaW1hZ2UiLCJ0aXRsZSIsImNvbG9yIiwicGhvdG9DbGFzcyIsInRpbWVyIiwibmV4dCIsInN0b3AiLCJjYW5jZWwiLCJuZXh0UGhvdG8iLCJuZXh0VGl0bGUiLCJuZXh0Q29sb3IiLCJzcGxpY2UiLCJzZWxlY3RlZCIsInByZXZpb3VzIiwiam91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ZCxFQUFxQkUsS0FBdkM7QUFDQVYsYUFBT1csS0FBUCxHQUFlWCxPQUFPUyxNQUFQLENBQWNELEtBQWQsRUFBcUJHLEtBQXBDO0FBQ0FYLGFBQU9ZLEtBQVAsR0FBZVosT0FBT1MsTUFBUCxDQUFjRCxLQUFkLEVBQXFCSSxLQUFwQztBQUNELEtBTEQsRUFLRyxHQUxIO0FBTUQsR0FoQkQ7QUFpQkFaLFNBQU9lLElBQVA7QUFDSCxDQXJGRDs7O0FDQUFsRCxRQUFRQyxNQUFSLENBQWUsV0FBZixFQUNDUSxVQURELENBQ1ksYUFEWixFQUMyQixVQUFDMEIsTUFBRCxFQUFTQyxRQUFULEVBQW1CQyxZQUFuQixFQUFvQzs7QUFHN0RELFdBQVNGLFVBQVQsR0FBc0JMLElBQXRCLENBQTJCLFVBQUNDLFFBQUQsRUFBYztBQUN2Q0ssV0FBT3dCLE9BQVAsR0FBaUI3QixTQUFTUyxJQUExQjtBQUNBUixZQUFRQyxHQUFSLENBQVksTUFBWixFQUFvQkcsT0FBT3dCLE9BQTNCO0FBQ0QsR0FIRDtBQUlELENBUkQ7OztBQ0FBM0QsUUFBUUMsTUFBUixDQUFlLFdBQWYsRUFDQ1EsVUFERCxDQUNZLFVBRFosRUFDd0IsVUFBQzBCLE1BQUQsRUFBU0MsUUFBVCxFQUFtQkMsWUFBbkIsRUFBb0M7O0FBRTFERCxXQUFTVCxPQUFULEdBQW1CRSxJQUFuQixDQUF3QixVQUFDQyxRQUFELEVBQWM7QUFDcENLLFdBQU95QixRQUFQLEdBQWtCOUIsU0FBU1MsSUFBM0I7QUFDQVIsWUFBUUMsR0FBUixDQUFZLE1BQVosRUFBb0JHLE9BQU95QixRQUEzQjtBQUNELEdBSEQ7QUFLRCxDQVJEIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCdncm92ZW1hZGUnLCBbJ3VpLnJvdXRlciddKVxuLmNvbmZpZyhmdW5jdGlvbigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKXtcblxuICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvJylcblxuICAkc3RhdGVQcm92aWRlclxuICAuc3RhdGUoJ2hvbWUnLCB7XG4gICAgdXJsOicvJyxcbiAgICB0ZW1wbGF0ZVVybDonLi90ZW1wbGF0ZXMvaG9tZS5odG1sJyxcbiAgICBjb250cm9sbGVyOidob21lQ3RybCdcbiAgfSlcblxuICAuc3RhdGUoJ3Nob3AnLCB7XG4gICAgdXJsOicvc2hvcCcsXG4gICAgdGVtcGxhdGVVcmw6Jy4vdGVtcGxhdGVzL3Nob3AuaHRtbCcsXG4gICAgY29udHJvbGxlcjonc2hvcEN0cmwnXG4gIH0pXG5cbiAgLnN0YXRlKCdhYm91dCcsIHtcbiAgICB1cmw6Jy9hYm91dCcsXG4gICAgdGVtcGxhdGVVcmw6Jy4vdGVtcGxhdGVzL2Fib3V0Lmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6J2Fib3V0Q3RybCdcbiAgfSlcblxuICAuc3RhdGUoJ2pvdXJuYWwnLCB7XG4gICAgdXJsOicvam91cm5hbCcsXG4gICAgdGVtcGxhdGVVcmw6Jy4vdGVtcGxhdGVzL2pvdXJuYWwuaHRtbCcsXG4gICAgY29udHJvbGxlcjonam91cm5hbEN0cmwnXG4gIH0pXG5cblxufSlcbiIsImFuZ3VsYXIubW9kdWxlKCdncm92ZW1hZGUnKS5kaXJlY3RpdmUoJ2N1c3RvbWZvb3RlcicsICgpID0+IHtcbiAgcmV0dXJuKHtcbiAgICB0ZW1wbGF0ZVVybDogJy4vdGVtcGxhdGVzL2Zvb3Rlci5odG1sJyxcbiAgfSlcblxuXG5cbn0pXG4iLCJcbiIsImFuZ3VsYXIubW9kdWxlKCdncm92ZW1hZGUnKS5kaXJlY3RpdmUoJ25hdmJhcicsICgpID0+IHtcbiAgcmV0dXJue1xuICAgIHRlbXBsYXRlVXJsOiAnLi90ZW1wbGF0ZXMvbmF2YmFyLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCRzdGF0ZSwgJHJvb3RTY29wZSl7XG4gICAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xuICAgICAgICAkKCcubmF2JykucmVtb3ZlQ2xhc3MoJ3N0aWNreS1uYXYnKTtcbiAgICAgICAgdmFyIHNjcm9sbF9wb3MgPSAwO1xuICAgICAgICAkKGRvY3VtZW50KS5zY3JvbGwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzY3JvbGxfcG9zID0gJCh0aGlzKS5zY3JvbGxUb3AoKTtcbiAgICAgICAgICAgIGlmKHNjcm9sbF9wb3MgPiAyMCkge1xuICAgICAgICAgICAgICAkKCcubmF2JykuYWRkQ2xhc3MoJ3N0aWNreS1uYXYnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICQoJy5uYXYnKS5yZW1vdmVDbGFzcygnc3RpY2t5LW5hdicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyB2YXIgaXNBY3RpdmUgPSBmYWxzZTtcblxuICAgICAgJCgnLm5ld3NsZXR0ZXItb3BlbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBpc0FjdGl2ZSA9ICFpc0FjdGl2ZTtcbiAgICAgIFx0Ly8gaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coaXNBY3RpdmUpO1xuICAgICAgICAgICQoJy5uZXdzbGV0dGVyLXdyYXBwZXInKS5yZW1vdmVDbGFzcygnaGlkZS1uZXdzbGV0dGVyJyk7XG4gICAgICBcdC8vIH0gZWxzZSB7XG4gICAgICBcdFx0Ly8gJCgnLm5ld3NsZXR0ZXItd3JhcHBlcicpLmFkZENsYXNzKCdoaWRlLW5ld3NsZXR0ZXInKTtcbiAgICAgIFx0Ly8gfVxuXG4gICAgICB9KTtcblxuICAgICAgJCgnLm5ld3NsZXR0ZXItY2xvc2UnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gaXNBY3RpdmUgPSAhaXNBY3RpdmU7XG4gICAgICBcdC8vIGlmICghaXNBY3RpdmUpIHtcbiAgICAgICAgICAkKCcubmV3c2xldHRlci13cmFwcGVyJykuYWRkQ2xhc3MoJ2hpZGUtbmV3c2xldHRlcicpO1xuICAgICAgXHQvLyB9IGVsc2Uge1xuICAgICAgXHRcdC8vICQoJy5uZXdzbGV0dGVyLXdyYXBwZXInKS5yZW1vdmVDbGFzcygnaGlkZS1uZXdzbGV0dGVyJyk7XG4gICAgICBcdC8vIH1cbiAgICAgIH0pO1xuXG4gICAgICAkKCcubmF2LWNhcnQnKS5vbignbW91c2VvdmVyJyxmdW5jdGlvbigpe1xuICAgICAgICAkKCcuc3RpY2t5LWNhcnQnKS5mYWRlSW4oKTtcbiAgICAgIH0pXG4gICAgICAkKCcuc3RpY2t5LWNhcnQnKS5tb3VzZWxlYXZlKGZ1bmN0aW9uKCl7XG4gICAgICAgICQoJy5zdGlja3ktY2FydCcpLmZhZGVPdXQoKTtcbiAgICAgIH0pXG5cbiAgICB9Ly9lbmQgb2YgY29udHJvbGxlclxuICB9O1xufSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnZ3JvdmVtYWRlJykuc2VydmljZSgnaG9tZVNydmMnLCBmdW5jdGlvbigkaHR0cCkge1xuXG4gIHRoaXMuZ2V0U2hvcCA9ICgpID0+IHtcbiAgICByZXR1cm4gJGh0dHAoe1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIHVybDogJy9zaG9wJ1xuICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnU1JWQycsIHJlc3BvbnNlKTtcbiAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLmdldEFib3V0UGFnZSA9ICgpID0+IHtcbiAgICByZXR1cm4gJGh0dHAoe1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIHVybDogJy9hYm91dCdcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ1NSVkMnLCByZXNwb25zZSk7XG4gICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5nZXRKb3VybmFsID0gKCkgPT4ge1xuICAgIHJldHVybiAkaHR0cCh7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgdXJsOiAnL2pvdXJuYWwnXG4gICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdTUlZDJywgcmVzcG9uc2UpO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH0pO1xuICB9O1xuXG59KTtcbiIsImFuZ3VsYXIubW9kdWxlKCdncm92ZW1hZGUnKVxuLmNvbnRyb2xsZXIoJ2Fib3V0Q3RybCcsICgkc2NvcGUsIGhvbWVTcnZjLCAkc3RhdGVQYXJhbXMpID0+IHtcblxuICBob21lU3J2Yy5nZXRBYm91dFBhZ2UoKS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICRzY29wZS5lbXBsb3llZXMgPSByZXNwb25zZS5kYXRhO1xuICAgIGNvbnNvbGUubG9nKCdDVFJMJywgJHNjb3BlLmVtcGxveWVlcyk7XG4gIH0pXG5cbn0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2dyb3ZlbWFkZScpXG4uY29udHJvbGxlcignY2Fyb3VzZWxDdHJsJywgZnVuY3Rpb24oJHNjb3BlKXtcblxuXG5cblxuICAgIH0pXG4iLCJhbmd1bGFyLm1vZHVsZSgnZ3JvdmVtYWRlJylcbi5jb250cm9sbGVyKCdob21lQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlUGFyYW1zLCAkaW50ZXJ2YWwsICR0aW1lb3V0KXtcbiAgICAkc2NvcGUubXlJbnRlcnZhbCA9IDMwMDA7XG4gICAgdmFyIGluZGV4ID0gLTE7XG4gICAgJHNjb3BlLnNsaWRlcyA9IFtcbiAgICAgIHtcbiAgICAgICAgaW1hZ2U6ICcvaW1nL2hvbWVtYXJxLXdhbG51dC1kZXNrLWNvbGxlY3Rpb24tRzJfMS5qcGcnLFxuICAgICAgICB0aXRsZTogJ0RFU0sgQ09MTEVDVElPTicsXG4gICAgICAgIGNvbG9yOiAnSU4gV0FMTlVUIE9SIE1BUExFJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaW1hZ2U6ICcvaW1nL2hvbWVtYXJxLXdhdGNoLTAyLUEzXzEuanBnJyxcbiAgICAgICAgdGl0bGU6ICdXT09EIFdBVENIJyxcbiAgICAgICAgY29sb3I6ICdNT0RFTCAwMidcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGltYWdlOiAnL2ltZy9ob21lbWFycS13YWxsZXQtQTRfMS5qcGcnLFxuICAgICAgICB0aXRsZTogJ0VWRVJZREFZIENBUlJZJyxcbiAgICAgICAgY29sb3I6ICdDT0xMRUNUSU9OJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaW1hZ2U6ICcvaW1nL2hvbWVtYXJxLXdhbGxldC1jYXNlLUEyXzEuanBnJyxcbiAgICAgICAgdGl0bGU6ICdXQUxMRVQgQ0FTRScsXG4gICAgICAgIGNvbG9yOiAnRk9SIGlQSE9ORSA2ICYgNydcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGltYWdlOiAnL2ltZy9ob21lbWFycS13b29kLWlwaG9uZS02LWNhc2UtQjJfMS5qcGcnLFxuICAgICAgICB0aXRsZTogJ2lQSE9ORSAgIDcgQ0FTRVMnLFxuICAgICAgICBjb2xvcjogJ0lOIFdBTE5VVCBPUiBNQVBMRSdcblxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaW1hZ2U6ICcvaW1nL2hvbWVtYXJxLWJpZm9sZC13YWxsZXQtRTFfMS5qcGcnLFxuICAgICAgICB0aXRsZTogJ0JJRk9MRCBXQUxMRVQnLFxuICAgICAgICBjb2xvcjogJ0lOIEJMQUNLIE9SIFRBTidcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGltYWdlOiAnL2ltZy9ob21lbWFycS13b29kLXNwZWFrZXJzLUExXzIuanBnJyxcbiAgICAgICAgdGl0bGU6ICdXT09EIFNQRUFLRVJTJyxcbiAgICAgICAgY29sb3I6ICdJTiBXQUxOVVQgT1IgTUFQTEUnXG4gICAgICB9XG4gICAgXTtcbiAgICAkc2NvcGUucGhvdG9DbGFzcyA9IFtdXG4gICAgdmFyIHRpbWVyID0gJGludGVydmFsKGZ1bmN0aW9uKCl7XG4gICAgICAkc2NvcGUubmV4dCgpXG4gICAgfSwgNTAwMClcbiAgICAkc2NvcGUuc3RvcCA9IGZ1bmN0aW9uKCl7XG4gICAgICAkaW50ZXJ2YWwuY2FuY2VsKHRpbWVyKVxuICAgIH1cbiAgICAkc2NvcGUubmV4dCA9IGZ1bmN0aW9uKCl7XG4gICAgICBpbmRleCsrXG4gICAgICBpZihpbmRleCA+IDYpe1xuICAgICAgICBpbmRleCA9IDBcbiAgICAgIH1cbiAgICAgICRzY29wZS5uZXh0UGhvdG8gPSAkc2NvcGUuc2xpZGVzW2luZGV4XS5pbWFnZVxuICAgICAgJHNjb3BlLm5leHRUaXRsZSA9ICRzY29wZS5zbGlkZXNbaW5kZXhdLnRpdGxlXG4gICAgICAkc2NvcGUubmV4dENvbG9yID0gJHNjb3BlLnNsaWRlc1tpbmRleF0uY29sb3JcblxuICAgICAgJHNjb3BlLnBob3RvQ2xhc3Muc3BsaWNlKDAsIDEsICdhbmltYXRlZCBmYWRlT3V0JylcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICRzY29wZS5waG90b0NsYXNzLnNwbGljZSgwLCAxLCAnYW5pbWF0ZWQgZmFkZUluJylcbiAgICAgICAgJHNjb3BlLnNlbGVjdGVkID0gJHNjb3BlLnNsaWRlc1tpbmRleF0uaW1hZ2VcbiAgICAgICAgJHNjb3BlLnRpdGxlID0gJHNjb3BlLnNsaWRlc1tpbmRleF0udGl0bGVcbiAgICAgICAgJHNjb3BlLmNvbG9yID0gJHNjb3BlLnNsaWRlc1tpbmRleF0uY29sb3JcbiAgICAgIH0sIDUwMClcbiAgICB9XG5cbiAgICAkc2NvcGUucHJldmlvdXMgPSBmdW5jdGlvbigpe1xuICAgICAgaW5kZXgtLVxuICAgICAgaWYoaW5kZXggPCAwKXtcbiAgICAgICAgaW5kZXggPSA2XG4gICAgICB9XG4gICAgICAkc2NvcGUubmV4dFBob3RvID0gJHNjb3BlLnNsaWRlc1tpbmRleF0uaW1hZ2VcbiAgICAgICRzY29wZS5uZXh0VGl0bGUgPSAkc2NvcGUuc2xpZGVzW2luZGV4XS50aXRsZVxuICAgICAgJHNjb3BlLm5leHRDb2xvciA9ICRzY29wZS5zbGlkZXNbaW5kZXhdLmNvbG9yXG5cbiAgICAgICRzY29wZS5waG90b0NsYXNzLnNwbGljZSgwLCAxLCAnYW5pbWF0ZWQgZmFkZU91dCcpXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAkc2NvcGUucGhvdG9DbGFzcy5zcGxpY2UoMCwgMSwgJ2FuaW1hdGVkIGZhZGVJbicpXG4gICAgICAgICRzY29wZS5zZWxlY3RlZCA9ICRzY29wZS5zbGlkZXNbaW5kZXhdLmltYWdlXG4gICAgICAgICRzY29wZS50aXRsZSA9ICRzY29wZS5zbGlkZXNbaW5kZXhdLnRpdGxlXG4gICAgICAgICRzY29wZS5jb2xvciA9ICRzY29wZS5zbGlkZXNbaW5kZXhdLmNvbG9yXG4gICAgICB9LCA1MDApXG4gICAgfVxuICAgICRzY29wZS5uZXh0KClcbn0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2dyb3ZlbWFkZScpXG4uY29udHJvbGxlcignam91cm5hbEN0cmwnLCAoJHNjb3BlLCBob21lU3J2YywgJHN0YXRlUGFyYW1zKSA9PiB7XG5cblxuICBob21lU3J2Yy5nZXRKb3VybmFsKCkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAkc2NvcGUuam91cm5hbCA9IHJlc3BvbnNlLmRhdGE7XG4gICAgY29uc29sZS5sb2coJ0NUUkwnLCAkc2NvcGUuam91cm5hbCk7XG4gIH0pXG59KTtcbiIsImFuZ3VsYXIubW9kdWxlKCdncm92ZW1hZGUnKVxuLmNvbnRyb2xsZXIoJ3Nob3BDdHJsJywgKCRzY29wZSwgaG9tZVNydmMsICRzdGF0ZVBhcmFtcykgPT4ge1xuXG4gIGhvbWVTcnZjLmdldFNob3AoKS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICRzY29wZS5wcm9kdWN0cyA9IHJlc3BvbnNlLmRhdGE7XG4gICAgY29uc29sZS5sb2coJ0NUUkwnLCAkc2NvcGUucHJvZHVjdHMpO1xuICB9KVxuXG59KTtcbiJdfQ==
